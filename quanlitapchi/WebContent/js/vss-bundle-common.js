if (window.performance && window.performance.mark) { window.performance.mark('startLoadBundleInner-common'); }
/*!
 *
 * Copyright 2009-2012 Kris Kowal under the terms of the MIT
 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
(function(n){if(typeof bootstrap=="function")bootstrap("promise",n);else if(typeof exports=="object")module.exports=n();else if(typeof define=="function"&&define.amd)define("q",n);else if(typeof ses!="undefined")if(ses.ok())ses.makeQ=n;else return;else Q=n()})(function(){"use strict";function h(n){return function(){return wt.apply(n,arguments)}}function rt(n){return n===Object(n)}function ni(n){return gt(n)==="[object StopIteration]"||n instanceof k}function ut(n,t){var r,i,u;if(v&&t.stack&&typeof n=="object"&&n!==null&&n.stack&&n.stack.indexOf(d)===-1){for(r=[],i=t;!!i;i=i.source)i.stack&&r.unshift(i.stack);r.unshift(n.stack);u=r.join("\n"+d+"\n");n.stack=ti(u)}}function ti(n){for(var t,r=n.split("\n"),u=[],i=0;i<r.length;++i)t=r[i],ri(t)||ii(t)||!t||u.push(t);return u.join("\n")}function ii(n){return n.indexOf("(module.js:")!==-1||n.indexOf("(node.js:")!==-1}function ft(n){var r=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(n),t,i;return r?[r[1],Number(r[2])]:(t=/at ([^ ]+):(\d+):(?:\d+)$/.exec(n),t)?[t[1],Number(t[2])]:(i=/.*@(.+):(\d+)$/.exec(n),i?[i[1],Number(i[2])]:void 0)}function ri(n){var t=ft(n),r,i;return t?(r=t[0],i=t[1],r===tt&&i>=pt&&i<=vt):!1}function et(){if(v)try{throw new Error;}catch(i){var n=i.stack.split("\n"),r=n[0].indexOf("@")>0?n[1]:n[2],t=ft(r);return t?(tt=t[0],t[1]):void 0}}function ui(n,t,i){return function(){return typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(t+" is deprecated, use "+i+" instead.",new Error("").stack),n.apply(n,arguments)}}function n(n){return o(n)?n:ht(n)?ci(n):nt(n)}function r(){function a(n){e=n;s.source=n;y(c,function(t,i){u(function(){n.promiseDispatch.apply(n,i)})},void 0);c=void 0;l=void 0}var c=[],l=[],e,h=b(r.prototype),s=b(t.prototype);if(s.promiseDispatch=function(n,t,r){var f=i(arguments);c?(c.push(f),t==="when"&&r[1]&&l.push(r[1])):u(function(){e.promiseDispatch.apply(e,f)})},s.valueOf=function(){if(c)return s;var n=st(e);return o(n)&&(e=n),n},s.inspect=function(){return e?e.inspect():{state:"pending"}},n.longStackSupport&&v)try{throw new Error;}catch(p){s.stack=p.stack.substring(p.stack.indexOf("\n")+1)}return h.promise=s,h.resolve=function(t){e||a(n(t))},h.fulfill=function(n){e||a(nt(n))},h.reject=function(n){e||a(f(n))},h.notify=function(n){e||y(l,function(t,i){u(function(){i(n)})},void 0)},h}function s(n){if(typeof n!="function")throw new TypeError("resolver must be a function.");var t=r();try{n(t.resolve,t.reject,t.notify)}catch(i){t.reject(i)}return t.promise}function ot(t){return s(function(i,r){for(var u=0,f=t.length;u<f;u++)n(t[u]).then(i,r)})}function t(n,i,r){var u,e;return i===void 0&&(i=function(n){return f(new Error("Promise does not support operation: "+n))}),r===void 0&&(r=function(){return{state:"unknown"}}),u=b(t.prototype),u.promiseDispatch=function(t,r,e){var o;try{o=n[r]?n[r].apply(u,e):i.call(u,r,e)}catch(s){o=f(s)}t&&t(o)},u.inspect=r,r&&(e=r(),e.state==="rejected"&&(u.exception=e.reason),u.valueOf=function(){var n=r();return n.state==="pending"||n.state==="rejected"?u:n.value}),u}function e(t,i,r,u){return n(t).then(i,r,u)}function st(n){if(o(n)){var t=n.inspect();if(t.state==="fulfilled")return t.value}return n}function o(n){return rt(n)&&typeof n.promiseDispatch=="function"&&typeof n.inspect=="function"}function ht(n){return rt(n)&&typeof n.then=="function"}function fi(n){return o(n)&&n.inspect().state==="pending"}function ei(n){return!o(n)||n.inspect().state==="fulfilled"}function oi(n){return o(n)&&n.inspect().state==="rejected"}function g(){l.length=0;p.length=0;a||(a=!0)}function si(n,t){a&&(p.push(n),t&&typeof t.stack!="undefined"?l.push(t.stack):l.push("(no stack) "+t))}function hi(n){if(a){var t=bt(p,n);t!==-1&&(p.splice(t,1),l.splice(t,1))}}function f(n){var i=t({when:function(t){return t&&hi(this),t?t(n):this}},function(){return this},function(){return{state:"rejected",reason:n}});return si(i,n),i}function nt(n){return t({when:function(){return n},get:function(t){return n[t]},set:function(t,i){n[t]=i},"delete":function(t){delete n[t]},post:function(t,i){return t===null||t===void 0?n.apply(void 0,i):n[t].apply(n,i)},apply:function(t,i){return n.apply(t,i)},keys:function(){return dt(n)}},void 0,function(){return{state:"fulfilled",value:n}})}function ci(n){var t=r();return u(function(){try{n.then(t.resolve,t.reject,t.notify)}catch(i){t.reject(i)}}),t.promise}function li(i){return t({isDef:function(){}},function(n,t){return lt(i,n,t)},function(){return n(i).inspect()})}function ct(t,i,r){return n(t).spread(i,r)}function ai(n){return function(){function t(n,t){var o;if(typeof StopIteration=="undefined"){try{o=r[n](t)}catch(s){return f(s)}return o.done?o.value:e(o.value,i,u)}try{o=r[n](t)}catch(s){return ni(s)?s.value:f(s)}return e(o,i,u)}var r=n.apply(this,arguments),i=t.bind(t,"next"),u=t.bind(t,"throw");return i()}}function vi(t){n.done(n.async(t)())}function yi(n){throw new k(n);}function pi(n){return function(){return ct([this,c(arguments)],function(t,i){return n.apply(t,i)})}}function lt(t,i,r){return n(t).dispatch(i,r)}function c(n){return e(n,function(n){var i=0,t=r();return y(n,function(r,u,f){var s;o(u)&&(s=u.inspect()).state==="fulfilled"?n[f]=s.value:(++i,e(u,function(r){n[f]=r;--i==0&&t.resolve(n)},t.reject,function(n){t.notify({index:f,value:n})}))},void 0),i===0&&t.resolve(n),t.promise})}function at(t){return e(t,function(t){return t=w(t,n),e(c(w(t,function(n){return e(n,it,it)})),function(){return t})})}function wi(t){return n(t).allSettled()}function bi(t,i){return n(t).then(void 0,void 0,i)}function ki(t,i){return n(t).nodeify(i)}var v=!1,k,d,vt;try{throw new Error;}catch(yt){v=!!yt.stack}var pt=et(),tt,it=function(){},u=function(){function t(){for(var r,i;n.next;){n=n.next;r=n.task;n.task=void 0;i=n.domain;i&&(n.domain=void 0,i.enter());try{r()}catch(u){if(e){i&&i.exit();setTimeout(t,0);i&&i.enter();throw u;}else setTimeout(function(){throw u;},0)}i&&i.exit()}f=!1}var n={task:void 0,next:null},s=n,f=!1,i=void 0,e=!1,r,o;return u=function(n){s=s.next={task:n,domain:e&&process.domain,next:null};f||(f=!0,i())},typeof process!="undefined"&&process.nextTick?(e=!0,i=function(){process.nextTick(t)}):typeof setImmediate=="function"?i=typeof window!="undefined"?setImmediate.bind(window,t):function(){setImmediate(t)}:typeof MessageChannel!="undefined"?(r=new MessageChannel,r.port1.onmessage=function(){i=o;r.port1.onmessage=t;t()},o=function(){r.port2.postMessage(0)},i=function(){setTimeout(t,0);o()}):i=function(){setTimeout(t,0)},u}(),wt=Function.call;var i=h(Array.prototype.slice),y=h(Array.prototype.reduce||function(n,t){var i=0,r=this.length;if(arguments.length===1)do{if(i in this){t=this[i++];break}if(++i>=r)throw new TypeError;}while(1);for(;i<r;i++)i in this&&(t=n(t,this[i],i));return t}),bt=h(Array.prototype.indexOf||function(n){for(var t=0;t<this.length;t++)if(this[t]===n)return t;return-1}),w=h(Array.prototype.map||function(n,t){var i=this,r=[];return y(i,function(u,f,e){r.push(n.call(t,f,e,i))},void 0),r}),b=Object.create||function(n){function t(){}return t.prototype=n,new t},kt=h(Object.prototype.hasOwnProperty),dt=Object.keys||function(n){var t=[];for(var i in n)kt(n,i)&&t.push(i);return t},gt=h(Object.prototype.toString);k=typeof ReturnValue!="undefined"?ReturnValue:function(n){this.value=n};d="From previous event:";n.resolve=n;n.nextTick=u;n.longStackSupport=!1;n.defer=r;r.prototype.makeNodeResolver=function(){var n=this;return function(t,r){t?n.reject(t):arguments.length>2?n.resolve(i(arguments,1)):n.resolve(r)}};n.Promise=s;n.promise=s;s.race=ot;s.all=c;s.reject=f;s.resolve=n;n.passByCopy=function(n){return n};t.prototype.passByCopy=function(){return this};n.join=function(t,i){return n(t).join(i)};t.prototype.join=function(t){return n([this,t]).spread(function(n,t){if(n===t)return n;throw new Error("Can't join: not the same: "+n+" "+t);})};n.race=ot;t.prototype.race=function(){return this.then(n.race)};n.makePromise=t;t.prototype.toString=function(){return"[object Promise]"};t.prototype.then=function(t,i,e){function c(n){try{return typeof t=="function"?t(n):n}catch(i){return f(i)}}function l(n){if(typeof i=="function"){ut(n,h);try{return i(n)}catch(t){return f(t)}}return f(n)}function a(n){return typeof e=="function"?e(n):n}var h=this,o=r(),s=!1;return u(function(){h.promiseDispatch(function(n){s||(s=!0,o.resolve(c(n)))},"when",[function(n){s||(s=!0,o.resolve(l(n)))}])}),h.promiseDispatch(void 0,"when",[void 0,function(t){var i,r=!1;try{i=a(t)}catch(u){if(r=!0,n.onerror)n.onerror(u);else throw u;}r||o.notify(i)}]),o.promise};n.when=e;t.prototype.thenResolve=function(n){return this.then(function(){return n})};n.thenResolve=function(t,i){return n(t).thenResolve(i)};t.prototype.thenReject=function(n){return this.then(function(){throw n;})};n.thenReject=function(t,i){return n(t).thenReject(i)};n.nearer=st;n.isPromise=o;n.isPromiseAlike=ht;n.isPending=fi;t.prototype.isPending=function(){return this.inspect().state==="pending"};n.isFulfilled=ei;t.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"};n.isRejected=oi;t.prototype.isRejected=function(){return this.inspect().state==="rejected"};var l=[],p=[],a=!0;return n.resetUnhandledRejections=g,n.getUnhandledReasons=function(){return l.slice()},n.stopUnhandledRejectionTracking=function(){g();a=!1},g(),n.reject=f,n.fulfill=nt,n.master=li,n.spread=ct,t.prototype.spread=function(n,t){return this.all().then(function(t){return n.apply(void 0,t)},t)},n.async=ai,n.spawn=vi,n["return"]=yi,n.promised=pi,n.dispatch=lt,t.prototype.dispatch=function(n,t){var f=this,i=r();return u(function(){f.promiseDispatch(i.resolve,n,t)}),i.promise},n.get=function(t,i){return n(t).dispatch("get",[i])},t.prototype.get=function(n){return this.dispatch("get",[n])},n.set=function(t,i,r){return n(t).dispatch("set",[i,r])},t.prototype.set=function(n,t){return this.dispatch("set",[n,t])},n.del=n["delete"]=function(t,i){return n(t).dispatch("delete",[i])},t.prototype.del=t.prototype["delete"]=function(n){return this.dispatch("delete",[n])},n.mapply=n.post=function(t,i,r){return n(t).dispatch("post",[i,r])},t.prototype.mapply=t.prototype.post=function(n,t){return this.dispatch("post",[n,t])},n.send=n.mcall=n.invoke=function(t,r){return n(t).dispatch("post",[r,i(arguments,2)])},t.prototype.send=t.prototype.mcall=t.prototype.invoke=function(n){return this.dispatch("post",[n,i(arguments,1)])},n.fapply=function(t,i){return n(t).dispatch("apply",[void 0,i])},t.prototype.fapply=function(n){return this.dispatch("apply",[void 0,n])},n["try"]=n.fcall=function(t){return n(t).dispatch("apply",[void 0,i(arguments,1)])},t.prototype.fcall=function(){return this.dispatch("apply",[void 0,i(arguments)])},n.fbind=function(t){var r=n(t),u=i(arguments,1);return function(){return r.dispatch("apply",[this,u.concat(i(arguments))])}},t.prototype.fbind=function(){var n=this,t=i(arguments);return function(){return n.dispatch("apply",[this,t.concat(i(arguments))])}},n.keys=function(t){return n(t).dispatch("keys",[])},t.prototype.keys=function(){return this.dispatch("keys",[])},n.all=c,t.prototype.all=function(){return c(this)},n.allResolved=ui(at,"allResolved","allSettled"),t.prototype.allResolved=function(){return at(this)},n.allSettled=wi,t.prototype.allSettled=function(){return this.then(function(t){return c(w(t,function(t){function i(){return t.inspect()}return t=n(t),t.then(i,i)}))})},n.fail=n["catch"]=function(t,i){return n(t).then(void 0,i)},t.prototype.fail=t.prototype["catch"]=function(n){return this.then(void 0,n)},n.progress=bi,t.prototype.progress=function(n){return this.then(void 0,void 0,n)},n.fin=n["finally"]=function(t,i){return n(t)["finally"](i)},t.prototype.fin=t.prototype["finally"]=function(t){return t=n(t),this.then(function(n){return t.fcall().then(function(){return n})},function(n){return t.fcall().then(function(){throw n;})})},n.done=function(t,i,r,u){return n(t).done(i,r,u)},t.prototype.done=function(t,i,r){var f=function(t){u(function(){if(ut(t,e),n.onerror)n.onerror(t);else throw t;})},e=t||i||r?this.then(t,i,r):this;typeof process=="object"&&process&&process.domain&&(f=process.domain.bind(f));e.then(void 0,f)},n.timeout=function(t,i,r){return n(t).timeout(i,r)},t.prototype.timeout=function(n,t){var i=r(),u=setTimeout(function(){i.reject(new Error(t||"Timed out after "+n+" ms"))},n);return this.then(function(n){clearTimeout(u);i.resolve(n)},function(n){clearTimeout(u);i.reject(n)},i.notify),i.promise},n.delay=function(t,i){return i===void 0&&(i=t,t=void 0),n(t).delay(i)},t.prototype.delay=function(n){return this.then(function(t){var i=r();return setTimeout(function(){i.resolve(t)},n),i.promise})},n.nfapply=function(t,i){return n(t).nfapply(i)},t.prototype.nfapply=function(n){var t=r(),u=i(n);return u.push(t.makeNodeResolver()),this.fapply(u).fail(t.reject),t.promise},n.nfcall=function(t){var r=i(arguments,1);return n(t).nfapply(r)},t.prototype.nfcall=function(){var t=i(arguments),n=r();return t.push(n.makeNodeResolver()),this.fapply(t).fail(n.reject),n.promise},n.nfbind=n.denodeify=function(t){var u=i(arguments,1);return function(){var e=u.concat(i(arguments)),f=r();return e.push(f.makeNodeResolver()),n(t).fapply(e).fail(f.reject),f.promise}},t.prototype.nfbind=t.prototype.denodeify=function(){var t=i(arguments);return t.unshift(this),n.denodeify.apply(void 0,t)},n.nbind=function(t,u){var f=i(arguments,2);return function(){function s(){return t.apply(u,arguments)}var o=f.concat(i(arguments)),e=r();return o.push(e.makeNodeResolver()),n(s).fapply(o).fail(e.reject),e.promise}},t.prototype.nbind=function(){var t=i(arguments,0);return t.unshift(this),n.nbind.apply(void 0,t)},n.nmapply=n.npost=function(t,i,r){return n(t).npost(i,r)},t.prototype.nmapply=t.prototype.npost=function(n,t){var f=i(t||[]),u=r();return f.push(u.makeNodeResolver()),this.dispatch("post",[n,f]).fail(u.reject),u.promise},n.nsend=n.nmcall=n.ninvoke=function(t,u){var e=i(arguments,2),f=r();return e.push(f.makeNodeResolver()),n(t).dispatch("post",[u,e]).fail(f.reject),f.promise},t.prototype.nsend=t.prototype.nmcall=t.prototype.ninvoke=function(n){var u=i(arguments,1),t=r();return u.push(t.makeNodeResolver()),this.dispatch("post",[n,u]).fail(t.reject),t.promise},n.nodeify=ki,t.prototype.nodeify=function(n){if(n)this.then(function(t){u(function(){n(null,t)})},function(t){u(function(){n(t)})});else return this},vt=et(),n});
// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/Common/Contracts/Platform",["require","exports"],function(n,t){var i,r,u;(function(n){n[n.Unknown=0]="Unknown";n[n.Deployment=1]="Deployment";n[n.Application=2]="Application";n[n.ProjectCollection=4]="ProjectCollection"})(t.ContextHostType||(t.ContextHostType={}));i=t.ContextHostType,function(n){n[n.Default=0]="Default";n[n.Resource=1]="Resource"}(t.ContributionPathType||(t.ContributionPathType={}));r=t.ContributionPathType,function(n){n[n.None=0]="None";n[n.Deployment=1]="Deployment";n[n.Application=2]="Application";n[n.Collection=4]="Collection";n[n.Project=8]="Project";n[n.Team=16]="Team";n[n.ApplicationAll=30]="ApplicationAll";n[n.All=31]="All"}(t.NavigationContextLevels||(t.NavigationContextLevels={}));u=t.NavigationContextLevels;t.TypeInfo={AccessPointModel:{fields:null},ActiveExtensionsData:{fields:null},AppInsightsConfiguration:{fields:null},AppInsightsCustomTrackPageData:{fields:null},ConfigurationContext:{fields:null},ConfigurationContextApis:{fields:null},ConfigurationContextPaths:{fields:null},ContextHostType:{enumValues:{unknown:0,deployment:1,application:2,projectCollection:4}},ContextIdentifier:{fields:null},ContributedHub:{fields:null},ContributedHubGroup:{fields:null},ContributedHubGroupCollection:{fields:null},ContributedNavElement:{fields:null},ContributedPage:{fields:null},ContributedServiceContext:{fields:null},ContributionPath:{fields:null},ContributionPathType:{enumValues:{"default":0,resource:1}},CoreReferencesContext:{fields:null},DaylightSavingsAdjustmentEntry:{fields:null},DiagnosticsContext:{fields:null},DynamicBundlesCollection:{fields:null},DynamicCSSBundle:{fields:null},DynamicScriptBundle:{fields:null},ExtendedHostContext:{fields:null},FeatureAvailabilityContext:{fields:null},GlobalizationContext:{fields:null},HeaderModel:{fields:null},HostContext:{fields:null},Hub:{fields:null},HubGroup:{fields:null},HubsContext:{fields:null},IdentityModel:{fields:null},JavascriptFileReference:{fields:null},JsonArrayWrapper:{fields:null},MicrosoftAjaxConfig:{fields:null},ModuleLoaderConfiguration:{fields:null},ModuleLoaderShimConfiguration:{fields:null},NavigationContext:{fields:null},NavigationContextLevels:{enumValues:{none:0,deployment:1,application:2,collection:4,project:8,team:16,applicationAll:30,all:31}},PageContext:{fields:null},PinningPreferences:{fields:null},ServiceLocations:{fields:null},StylesheetReference:{fields:null},TeamContext:{fields:null},TeamFoundationServiceHostModel:{fields:null},TfsMailSettings:{fields:null},TfsServiceHostDescriptor:{fields:null},TimeZonesConfiguration:{fields:null},UserContext:{fields:null},WebContext:{fields:null},WebPageDataProviderPageSource:{fields:null}};t.TypeInfo.AppInsightsConfiguration.fields={customTrackPageData:{typeInfo:t.TypeInfo.AppInsightsCustomTrackPageData}};t.TypeInfo.ConfigurationContext.fields={paths:{typeInfo:t.TypeInfo.ConfigurationContextPaths},api:{typeInfo:t.TypeInfo.ConfigurationContextApis},mailSettings:{typeInfo:t.TypeInfo.TfsMailSettings}};t.TypeInfo.ContributedHubGroup.fields={hubs:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.ContributedHub}};t.TypeInfo.ContributedHubGroupCollection.fields={hubGroups:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.ContributedHubGroup}};t.TypeInfo.ContributedPage.fields={hubGroupCollections:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.ContributedHubGroupCollection}};t.TypeInfo.ContributedServiceContext.fields={serviceLocations:{typeInfo:t.TypeInfo.ServiceLocations},featureAvailability:{typeInfo:t.TypeInfo.FeatureAvailabilityContext},bundles:{typeInfo:t.TypeInfo.DynamicBundlesCollection},moduleLoaderConfig:{typeInfo:t.TypeInfo.ModuleLoaderConfiguration},paths:{typeInfo:t.TypeInfo.ConfigurationContextPaths}};t.TypeInfo.ContributionPath.fields={pathType:{enumType:t.TypeInfo.ContributionPathType}};t.TypeInfo.CoreReferencesContext.fields={stylesheets:{isArray:!0,typeInfo:t.TypeInfo.StylesheetReference},scripts:{isArray:!0,typeInfo:t.TypeInfo.JavascriptFileReference},coreScriptsBundle:{typeInfo:t.TypeInfo.JavascriptFileReference},extensionCoreReferences:{typeInfo:t.TypeInfo.JavascriptFileReference}};t.TypeInfo.DaylightSavingsAdjustmentEntry.fields={start:{isDate:!0}};t.TypeInfo.DynamicBundlesCollection.fields={scripts:{isArray:!0,typeInfo:t.TypeInfo.DynamicScriptBundle},styles:{isArray:!0,typeInfo:t.TypeInfo.DynamicCSSBundle}};t.TypeInfo.ExtendedHostContext.fields={hostType:{enumType:t.TypeInfo.ContextHostType}};t.TypeInfo.HubsContext.fields={hubGroups:{isArray:!0,typeInfo:t.TypeInfo.HubGroup},hubs:{isArray:!0,typeInfo:t.TypeInfo.Hub},allHubs:{isArray:!0,typeInfo:t.TypeInfo.Hub},pinningPreferences:{typeInfo:t.TypeInfo.PinningPreferences}};t.TypeInfo.ModuleLoaderConfiguration.fields={contributionPaths:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.ContributionPath},shim:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.ModuleLoaderShimConfiguration}};t.TypeInfo.NavigationContext.fields={topMostLevel:{enumType:t.TypeInfo.NavigationContextLevels}};t.TypeInfo.PageContext.fields={webContext:{typeInfo:t.TypeInfo.WebContext},moduleLoaderConfig:{typeInfo:t.TypeInfo.ModuleLoaderConfiguration},coreReferences:{typeInfo:t.TypeInfo.CoreReferencesContext},webAccessConfiguration:{typeInfo:t.TypeInfo.ConfigurationContext},microsoftAjaxConfig:{typeInfo:t.TypeInfo.MicrosoftAjaxConfig},timeZonesConfiguration:{typeInfo:t.TypeInfo.TimeZonesConfiguration},featureAvailability:{typeInfo:t.TypeInfo.FeatureAvailabilityContext},appInsightsConfiguration:{typeInfo:t.TypeInfo.AppInsightsConfiguration},diagnostics:{typeInfo:t.TypeInfo.DiagnosticsContext},navigation:{typeInfo:t.TypeInfo.NavigationContext},globalization:{typeInfo:t.TypeInfo.GlobalizationContext},hubsContext:{typeInfo:t.TypeInfo.HubsContext},serviceLocations:{typeInfo:t.TypeInfo.ServiceLocations}};t.TypeInfo.ServiceLocations.fields={locations:{isDictionary:!0,dictionaryValueFieldInfo:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.ContextHostType}}};t.TypeInfo.TimeZonesConfiguration.fields={daylightSavingsAdjustments:{isArray:!0,typeInfo:t.TypeInfo.DaylightSavingsAdjustmentEntry}};t.TypeInfo.WebContext.fields={user:{typeInfo:t.TypeInfo.UserContext},team:{typeInfo:t.TypeInfo.TeamContext},project:{typeInfo:t.TypeInfo.ContextIdentifier},collection:{typeInfo:t.TypeInfo.HostContext},account:{typeInfo:t.TypeInfo.HostContext},host:{typeInfo:t.TypeInfo.ExtendedHostContext}};t.TypeInfo.WebPageDataProviderPageSource.fields={navigation:{typeInfo:t.TypeInfo.NavigationContext},project:{typeInfo:t.TypeInfo.ContextIdentifier},team:{typeInfo:t.TypeInfo.ContextIdentifier},diagnostics:{typeInfo:t.TypeInfo.DiagnosticsContext}}});
define("VSS/Serialization",["require","exports"],function(n,t){function r(n,t,r){var u,f;return r===void 0&&(r=!1),u=null,n&&n.length&&(f=n.html(),u=i.deserialize(JSON.parse(f),t,!0),r&&n.remove()),u}var i;(function(n){function o(n,r,u){return u===void 0&&(u=!0),n&&r?$.isArray(n)?i(n,r,!0,u):t(n,r,!0,u):n}function s(n,r,u,f){return u===void 0&&(u=!0),f===void 0&&(f=!1),n&&(f&&$.isArray(n.value)&&(n=n.value),r&&(n=$.isArray(n)?i(n,r,!1,u):t(n,r,!1,u))),n}function i(n,r,u,f){var e=n,o=[];return $.each(n,function(s,h){var c;c=$.isArray(h)?i(h,r,u,f):t(h,r,u,f);f?(o.push(c),c!==h&&(e=o)):n[s]=c}),e}function t(n,t,i,r){var u=n,f=!1;return n&&t.fields&&$.each(t.fields,function(t,o){var s=n[t],h=e(s,o,i,r);s!==h&&(r&&!f&&(u=$.extend({},n),f=!0),u[t]=h)}),u}function e(n,f,o,s){var h,c,l,a;return n?f.isArray?$.isArray(n)?(h=[],c=n,$.each(n,function(e,l){var a=l;f.isDate?a=u(l,o):f.enumType?a=r(f.enumType,l,o):f.typeInfo&&(a=$.isArray(l)?i(l,f.typeInfo,o,s):t(l,f.typeInfo,o,s));s?(h.push(a),a!==l&&(c=h)):n[e]=a}),c):n:f.isDictionary?(l=!1,a={},$.each(n,function(n,i){var c=n,h=i;f.dictionaryKeyIsDate?c=u(n,o):f.dictionaryKeyEnumType&&(c=r(f.dictionaryKeyEnumType,n,o));f.dictionaryValueIsDate?h=u(i,o):f.dictionaryValueEnumType?h=r(f.dictionaryValueEnumType,i,o):f.dictionaryValueTypeInfo?h=t(h,f.dictionaryValueTypeInfo,o,s):f.dictionaryValueFieldInfo&&(h=e(i,f.dictionaryValueFieldInfo,o,s));a[c]=h;(n!==c||i!==h)&&(l=!0)}),l?a:n):f.isDate?u(n,o):f.enumType?r(f.enumType,n,o):f.typeInfo?t(n,f.typeInfo,o,s):n:n}function r(n,t,i){if((!i||typeof t!="number")&&!i&&typeof t=="string"&&isNaN(parseInt(t))){var r=0;return t&&$.each(t.split(","),function(t,i){var f=$.trim(i)||"",u,e;f&&(u=n.enumValues[f],u||(e=f.toLowerCase(),e!==f&&$.each(n.enumValues,function(n,t){if(n.toLowerCase()===e)return u=t,!1})),u&&(r|=u))}),r}return t}function u(n,t){if(t&&n instanceof Date&&Date.prototype.toISOString)return n.toISOString();if(!t&&typeof n=="string"){var i=new Date(n);return isNaN(i)&&navigator.userAgent&&/msie/i.test(navigator.userAgent)&&(i=h(n)),i}return n}function h(n){var t;return f||(f=new RegExp("(\\d+)-(\\d+)-(\\d+)T(\\d+):(\\d+):(\\d+).(\\d+)Z")),t=f.exec(n),t?new Date(Date.UTC(parseInt(t[1]),parseInt(t[2])-1,parseInt(t[3]),parseInt(t[4]),parseInt(t[5]),parseInt(t[6]),parseInt(t[7]))):null}var f;n.serialize=o;n.deserialize=s})(i=t.ContractSerializer||(t.ContractSerializer={}));t.deserializeJsonIsland=r});
define("VSS/Context",["require","exports","VSS/Common/Contracts/Platform","q","VSS/Serialization"],function(n,t,i,r,u){function et(n){var t=n.find("script.tfs-context").eq(0).html(),r;return t?(r=JSON.parse(t),u.ContractSerializer.deserialize(r,i.TypeInfo.WebContext,!1)):null}function b(){return p||(w=window.__vssPageContext,p=!0),w}function ot(){var n=f();return n?n.webContext:null}function f(){if(!a){var n=b();n&&(a=u.ContractSerializer.deserialize(n,i.TypeInfo.PageContext,!0))}return a}function st(){return f().hubsContext}function ht(n){var t=(n||"").toLowerCase();return k()[t]}function ct(n,t){var i=k();t&&!i[n]&&(i[n.toLowerCase()]=t)}function k(){if(!s){s={};var n=f();n.serviceInstanceId&&(s[n.serviceInstanceId.toLowerCase()]=n.webAccessConfiguration.paths)}return s}function d(n){l||(l={});var t=l[n];return t||(t=[],l[n]=t),t}function y(n,t){var i=ut();i[n]||(i[n]=t)}function lt(n,t,i){var r,u=f(),o;return n&&(r=ut()[n],!r&&u.webAccessConfiguration.isHosted&&window.console&&console.warn('No css url was mapped for css module prefix "'+n+'". Requested module: "'+n+":"+t+'".')),r||(window.top!==window.self?(o=u.webContext.host,r=o.scheme+"://"+o.authority):r="",r=e(r,u.webAccessConfiguration.paths.staticRootTfs)),i||(rt()?i="HighContrast":(u.globalization&&(i=u.globalization.theme),i||(i="Default"))),e(r,"App_Themes/"+i+"/"+t+".css")}function at(n){var t=(n||"").toLowerCase();return g()[t]}function g(){var n,t;return c||(c={},n=f(),n.serviceInstanceId&&(t=n.webContext.account?n.webContext.account.uri:n.webContext.host.uri,c[n.serviceInstanceId.toLowerCase()]=t)),c}function nt(){return window.top!==window.self&&!!(window.VSS&&window.VSS.VssSDKVersion)}function vt(n){for(var t,r=tt(),i=n.split("/");i.length>0;){if(t=r[i.join("/")],typeof t!="undefined")break;i.pop()}return typeof t=="undefined"&&!nt()?f().serviceInstanceId||"":t}function tt(){if(!h){h={};var n=f();n.moduleLoaderConfig&&it(h,n.moduleLoaderConfig,n.serviceInstanceId||"")}return h}function it(n,t,i){t.contributionPaths&&$.each(t&&t.contributionPaths,function(t){n[t]||(n[t]=i)});t.paths&&$.each(t&&t.paths,function(t){n[t]||(n[t]=i)})}function rt(){if(o===null){o=!1;var n=$("<span class='high-contrast-test' style='width:0;height:0' />").appendTo(document.body);n.css("background-image")==="none"&&(o=!0);n.remove()}return o}function ut(){if(!v){v={};var n=f();n.cssModulePrefixes&&$.each(n.cssModulePrefixes,function(t,i){y(i,n.webAccessConfiguration.paths.staticRootTfs)})}return v}function yt(t){var i=f(),o=t.serviceRootUrl,u,s;return i.webAccessConfiguration.isHosted?t.serviceTypeId&&(g()[t.serviceTypeId.toLowerCase()]=o):o="",t.moduleLoaderConfig&&(it(tt(),t.moduleLoaderConfig,t.serviceTypeId||""),wt(i,t.moduleLoaderConfig,o,t.serviceTypeId)),t.featureAvailability&&t.featureAvailability.featureStates&&(i.featureAvailability&&i.featureAvailability.featureStates?i.featureAvailability.featureStates=$.extend(t.featureAvailability.featureStates,i.featureAvailability.featureStates):i.featureAvailability=t.featureAvailability),t.serviceLocations&&(u=i.serviceLocations,i.serviceLocations||(u={},i.serviceLocations=u),$.each(t.serviceLocations.locations||[],function(n,t){u.locations[n]?$.each(t,function(t,i){u.locations[n][t]||(u.locations[n][t]=i)}):u.locations[n]=t})),t.cssModulePrefixes&&t.paths&&pt(t.cssModulePrefixes,e(o,t.paths.staticRootTfs)),t.paths&&t.serviceTypeId&&ct(t.serviceTypeId,t.paths),s=r.defer(),t.bundles?n(["VSS/Bundling"],function(n){n.injectBundles(t.bundles,o).then(s.resolve)}):s.resolve(null),s.promise}function pt(n,t){$.each(n,function(n,i){y(i,t)})}function wt(n,t,i,r){var s=!1,h=n.moduleLoaderConfig.baseUrl,c=n.webContext.account?n.webContext.account.uri:n.webContext.host.uri,o={paths:{}},u,f;u=window.self===window.top?n.moduleLoaderConfig||{}:window.__vssModuleLoaderConfig||{};u.paths||(u.paths={});u.contributionPaths||(u.contributionPaths={});u.shim||(u.shim={});f=t.baseUrl||"/";f=f===h&&c===i&&window.top===window.self?null:e(i,f);t.paths&&$.each(t.paths,function(n,t){bt(u,n,t,o,f,i)&&(s=!0)});t.contributionPaths&&$.each(t.contributionPaths,function(n,t){kt(u,n,t.value,o,f,i,r)&&(s=!0)});t.shim&&(o.shim={},$.each(t.shim,function(n,t){u.shim[n]||(o.shim[n]=t,u.shim[n]=t,s=!0)}));s&&window.require.config(o)}function e(n,t){var i=n||"";if(i[i.length-1]!=="/"&&(i+="/"),t){if(t.match("^https?://"))return t;i+=t[0]==="/"?t.substr(1):t}return i}function ft(n,t,i){return t&&!n.match("^https?://")?n[0]==="/"?e(i,n):e(t,n):n}function bt(n,t,i,r,u,f){if(!n.paths[t]&&!n.contributionPaths[t]){var e=ft(i,u,f);return r.paths[t]=e,n.paths[t]=e,!0}return!1}function kt(n,t,i,r,u,f,e){if(!n.contributionPaths[t]){var o=ft(i,u,f);if(n.contributionPaths[t]={pathType:null,value:o},e&&d(e).push(t),!n.paths[t])return r.paths[t]=o,n.paths[t]=o,!0}return!1}var p=!1,w,a,v,s,h,c,l,o;t.parseWebContext=et;t._getDefaultRawPageContext=b;t.getDefaultWebContext=ot;t.getPageContext=f;t.getHubsContext=st;t.getPathsForService=ht;t.getContributionPathsForService=d;t.addCssModulePrefixMapping=y;t.getCssModuleUrl=lt;t.getContributedServiceRootUrl=at;t.isExtensionFrame=nt;t.getScriptModuleOwner=vt;o=null;t.isHighContrastMode=rt;t.processContributedServiceContext=yt});
define("VSS/Resources/VSS.Resources.TFSSeedFileResources",["require","exports"],function(require,exports){var e=exports;e.ErrorPaneCloseLink="Close [x]";e.ModuleScriptErrorFormat="Module \u0027{0}\u0027 cannot be loaded. This may be due to lost connectivity or an incomplete or corrupted download of the file.  Try refreshing your browser or clearing your browser cache to retrieve the file again.";e.CircularDependencyErrorFormat="There is a circular dependency between TFS script modules {0} and {1}.";e.SessionInfoMessage="Session Id: {0}";e.UnknownServerErrorMessage="Unknown server error occured.";e.UnknownErrorMessage="Unknown error.";e.ErrorPaneHeader="Error(s):";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/VSS",["require","exports","VSS/Context","q","VSS/Resources/VSS.Resources.TFSSeedFileResources"],function(n,t,i,r,u){function g(n,t,i,r){function a(n,t,i){var r;return(n||t)&&(r=v++,o++,f[r]=[n,t,i]),r}function s(){var t,i,u=c?0:l?1:-1,r,s,h=!1;if(u>=0){for(t in f)f.hasOwnProperty(t)&&(i=f[t],r=i[u],r&&(s=i[2],r.apply(n,(e||[]).concat([s])),h=!0));f={};o=0}return h}var f={},h,o=0,v=0,e,c=!1,l=!1;return h=a(t,i,r),{cookie:h,count:function(){return o},finish:function(){c=!0;e=Array.prototype.slice.call(arguments,0);s()},error:function(){l=!0;e=Array.prototype.slice.call(arguments,0);e.length===0&&(e=[new Error(u.UnknownServerErrorMessage)]);s()||it(e[0],null,n)},register:function(n,t,i){var r=a(n,t,i);return r&&s(),r},unregister:function(n){o--;delete f[n]}}}function lt(n,t,i,r,u,f){function s(n){t[i]=n;o.finish(n)}function h(n){t[i]=null;o.error(n)}var e=t[i],o;f&&e===null||typeof e=="undefined"?(o=g(n,r,u),t[i]=o.register,f.call(n,s,h)):$.isFunction(e)?e(r,u):$.isFunction(r)&&r.call(n,e)}function at(n){return n!==null&&n!==undefined&&!$.isFunction(n)}function nt(n){return n?typeof n=="string"?n:$.isFunction(n)?nt(n()):n.message?n.message:n.toString():u.UnknownErrorMessage}function it(n,i,r){$.isFunction(i)?i.call(r,n):t.errorHandler.show(n)}function vt(){return k}function ft(n,t,i,r){return function(){var u=this.base,f=this.baseConstructor,e=this._base;this.base=i;this.baseConstructor=r;this._base=function(){return t.apply(this,Array.prototype.slice.call(arguments,0))};try{return n.apply(this,Array.prototype.slice.call(arguments,0))}finally{this.base=u;this.baseConstructor=f;this._base=e}}}function o(n,t,i,r){var u,f;for(u in t)u!=="__name"&&t.hasOwnProperty(u)&&(f=t[u],n[u]=i&&typeof f=="function"&&typeof i[u]=="function"?ft(f,i[u],i,r):f);return n}function yt(n,t){o(n,t,null,null)}function pt(n){var t,i;return n.__name||(n.__name="_type_"+ct++,b&&(t=n.name,t||(i=n.toString(),t=i.substring(9,i.indexOf("("))),t&&(n.__name+="_"+t))),n.__name}function wt(n,t){var i,r;for(i in t)i!=="__name"&&t.hasOwnProperty(i)&&(r=t[i],n.prototype[i]=r)}function y(n){var t,i;return e&&(t=e[n],!t&&(i=n.lastIndexOf("."),i>0))?y(n.substring(0,i)):t||""}function et(n){return y(n)+n}function ot(n,t){var i=s[n],r;bt[t]=n;i||(i=[],s[n]=i);t.indexOf("/")<0?(r=et(t),i.push(r)):i.push(t)}function st(t,i){h?n(["VSS/Bundling"],function(n){n.requireModules(t).spread(function(){i.apply(this,arguments)})}):n(t,i)}function ht(t,i){return r.Promise(function(r){h?n(["VSS/Bundling"],function(n){n.requireModules(t,i).spread(function(){r(arguments)})}):n(t,function(){r(arguments)})})}function gt(n,t){for(var f=n.split("."),e=window,i,u,r=0;r<f.length;r++)i=e[f[r]],i||(i={},e[f[r]]=i),e=i;if(i&&t)for(u in t)t.hasOwnProperty(u)&&(i[u]=t[u]);return i}function w(n,t){var i=s[n];kt[n]=!0;gt(n,t);i&&(st(i,function(){}),delete s[n])}var b=!1,h=!1,k=!1,ct=0,f=i.getPageContext(),d,tt,c,rt,ut,l,a,v,e,dt;f&&(f.globalization&&(t.uiCulture=f.globalization.culture),f.diagnostics&&(b=f.diagnostics.debugMode,h=f.diagnostics.bundlingEnabled)),function(n){n.ServerException="TFS.ServerException"}(d||(d={}));t.queueCallbacks=g;t.queueRequest=lt;t.queuedRequestHasResult=at;t.getErrorMessage=nt;tt=5e3;c=function(){function n(){this.$error=null;this.visible=!1;this._errorPublishers=[]}return n.prototype.initialize=function(){var n=this;this.attachWindowErrorHandler();this.attachQPromiseErrorHandler();this.$error=$(".error-section").bind("keydown",function(t){if(t.keyCode===27)return n.hideError(),!1})},n.prototype.attachWindowErrorHandler=function(){var t=this,n,i=function(i,r,u,f,e){if(f){var o={name:e&&e.name||i,message:e&&e.message||i,source:r,lineNumber:u,columnNumber:f,stack:e&&e.stack||"",errorType:"UnhandledException"};t.publishError(o)}return n?n.apply(t,[i,r,u,f,e]):!1};n=window.onerror;window.onerror=i},Object.defineProperty(n,"ignoreRejectedPromiseTag",{get:function(){return"__ignoreRejectionOk__"},enumerable:!0,configurable:!0}),n.prototype.attachQPromiseErrorHandler=function(){var i=this,t=function(){var u=r.getUnhandledReasons();u&&u.length&&(r.resetUnhandledRejections(),u.forEach(function(t){if(t=t||"",!t.indexOf||!(t.indexOf(n.ignoreRejectedPromiseTag)>=0)){var r={name:"UnhandledQRejection",message:t.message||t,stack:t.stack||t,errorType:"UnhandledQRejection"};window.console&&console.warn(t);i.publishError(r)}}));window.setTimeout(t,tt)};t()},n.prototype.publishError=function(n){$.each(this._errorPublishers,function(t,i){i.publishError(n)})},n.prototype.exists=function(){return this.$error.length>0},n.prototype.showError=function(n,t,i){function h(r){var f="";t&&(f=t+": ");n&&(f=f+n);e=$("<li>").text(f).appendTo(r);i&&$("<pre>").text(i).appendTo(e);s&&$("<pre>").text(u.SessionInfoMessage.replace("{0}",s)).appendTo(e)}var o=this,r,e,s=f&&f.diagnostics&&f.diagnostics.sessionId||"";this.visible||(this.visible=!0,this.$error.empty(),$("<div tabIndex=0 />").addClass("close").text(u.ErrorPaneCloseLink).appendTo(this.$error).click(function(){o.hideError()}).keydown(function(n){if(n.which===13)return o.hideError(),!1}),r=$("<div>").addClass("message").appendTo(this.$error),$("<h4>").text(u.ErrorPaneHeader).appendTo(r),$("<ul>").addClass("error-list").appendTo(r));h($("ul.error-list",this.$error));this.$error.show().focus()},n.prototype.hideError=function(){$("p",this.$error).remove();this.$error.hide();this.visible=!1},n.prototype.show=function(n){n.errorType="ExceptionFromErrorHandler";this.publishError(n);this.exists()?this.showError(n.message,n.status,n.stack):alert(n.message)},n.prototype.attachErrorPublisher=function(n){$.inArray(n,this._errorPublishers)===-1&&this._errorPublishers.push(n)},n.prototype.detachErrorPublisher=function(n){var t=$.inArray(n,this._errorPublishers);t!==-1&&this._errorPublishers.splice(t,1)},n}();t.ErrorHandler=c;t.errorHandler=new c;t.handleError=it;rt=function(){function n(){}return n}();t.ClientActivtyStatistic=rt;ut=function(){function n(){}return n}();t.ActivtyStatistic=ut;l=function(){function n(){}return n.prototype.addActivtyStatsCollectionAllowedCallback=function(){},n.prototype.actionStarted=function(){return 0},n.prototype.actionCompleted=function(){},n.prototype.logActivity=function(){},n.prototype.getClientStatistics=function(){return{}},n.prototype.getActivtyStatistics=function(){return[]},n.prototype.clearStats=function(){},n.prototype.collectStats=function(){},n.prototype.getCurrentPage=function(){return null},n.prototype.setCurrentPage=function(){},n.prototype.isCollectingStats=function(){return!1},n.ACTIVITY_COLLECTION_STATUS="TFS.ActivityCollectionStatus",n.ACTIVITY_ID_STORAGE_ITEM="TFS.ActivityIdStats",n.ACTIVITY_CLIENT_STATE_STORAGE_ITEM="TFS.ClientActivityIdStats",n.CURRENT_PAGE="TFS.CurrentPageActivity",n}();t.ActivtyStatsCollector=l;t.activtyStatsCollector=new l;a=function(){function n(){this._progressPendingActions=null;this._progressPendingActionsCount=0;this._progressPendingActionsNewId=0;this._pageProgressElements=null;this._pageProgressDelayShowTimeout=null;this._pageProgressMinShowTimeout=null;this._showingProgress=!1;var n=this;this._progressPendingActions={};this._pageProgressElements=[];$(function(){var t=$(".pageProgressIndicator");t.length>0&&n._addProgressElement(t)})}return n.prototype.getProgressElements=function(){return this._pageProgressElements},n.prototype.registerProgressElement=function(n){this._addProgressElement(n);this._showingProgress?n.css("visibility","visible"):n.css("visibility","hidden")},n.prototype.unRegisterProgressElement=function(n){if(this._pageProgressElements)for(var t=0,t=0;t<this._pageProgressElements.length;t++)if(this._pageProgressElements[t]===n){this._pageProgressElements.splice(t,1);break}},n.prototype._addProgressElement=function(n){this._pageProgressElements.push(n)},n.prototype._showProgressElements=function(){var n=this,t=this._pageProgressElements;this._progressPendingActionsCount!==0&&(this._showingProgress=!0,t.length!==0)&&($.each(t,function(n,t){t.css("visibility","visible")}),this._pageProgressMinShowTimeout||(this._pageProgressMinShowTimeout=window.setTimeout(function(){n._pageProgressMinShowTimeout=null;n._progressPendingActionsCount===0&&n._hideProgressElements()},250)))},n.prototype._hideProgressElements=function(){this._showingProgress=!1;$.each(this._pageProgressElements,function(n,t){t.css("visibility","hidden")})},n.prototype.actionStarted=function(n,t){var i=this,r=++this._progressPendingActionsNewId;return this._progressPendingActions[r]=n,this._progressPendingActionsCount++==0&&(t===!0?(this._pageProgressDelayShowTimeout&&(window.clearTimeout(this._pageProgressDelayShowTimeout),this._pageProgressDelayShowTimeout=null),this._showProgressElements()):this._pageProgressDelayShowTimeout||(this._pageProgressDelayShowTimeout=window.setTimeout(function(){i._pageProgressDelayShowTimeout=null;i._showProgressElements()},250))),r},n.prototype.actionCompleted=function(n){delete this._progressPendingActions[n];--this._progressPendingActionsCount!=0||this._pageProgressMinShowTimeout||this._hideProgressElements()},n.prototype.getPendingActions=function(){var n=[];return $.each(this._progressPendingActions,function(t,i){n.push(t+": "+i)}),n},n}();t.GlobalProgressIndicator=a;t.globalProgressIndicator=new a;$(window).bind("beforeunload",function(){k=!0});$(function(){var n=t.globalProgressIndicator.actionStarted("Initial page load",!0);t.errorHandler.initialize();t.globalProgressIndicator.actionCompleted(n)});t.hasUnloadRequest=vt;v=function(){function n(){}return n.prototype.updateGlobalMessageIfEmpty=function(n,t){t===void 0&&(t="warning");$(".global-message-section").length||ht(["VSS/Utils/Html"]).spread(function(i){var r=$("<div class='global-message-section message-level-"+t+"' />"),f=$("<span class='message-level-icon bowtie-icon bowtie-status-"+t+"'><\/span>"),u=$("<span />"),e=i.HtmlNormalizer.normalize(n);u.html(e);r.append(f);r.append(u);r.insertBefore(".main .content-section")})},n}();t.GlobalMessageIndicator=v;t.globalMessageIndicator=new v;Function.prototype.inherit=function(n,t){function f(){}var i,u,r;o(this,$.extend({},n,this),n,n);this.base=n;this._super=n.prototype;t=$.extend({},this.prototype,t);i=n.prototype;i.constructor=n;r=i.baseConstructor;f.prototype=i;u=new f;o(u,t,i,r);this.prototype=u;this.prototype.constructor=this;this.prototype.baseConstructor=r?ft(n,r,i,r):n};Function.prototype.extend=function(n){return o(this,n,this.base,this.baseConstructor)};t.classExtend=yt;t.getTypeName=pt;t.initClassPrototype=wt;e={};typeof _bases!="undefined"&&_bases.length>0&&$.each(_bases,function(n,t){e[t.namespace]=t.base});typeof _builtInBases!="undefined"&&_builtInBases.length>0&&$.each(_builtInBases,function(n,t){e[t.namespace]=t.base});t.getModuleBase=y;var s={},p={},bt={},kt={};typeof _disabledPlugins!="undefined"&&$.each(_disabledPlugins,function(n,t){p[t]=!0});typeof _plugins!="undefined"&&_plugins.length>0&&$.each(_plugins,function(n,t){t.namespace in p||ot(t.loadAfter,t.namespace)});typeof _builtinPlugins!="undefined"&&_builtinPlugins.length>0&&$.each(_builtinPlugins,function(n,t){t.namespace in p||ot(t.loadAfter,t.namespace)}),function(n){n[n.NoExcludes=0]="NoExcludes";n[n.CommonModules=1]="CommonModules";n[n.CommonAndAreaModules=2]="CommonAndAreaModules";n[n.AllPageBundles=3]="AllPageBundles"}(t.DynamicModuleExcludeOptions||(t.DynamicModuleExcludeOptions={}));dt=t.DynamicModuleExcludeOptions;t.using=st;t.requireModules=ht;t.module=function(n,t,i){for(var f,u=[],r=0;r<t.length;r++)u.push(et(t[r]));f=define;f(u,function(){var t=i();w(n,t)})};t.tfsModuleLoaded=w;w("TFS",t)});
define("VSS/Resources/VSS.Resources.Platform",["require","exports"],function(require,exports){var e=exports;e.InvalidArtifactUri="TF400897: Invalid artifact uri: {0}";e.AgoAMonth="a month ago";e.FilterControlUngroupClauses="Ungroup clauses";e.EditorBold="Bold (Ctrl+B)";e.IdentityPicker_ButtonUnresolvedItemDescription="Button displaying the invalid item {0}";e.IdentityPicker_IdCardImsGroupSource="{0} account";e.AddSearchFilterType="Work item type:";e.MruIdentityPickerWatermark="Type or select a name";e.ErrorMessage_UnauthorizedNoUser="The request requires authentication";e.ModalDialogNoButton="No";e.Tips_NotFound="Verify the URL you are trying to access is correct";e.CtrlClickToOpen="CTRL+Click to follow link";e.ErrorPage_DateAndTime="Date and Time";e.StartTrialFail="Oops our code decided to throw a fit. Could not start trial for account. Please try again.";e.IdentityPicker_PlaceholderTextUserGroup="Search users and groups";e.CollapseSplitterTooltip="Collapse";e.ErrorMessage_NotFound="We could not find the requested page";e.EditorRemoveLink="Remove link";e.MruIdentityPickerRemoveItemTitle="Remove from list";e.StringTooLong="The string of length {0} exceeds the maximum allowed length of {1}";e.ExtensionDisplayNameFormat="{0} by {1}";e.StringDoesNotMatchPattern="Value does not match the required pattern \u0027{0}\u0027. Check to ensure there are no missing or invalid characters.";e.Searching="Searching ...";e.MenuItemsLoading="Loading...";e.StringTooShort="The string of length {0} does not meet the minimum required length of {1}";e.IdentityPicker_IdCardErrorLoadingMembers="Encountered an error while loading group members. Please try reopening the contact card";e.FilterGroupClauses="Group selected clauses";e.HostedMessageFooter="See you back soon!";e.ErrorPage_CorrelationId="Activity ID";e.RichEditorControlNotReadyWarning="Control is not ready yet. Use ready function to add your callback to the ready list which will be executed whenever the control is ready.";e.IdentityPicker_LoadingIdentities="Loading identities....";e.ErrorMoreInfo="More information about this error";e.KeyboardShortcutHelpLinkText="Full list of keyboard shortcuts";e.Tips_Forbidden="Check that the URL you are trying to access is correct and make sure that your account {0} has access. You can get a list of your accounts \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=309329\" target=\"_blank\"\u003ehere\u003c/a\u003e.\r\nIf the account you are trying to access requires you to be on the Azure Active Directory, ask a directory administrator to \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=393724\"\u003ecreate a user\u003c/a\u003e for you\r\nIf you need to sign in with another user, but do not want to sign out because you are using this identity in other sites then we recommend that you start a new browser session in Private Browsing mode to access this page.";e.InternalContentHostLoadTimedOut="Timed out waiting for the contributed content to be loaded.";e.FileInputRemoveAll="remove all";e.SessionTokenArgumentsNotDefined="You must supply either an AppId or a PublisherName and ExtensionName pair.";e.ServiceStatusLink="Service Status and Support";e.FileSizeKBFormat="{0} KB";e.FilterGroupingCannotIntersect="Groups can not intersect each other.";e.ErrorMessage_Forbidden="Sorry, but {0} is not authorized to make this request";e.TrialStartToday="Test Manager trial begins today and expires on \u003cb\u003e{0}.\u003c/b\u003e";e.AdditionalTipsHeader="Here are some additional tips";e.AgoAMinute="a minute ago";e.StartTrial="Begin trial";e.ErrorName_TooManyRequests="Too Many Requests";e.ErrorCopyrightInfo="© Microsoft Corporation. All rights reserved.";e.ActionLink_GoBackHome="Go back home";e.NumberValueIsRequired="A value is required.";e.EditorCreateLink="Create link";e.ErrorMessage_UnauthorizedLicense="Sorry, but {0} does not have a valid license to access this account";e.GuidValueIsRequired="A GUID/UUID is required.";e.HostedErrorOptions="You can \u003ca id=\"pageRefresh\" href=\"#\"\u003erefresh\u003c/a\u003e the current page, \u003ca href=\"javascript:history.back();\"\u003ego back\u003c/a\u003e to the previous page, or \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=242555\" target=\"_blank\"\u003esubmit feedback\u003c/a\u003e about this error to Microsoft.";e.ComboBoxItemCountAnnouncement="{0} items";e.IdentityPicker_IdCardDescription="Description";e.Gallery="Available extensions";e.CopyContentDialogTitle="Copy to clipboard";e.AgoHours="{0} hours ago";e.AgoAYear="a year ago";e.AgoAWeek="a week ago";e.AgoYears="{0} years ago";e.AgoWeeks="{0} weeks ago";e.MruIdentityPickerNoResult="No results found";e.EditorEnterAddress="Enter address";e.IdentityPicker_InactiveUser="Inactive user";e.ExtensionSlowLoadWarningHeader="A TFS extension is loading slowly. Expand details to view options.";e.DeleteRowText="Delete row";e.ErrorName_InternalServerError="Internal Server Error";e.ErrorProductName="Microsoft Visual Studio Team Foundation Server";e.DialogUnsavedChanges="You have unsaved changes made to the settings which will be lost. Are you sure you want to discard these changes?";e.ActionLink_TellUsAboutThis="Tell us about this";e.Tips_ForbiddenAadUserState="When contacting your AAD administrator, you may be asked to provide them with your UPN: {0} and your Object ID: {1}.\r\nIf you need to use a different user account to access this site, you can try using an InPrivate or Incognito session in your browser.";e.FileInputDragDropLabel="Drag and drop files here or click browse to select a file";e.IdentityPicker_DeleteBackspaceMessage="Press the DELETE or BACKSPACE keys to remove the item";e.HideDetails="Hide details";e.MruIdentityPickerRemoveSelection="Remove";e.SignOut="sign out";e.ExternalContentSlowLoadFormat="{0} is taking longer than expected to load.";e.FilterControlField="Field";e.FilterControlAndOr="And/Or";e.FilterControlValue="Value";e.CopyContentMacintoshHelpText="Below is a clipboard-friendly view of your selection. To copy to the clipboard, either right-click and choose \u0027Copy\u0027 from the browser\u0027s context menu or enter Command-C.";e.IdentityPicker_NeedAnotherCharacter="Type 1 more character";e.ExtensionErrorHeader="Failed to load extension";e.AllFeaturesEnableDuringTrial="During the trial, Test Manager will be enabled for all users. \u003ca href=\u0027{0}\u0027 target=\u0027_blank\u0027\u003eLearn more\u003c/a\u003e about these features.";e.Saving="Saving...";e.IdentityPicker_PlaceholderTextGroup="Search groups";e.InsertRowText="Insert row (Alt + P)";e.RequiredInput="required";e.EnterFullScreenModeTooltip="Enter full screen mode";e.ErrorMessage_ForbiddenNoUser="Sorry, but the user is not authorized to make this request";e.IdentityPicker_PlaceholderTextPrefix="Search";e.IdentityPicker_ErrorAuthorizationException="Sign-in required";e.ErrorMessage_InvalidTab="You have errors in your tab settings. Please correct the errors and try again.";e.HostedNotFoundNotAuthDetailMessage="We recommend that you double check the URL you are trying to access.";e.FilterControlAddNewClause="Add new clause";e.EditorUnderline="Underline (Ctrl+U)";e.FieldIsValid="Field is valid";e.FilterGroupingGroupAlreadyExist="A group already exists for selected clauses.";e.NoTenantExceptionMessage="You don\u0027t belong to any work or school.";e.Confirm="Confirm";e.ErrorName_ServiceUnavailable="Service Unavailable";e.ErrorMessage_MsaTenantName="Microsoft Account";e.IdentityPicker_IdCardNoMembers="No group members found";e.CopiedContentDialogTitle="Copied!";e.FileInputErrorDuplicateFileName="Duplicate file: \"{0}\". Cannot upload two files with the same file name.";e.UnsavedChanges="You have unsaved changes.";e.TextInputFilterTitle="Filter by Text";e.HostedServiceUnavailable="We were unable to access your account. We apologize for the inconvenience this is causing your team. Please check the status message below for additional information.";e.ExtensionsNotAvailableOnpremOldIE="Extensions are not supported on your browser.";e.ActionLink_SignIn="Sign in";e.FileInputDragDropSingleFileLabel="Drag and drop a file here or click browse to select a file";e.ErrorName_NotFound="Not Found";e.MruIdentityPickerError="Error loading identities. Please try again.";e.FileInputErrorSingleFileOnly="Only a single file can be uploaded at a time.";e.ErrorName_GeneralException="General Exception";e.SearchWorkItems="Search work items";e.FilterControlRemoveClause="Remove this filter line";e.MruIdentityPickerTfsSearchTitle="Search";e.ModalDialogCancelButton="Cancel";e.Validation_IntegerRange="Input value must be a valid integer between {0} and {1}";e.AgoMinutes="{0} minutes ago";e.NavigateTo="Navigate to:";e.ContentLoading="Content loading";e.IdentityPicker_GuestUserException="AAD Guest users are not allowed to search in AAD.";e.KeyboardShortcutDialogTitle="Keyboard shortcuts";e.NamedSessionTokenProviderNotFoundFormat="NamedWebSessionToken provider \u0027{0}\u0027 not found.";e.ModalDialogYesButton="Yes";e.Tip_UnauthorizedLicenseAdmin="Ask the account administrator to check the status of your license";e.ExitFullScreenModeTooltip="Exit full screen mode";e.AddSearchFilterCreatedBy="Created by:";e.ErrorName_Gone="Gone";e.ExpandSplitterTooltip="Expand";e.IdentityPicker_NeedMoreCharacters="Type {0} more characters";e.IdentityPicker_IdCardLoadingMembers="Loading group members...";e.MenuItemUnpinButtonLabel="Unpin this";e.FileInputOverallStatusFormat="{0} files selected, {1}";e.NumberTooSmall="The value {0} is less than the minimum allowed value of {1}";e.PageTitle="Microsoft Team Foundation Server";e.CdnFallbackErrorMessage="There was an error loading a required file. Would you like to reload the page to try to load again?";e.StringValueIsRequired="A value is required.";e.FileInputErrorNotAllowedExtensionType="File extention {0} is not supported. Allowed Extensions : {1}";e.NumberTooLarge="The value {0} exceeds the maximum allowed value of {1}";e.UnknownArtifactType="Unknow artifact type: {0}";e.IdentityPicker_IdCardInfo="Info";e.IdentityPicker_IdCardMail="Send email";e.AddSearchFilterAssignedTo="Assigned to:";e.IdentityPicker_SingleResultStatus="Showing 1 result";e.ErrorName_Unauthorized="Not Authorized";e.ExtensionSlowLoadWarningBody="It is taking a long time to load the TFS extension content from the following url: \u003cbr /\u003e\u003ca /\u003e";e.UnsavedChangesWithNames="You have unsaved changes:";e.IdentityPicker_FocusChangeValue="Focus on the selected item to change the value via a combo box";e.UriValueIsRequired="A URI is required.";e.ActionLink_SignOut="Sign out and connect with another login";e.EditorBulletedList="Bulleted list";e.CancelWaitAdvice="Press {0} to cancel";e.FilterControlInsertClause="Insert new filter line";e.EditorItalic="Italic (Ctrl+I)";e.AgoDays="{0} days ago";e.AgoADay="a day ago";e.IdentityPicker_IdCardOffice="Office";e.ErrorName_BadRequest="Bad Request";e.MruIdentityPickerStatus="Showing {0} results";e.TextFilterInputBoxWaterMark="Filter";e.IdentityPicker_MultipleResultStatus="Showing {0} results";e.IdentityPicker_IdCardJobTitle="Job Title";e.CancelButtonLabelText="Cancel";e.ErrorMessage_GenericServerError="An error has prevented us from saving your changes.";e.Tip_UnauthorizedLicenseMsdn="If you are an MSDN subscriber, check for any recent changes in your MSDN subscription rights \u003ca href=\"https://msdn.microsoft.com/subscriptions/manage\"\u003ehere\u003c/a\u003e";e.FilterControlOperator="Operator";e.VisualStudio="Visual Studio";e.SupportLink="Support";e.IdentityPicker_IdCardGroupSource="Group source";e.IdentityPicker_InactiveGroup="Inactive group";e.ErrorMessage_Gone="We have permanently removed the requested page or resource";e.ErrorName_Forbidden="Forbidden";e.CloseButtonLabelText="Close";e.NoScriptMessage="Some content on this page cannot be displayed because you have JavaScript disabled.  To proceed, please enable active scripting for this site in your browser settings.  For more information, see";e.IdentityPicker_IdCardAadGroupSource="{0} directory";e.TabPageApplyChanges="Apply Changes";e.IdentityPicker_IdCardMembersTabDescription="This is the members list. Press the arrow keys and PAGE UP, PAGE DOWN keys to move up and down the list. Press the ENTER or SPACE keys to open the contact card for the selected member. Only a single contact card can be visible at any time.";e.PageUnavailable="The page you are looking for is currently unavailable.";e.ErrorMessage_BadRequest="We didn\u0027t understand the syntax of the request";e.IdentityPicker_RemoveFromMru="Remove from Most Recently Used list";e.PageTitleWithContent="{0} - Microsoft Team Foundation Server";e.IdentityPicker_IdCardAlias="Alias";e.ErrorMessage_ServiceUnavailable="We are currently unavailable";e.FileSizeMBFormat="{0} MB";e.EditorRemoveFormatting="Remove Formatting";e.MruIdentityPickerTooltip="Select an identity";e.IdentityPicker_IdCardMembers="Members";e.PageTitleWithContent_Hosted="{0} - Visual Studio Team Services";e.ActionLink_ViewServiceStatus="View our service status updates";e.PageNotFound="Page not found.";e.AddASearchFilter="Add a search filter";e.CtrlEnterToOpen="CTRL+Click or CTRL+Enter to follow link";e.ComboDateScreenReaderHelp="To open the calendar press alt+down. Press page up or page down to move to the previous or next month.";e.WebApiUndefinedRequestError="An undefined error occurred while attempting to connect to the server. Status code {0}: {1}.";e.MessageAreaControl_CrossIconTooltip="Dismiss";e.IdentityPicker_IdCardManager="Manager";e.AddSearchFilterState="State:";e.TrialHeader="START TEST MANAGER TRIAL";e.NavigationViewUnknownTabErrorFormat="Could not find navigation tab with id: {0}.";e.ExternalContentErrorFormat="{0} failed to load.";e.NoSearchResults="No search results.";e.HostedNotFoundMessage="TF400908: The account page you are trying to view does not exist or you do not have access to it.";e.EditorIncreaseIndent="Increase indent";e.MenuItemPinButtonLabel="Pin this";e.NoItemsInThisFolder="No items in this folder.";e.UnsavedChangesMore="more...";e.ErrorMessage_TooManyRequests="Your volume of requests has exceeded our rate limiting thresholds and you are being blocked. Please try again later.";e.ContentLoaded="Content loaded";e.ComboSearchTreeScreenReaderHelp="Type to filter results. Results are listed in a tree view.";e.ClearRowText="Clear row";e.DataProviderFailureMessageFormat="Data provider \"{0}\" failed to execute: {1}";e.NoScriptHeader="JavaScript is Disabled";e.FileInputRemoveFile="remove";e.FilterGroupingCannotGroup="Cannot group these clauses.";e.AADServiceUnavailable="We could not authorize your access with AAD. Please try signing in again.";e.IdentityPicker_IdCardDepartment="Department";e.IdentityPicker_NoResult="No identities found";e.CopyProgressPleaseWait="Copying selected item(s) to the clipboard...";e.ExternalControlLoading="Loading...";e.ModalDialogOkButton="OK";e.CdnFallbackErrorTitle="Network Error";e.FileInputErrorMaxFileSize="File {0} is {1} which exceeds the maximum size allowed for upload of a single file ({2}).";e.FileInputErrorTotalFileSize="The files being added total {0} which exceeds the maximum total size allowed to be uploaded ({1}).";e.PutAccountTrialOnce="You can only start a trial once for this account.";e.Loading="Loading ...";e.AgoLessThanAMinute="just now";e.FileInputReadErrorFormat="Failed to read file {0}: {1}";e.ExternalContentErrorLearnMoreContent="\u003ca\u003eLearn More\u003c/a\u003e about this extension, including available support options.";e.Tips_Unauthorized="Check that the URL you are trying to access is correct and make sure that your account {0} has access. You can get a list of your accounts \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=309329\" target=\"_blank\"\u003ehere\u003c/a\u003e.\r\nIf the account you are trying to access requires you to be on the Azure Active Directory, ask a directory administrator to \u003ca href=\"https://go.microsoft.com/fwlink/?LinkID=393724\" target=\"_blank\"\u003ecreate a user\u003c/a\u003e for you.\r\nIf you suspect authorization is the problem ask the account/resource administrator to grant you access.\r\nIf you need to sign in with another user, but do not want to sign out because you are using this identity in other sites then we recommend that you start a new browser session in Private Browsing mode to access this page";e.HostedServerError="Sorry, some part of our code decided to throw a fit. We are onto it and will make sure this will not happen again in the future.";e.IdentityPicker_SearchButton="Search";e.ShowDetails="Show details";e.ErrorMessage_InternalServerError="We encountered an error and cannot fulfill the request. The error has been traced and we will work hard to get a fix out as soon as possible. See the status message below for additional information";e.FileInputBrowseButtonLabel="Browse...";e.IdentityPicker_ErrorLoadingIdentities="Error loading identities. Please try again.";e.MruIdentityPickerAadSearchTitle="Search directory";e.EditorDecreaseIndent="Decrease indent";e.OptionalInput="optional";e.FileInputErrorMaxNumFiles="Only {0} files are allowed to be uploaded at one time.";e.ErrorPage_AdditionalTechnicalDetails="Additional technical details:";e.ViewServiceStatus="View service status";e.IdentityPicker_EnterSpaceMessage="Press the ENTER or SPACE keys to open the Contact Card";e.IdentityPicker_PlaceholderTextUser="Search users";e.AgoMonths="{0} months ago";e.SaveButtonLabelText="Save";e.ErrorMessage_GeneralException="We encountered an unknown exception. The error has been traced and we will work hard to get a fix out as soon as possible. See the status message below for additional information";e.TeamFoundationServiceName="Visual Studio Team Services";e.ExtensionErrorBody="We were unable to load a TFS extension. To load this component, please ensure that you are able to access the following url: \u003cbr /\u003e\u003ca /\u003e";e.NoTfsRequestcontext="TF400918: TfsRequestContext could not be found. Team Foundation Application could not be started";e.Ellipsis="...";e.IdentityPicker_ErrorMoreDetails="More details";e.IdentityPicker_ButtonResolvedItemDescription="Button displaying the selected item {0}";e.FileInputErrorLabel="Error";e.ErrorMessage_Unauthorized="Sorry, but {0} is not authorized to access this page";e.DisallowedProtocol="Opening this protocol is not permitted";e.EditorNumberedList="Numbered list";e.CopyContentPcHelpText="Below is a clipboard-friendly view of your selection. To copy to the clipboard, either right-click and choose \u0027Copy\u0027 from the browser\u0027s context menu or enter CTRL-C.";e.HostedNotFoundDetailMessage="We recommend that you double check the URL you are trying to access and verify that your identity ({0}) has the correct permissions.";e.IdentityPicker_ShowContactCardTitle="Show contact card";e.SessionTokenNotReady="Session token is not issued yet.";e.TodayTitle="Today: {0}";e.FileSizeBytesFormat="{0} bytes";e.DefaultWaitMessage="Please wait...";e.AgoAnHour="an hour ago";e.ExtensionErrorAdditionalSteps="You can try checking your network connection and refreshing this page.";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/Utils/Culture",["require","exports","VSS/Context"],function(n,t,i){function e(){return f||(f={name:"en-US",numberFormat:{CurrencyDecimalDigits:2,CurrencyDecimalSeparator:".",CurrencyGroupSizes:[3],NumberGroupSizes:[3],PercentGroupSizes:[3],CurrencyGroupSeparator:",",CurrencySymbol:"$",NaNSymbol:"NaN",CurrencyNegativePattern:0,NumberNegativePattern:1,PercentPositivePattern:0,PercentNegativePattern:0,NegativeInfinitySymbol:"-Infinity",NegativeSign:"-",NumberDecimalDigits:2,NumberDecimalSeparator:".",NumberGroupSeparator:",",CurrencyPositivePattern:0,PositiveInfinitySymbol:"Infinity",PositiveSign:"+",PercentDecimalDigits:2,PercentDecimalSeparator:".",PercentGroupSeparator:",",PercentSymbol:"%",PerMilleSymbol:"\u2030",NativeDigits:["0","1","2","3","4","5","6","7","8","9"],DigitSubstitution:1},dateTimeFormat:{AMDesignator:"AM",Calendar:{MinSupportedDateTime:"@-62135568000000@",MaxSupportedDateTime:"@253402300799999@",AlgorithmType:1,CalendarType:1,Eras:[1],TwoDigitYearMax:2029},DateSeparator:"/",FirstDayOfWeek:0,CalendarWeekRule:0,FullDateTimePattern:"dddd, MMMM dd, yyyy h:mm:ss tt",LongDatePattern:"dddd, MMMM dd, yyyy",LongTimePattern:"h:mm:ss tt",MonthDayPattern:"MMMM dd",PMDesignator:"PM",RFC1123Pattern:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",ShortDatePattern:"M/d/yyyy",ShortTimePattern:"h:mm tt",SortableDateTimePattern:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",TimeSeparator:":",UniversalSortableDateTimePattern:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",YearMonthPattern:"MMMM, yyyy",AbbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ShortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],DayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],AbbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],MonthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],NativeCalendarName:"Gregorian Calendar",AbbreviatedMonthGenitiveNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],MonthGenitiveNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],eras:[1,"A.D.",null,0]}}),f}function u(){if(!r){var n=i.getPageContext().microsoftAjaxConfig;n&&n.cultureInfo?(r=n.cultureInfo,n.cultureInfo.eras&&(r.dateTimeFormat.eras=n.cultureInfo.eras)):r=e()}return r}function o(){return u().name}function s(){return u().numberFormat}function h(){return u().dateTimeFormat}var r,f;t.getInvariantCulture=e;t.getCurrentCulture=u;t.getCurrentCultureName=o;t.getNumberFormat=s;t.getDateTimeFormat=h});
define("VSS/Utils/String",["require","exports","VSS/Utils/Culture"],function(n,t,i){function r(n,t,i){var r;return n===null||n===undefined?"":(r=i?n.toLocaleString():n.toString(),t&&(r=i?r.toLocaleUpperCase():r.toUpperCase()),r)}function h(n){var t=document.createElement("div");return t.appendChild(document.createTextNode(n)),t.innerHTML.replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function d(n){var t=document.createElement("div");return t.appendChild(document.createTextNode(n)),t.innerHTML.replace(/"/g,"&quot;")}function g(n){return $("<div/>").html(n).html()}function nt(n){return $("<div/>").html(n).text()}function tt(n){return h(n).replace(/(\r\n|\n|\r)/gm,"<br/>")}function it(n){return n?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():n}function o(n,t){if(n===t)return 0;var i=r(n,!1,!1),u=r(t,!1,!1);return i===u?0:i>u?1:-1}function c(n,t){if(n===t)return 0;var i=r(n,!0,!1),u=r(t,!0,!1);return i===u?0:i>u?1:-1}function l(n,t){if(n===t)return 0;var i=r(n,!1,!0),u=r(t,!1,!0);return i.localeCompare(u)}function a(n,t){if(n===t)return 0;var i=r(n,!0,!0),u=r(t,!0,!0);return i.localeCompare(u)}function rt(n,t,i){return i===void 0&&(i=!1),i?a(n,t)===0:l(n,t)===0}function v(n,t,i){return i=i||o,i(t,n.substr(0,t.length))===0}function ut(n,t,i){return i=i||o,i(t,n.substr(n.length-t.length,t.length))===0}function ft(n,t){return n.toLowerCase().indexOf(t.toLowerCase())!==-1}function et(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return y(!1,n,i)}function ot(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return y(!0,n,i)}function y(n,t,i){for(var o,f,s,r,e="",u=0;;){if(o=t.indexOf("{",u),f=t.indexOf("}",u),o<0&&f<0){e+=t.slice(u);break}if(f>0&&(f<o||o<0)){if(t.charAt(f+1)!=="}")throw new Error("The format string contains an unmatched opening or closing brace.");e+=t.slice(u,f+1);u=f+2;continue}if(e+=t.slice(u,o),u=o+1,t.charAt(u)==="{"){e+="{";u++;continue}if(f<0)throw new Error("The format string contains an unmatched opening or closing brace.");var h=t.substring(u,f),c=h.indexOf(":"),l=parseInt(c<0?h:h.substring(0,c),10);if(isNaN(l))throw new Error("The format string is invalid.");s=c<0?"":h.substring(c+1);r=i[l];(typeof r=="undefined"||r===null)&&(r="");e+=r.toFormattedString?r.toFormattedString(s):typeof r=="number"?w(r,n,s):r instanceof Date?p(r,n,s):r.format?r.format(s):r.toString();u=f+1}return e}function p(n,t,i){return f.dateToString(n,t,i)}function w(n,t,i){return s.numberToString(n,t,i)}function st(n,t,i){return f.parseDateString(n,t,i)}function ht(n){return b.test(n)}function ct(n){return k.test(n)}function lt(n){return typeof btoa=="function"?window.btoa(n):at(n)}function at(n){for(var e,r,f,t=0,o=n.length,i=[];t<o;)e=n.charCodeAt(t),r=n.charCodeAt(t+1),f=n.charCodeAt(t+2),i.push(u.charAt(e>>2)),i.push(u.charAt((e&3)<<4|r>>4)),i.push(u.charAt(isNaN(r)?64:(r&15)<<2|f>>6)),i.push(u.charAt(isNaN(f)?64:f&63)),t+=3;return i.join("")}function vt(n){return/^\{?([\dA-F]{8})-?([\dA-F]{4})-?([\dA-F]{4})-?([\dA-F]{4})-?([\dA-F]{12})\}?$/i.test(n)}function yt(n){return c(n,t.EmptyGuidString)===0}function pt(){var n,t,i,r;return window.crypto&&window.crypto.getRandomValues?(t=new Uint8Array(32),window.crypto.getRandomValues(t),i=0,n=function(){return t[i++]%16}):n=function(){return Math.random()*16|0},r="nnnnnnnn-nnnn-4nnn-snnn-nnnnnnnnnnnn",r.replace(/[ns]/g,function(t){var i=n()|0,r=t=="n"?i:i&3|8;return r.toString(16)})}function wt(n,t,i,r){var u={part1:n,part2:null,match:!1},e,o,f;return n&&t&&(e=i?n.toLowerCase():n,o=i?t.toLowerCase():t,f=r?e.lastIndexOf(o):e.indexOf(o),f>=0&&(u.part1=n.substr(0,f),u.part2=n.substr(f+t.length),u.match=!0)),u}var bt=Array.prototype.slice,b=/[\u0000-\u0008\u000B\u000C\u000E-\u001F\u007F-\u009F]/,k=/(^[\uD800-\uDFFF]$)|[^\uD800-\uDBFF](?=[\uDC00-\uDFFF])|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/,f,s,u,e;t.EmptyGuidString="00000000-0000-0000-0000-000000000000";t.empty="";t.newLine="\r\n";t.tab="\t";t.lineFeed="\n";t.htmlEncode=h;t.htmlEncodeJavascriptAttribute=d;t.htmlDecode=g;t.decodeHtmlSpecialChars=nt;t.nl2br=tt;t.toSentenceCase=it;t.defaultComparer=o;t.ignoreCaseComparer=c;t.localeComparer=l;t.localeIgnoreCaseComparer=a;t.equals=rt;t.startsWith=v;t.endsWith=ut;t.caseInsensitiveContains=ft;t.format=et;t.localeFormat=ot;t.dateToString=p;t.numberToString=w;t.parseDateString=st,function(n){function t(n,t){var r,u,i,f;if(!t)return 0;for(u=n.getTime(),i=0,f=t.length;i<f;i+=4)if(r=t[i+2],r===null||u>=r)return i;return 0}function u(n,t,i,r){var u=n.getFullYear(),f=t.Calendar.convert;return f&&(u=f.fromGregorian(n)[0]),!r&&t.eras&&(u-=t.eras[i+3]),u}function s(n,t){t||(t="F");var i=t.length;if(i===1)switch(t){case"d":return n.ShortDatePattern;case"D":return n.LongDatePattern;case"g":return n.ShortDatePattern+" "+n.ShortTimePattern;case"G":return n.ShortDatePattern+" "+n.LongTimePattern;case"t":return n.ShortTimePattern;case"T":return n.LongTimePattern;case"f":return n.LongDatePattern+" "+n.ShortTimePattern;case"F":return n.FullDateTimePattern;case"M":case"m":return n.MonthDayPattern;case"s":return n.SortableDateTimePattern;case"Y":case"y":return n.YearMonthPattern;case"R":case"r":return n.RFC1123Pattern;case"u":return n.UniversalSortableDateTimePattern;default:throw new Error("Input string was not in a correct format.");}else i===2&&t.charAt(0)==="%"&&(t=t.charAt(1));return t}function a(n,r,f){function l(n){return n<10?"0"+n:n.toString()}function g(n){return n<10?"00"+n:n<100?"0"+n:n.toString()}function et(n){return n<10?"000"+n:n<100?"00"+n:n<1e3?"0"+n:n.toString()}function ot(n,t){for(var u,f=0,i=!1,r=0,e=n.length;r<e;r++){u=n.charAt(r);switch(u){case"'":i?t.append("'"):f++;i=!1;break;case"\\":i&&t.append("\\");i=!i;break;default:t.append(u);i=!1}}return f}function ft(){return y||rt?y:(y=ut.test(f),rt=!0,y)}function v(n,t){if(a)return a[t];switch(t){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate()}}var h=r?i.getCurrentCulture().dateTimeFormat:i.getInvariantCulture().dateTimeFormat,k=h.Calendar.convert,d,it,p,w,o,c,y,rt,ut,nt,tt,a;if(!f||!f.length||f==="i")if(r)if(k)f=h.FullDateTimePattern;else return d=new Date(n.getTime()),it=t(n,h.eras),d.setFullYear(u(n,h,it)),d.toLocaleString();else return n.toString();for(p=h.eras,w=f==="s",f=s(h,f),o=new e,ut=/([^d]|^)(d|dd)([^d]|$)/g,nt=0,tt=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g,!w&&k&&(a=k.fromGregorian(n));;){var st=tt.lastIndex,b=tt.exec(f),ht=f.slice(st,b?b.index:f.length);if(nt+=ot(ht,o),!b)break;if(nt%2==1){o.append(b[0]);continue}switch(b[0]){case"dddd":o.append(h.DayNames[n.getDay()]);break;case"ddd":o.append(h.AbbreviatedDayNames[n.getDay()]);break;case"dd":y=!0;o.append(l(v(n,2)));break;case"d":y=!0;o.append(v(n,2));break;case"MMMM":o.append(h.MonthGenitiveNames&&ft()?h.MonthGenitiveNames[v(n,1)]:h.MonthNames[v(n,1)]);break;case"MMM":o.append(h.AbbreviatedMonthGenitiveNames&&ft()?h.AbbreviatedMonthGenitiveNames[v(n,1)]:h.AbbreviatedMonthNames[v(n,1)]);break;case"MM":o.append(l(v(n,1)+1));break;case"M":o.append(v(n,1)+1);break;case"yyyy":o.append(et(a?a[0]:u(n,h,t(n,p),w)));break;case"yy":o.append(l((a?a[0]:u(n,h,t(n,p),w))%100));break;case"y":o.append((a?a[0]:u(n,h,t(n,p),w))%100);break;case"hh":c=n.getHours()%12;c===0&&(c=12);o.append(l(c));break;case"h":c=n.getHours()%12;c===0&&(c=12);o.append(c);break;case"HH":o.append(l(n.getHours()));break;case"H":o.append(n.getHours());break;case"mm":o.append(l(n.getMinutes()));break;case"m":o.append(n.getMinutes());break;case"ss":o.append(l(n.getSeconds()));break;case"s":o.append(n.getSeconds());break;case"tt":o.append(n.getHours()<12?h.AMDesignator:h.PMDesignator);break;case"t":o.append((n.getHours()<12?h.AMDesignator:h.PMDesignator).charAt(0));break;case"f":o.append(g(n.getMilliseconds()).charAt(0));break;case"ff":o.append(g(n.getMilliseconds()).substr(0,2));break;case"fff":o.append(g(n.getMilliseconds()));break;case"z":c=n.getTimezoneOffset()/60;o.append((c<=0?"+":"-")+Math.floor(Math.abs(c)));break;case"zz":c=n.getTimezoneOffset()/60;o.append((c<=0?"+":"-")+l(Math.floor(Math.abs(c))));break;case"zzz":c=n.getTimezoneOffset()/60;o.append((c<=0?"+":"-")+l(Math.floor(Math.abs(c)))+":"+l(Math.abs(n.getTimezoneOffset()%60)));break;case"g":case"gg":h.eras&&o.append(h.eras[t(n,p)+1]);break;case"/":o.append(h.DateSeparator);break;default:new Error("Invalid date format pattern")}}return o.toString()}function y(n,t,i){for(var e,o,u,s=!1,r=0,f=i.length;r<f;r++)if(e=i[r],e&&(s=!0,u=l(n,e,t),u))return u;if(!s)for(o=p(t.dateTimeFormat),r=0,f=o.length;r<f;r++)if(u=l(n,o[r],t),u)return u;return null}function p(n){return[n.MonthDayPattern,n.YearMonthPattern,n.ShortDatePattern,n.ShortTimePattern,n.LongDatePattern,n.LongTimePattern,n.FullDateTimePattern,n.RFC1123Pattern,n.SortableDateTimePattern,n.UniversalSortableDateTimePattern,n.ShortDatePattern+" "+n.LongTimePattern,n.LongDatePattern+" "+n.ShortTimePattern,n.ShortDatePattern+" "+n.ShortTimePattern]}function h(n,t){for(var u,f=0,i=!1,r=0,e=n.length;r<e;r++){u=n.charAt(r);switch(u){case"'":i?t.append("'"):f++;i=!1;break;case"\\":i&&t.append("\\");i=!i;break;default:t.append(u);i=!1}}return f}function w(n,i){var f=new Date,e=t(f,n.eras),r;return i<100&&(r=u(f,n,e),i+=r-r%100,i>n.Calendar.TwoDigitYearMax&&(i-=100)),i}function b(n,t){var r,v,y,o;if(n._parseRegExp){if(n._parseRegExp[t])return n._parseRegExp[t]}else n._parseRegExp={};r=s(n,t);r=r.replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1");for(var i=new e("^"),c=[],f=0,l=0,a=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g,u;(u=a.exec(r))!==null;){if(v=r.slice(f,u.index),f=a.lastIndex,l+=h(v,i),l%2==1){i.append(u[0]);continue}switch(u[0]){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":i.append("(\\D+)");break;case"tt":case"t":i.append("(\\D*)");break;case"yyyy":i.append("(\\d{4})");break;case"fff":i.append("(\\d{3})");break;case"ff":i.append("(\\d{2})");break;case"f":i.append("(\\d)");break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":i.append("(\\d\\d?)");break;case"zzz":i.append("([+-]?\\d\\d?:\\d{2})");break;case"zz":case"z":i.append("([+-]?\\d\\d?)");break;case"/":i.append("(\\"+n.DateSeparator+")");break;default:throw new Error("Invalid date format pattern.");}c.push(u[0])}return h(r.slice(f),i),i.append("$"),y=i.toString().replace(/\s+/g,"\\s+"),o={regExp:y,groups:c},n._parseRegExp[t]=o,o}function f(n,t){if(typeof t=="undefined")return-1;for(var i=0,r=n.length;i<r;i++)if(typeof n[i]!="undefined"&&n[i]===t)return i;return-1}function c(n,t,i){var u=o(n),r=f(t,u);return r===-1&&(r=f(i,u)),r}function k(n,t){return n._upperMonths||(n._upperMonths=r(n.dateTimeFormat.MonthNames),n._upperMonthsGenitive=r(n.dateTimeFormat.MonthGenitiveNames)),c(t,n._upperMonths,n._upperMonthsGenitive)}function d(n,t){return n._upperAbbrMonths||(n._upperAbbrMonths=r(n.dateTimeFormat.AbbreviatedMonthNames),n._upperAbbrMonthsGenitive=r(n.dateTimeFormat.AbbreviatedMonthGenitiveNames)),c(t,n._upperAbbrMonths,n._upperAbbrMonthsGenitive)}function g(n,t){return n._upperDays||(n._upperDays=r(n.dateTimeFormat.DayNames)),f(n._upperDays,o(t))}function nt(n,t){return n._upperAbbrDays||(n._upperAbbrDays=r(n.dateTimeFormat.AbbreviatedDayNames)),f(n._upperAbbrDays,o(t))}function r(n){for(var i=[],t=0,r=n.length;t<r;t++)i[t]=o(n[t]);return i}function o(n){return n.split("\u00a0").join(" ").toUpperCase()}function l(n,t,i){var y,pt,r,ct,ot,p,tt,it,wt,u,bt,rt,lt;n=n.trim();var s=i.dateTimeFormat,at=b(s,t),vt=new RegExp(at.regExp).exec(n);if(vt===null)return null;var yt=at.groups,st=null,e=null,f=null,c=null,l=null,o=0,a,ut=0,ft=0,h=0,et=null,ht=!1;for(y=0,pt=yt.length;y<pt;y++)if(r=vt[y+1],r)switch(yt[y]){case"dd":case"d":if(c=parseInt(r,10),c<1||c>31)return null;break;case"MMMM":if(f=k(i,r),f<0||f>11)return null;break;case"MMM":if(f=d(i,r),f<0||f>11)return null;break;case"M":case"MM":if(f=parseInt(r,10)-1,f<0||f>11)return null;break;case"y":case"yy":if(e=w(s,parseInt(r,10)),e<0||e>9999)return null;break;case"yyyy":if(e=parseInt(r,10),e<0||e>9999)return null;break;case"h":case"hh":if(o=parseInt(r,10),o===12&&(o=0),o<0||o>11)return null;break;case"H":case"HH":if(o=parseInt(r,10),o<0||o>23)return null;break;case"m":case"mm":if(ut=parseInt(r,10),ut<0||ut>59)return null;break;case"s":case"ss":if(ft=parseInt(r,10),ft<0||ft>59)return null;break;case"tt":case"t":if(ct=r.toUpperCase(),ht=ct===s.PMDesignator.toUpperCase(),!ht&&ct!==s.AMDesignator.toUpperCase())return null;break;case"f":if(h=parseInt(r,10)*100,h<0||h>999)return null;break;case"ff":if(h=parseInt(r,10)*10,h<0||h>999)return null;break;case"fff":if(h=parseInt(r,10),h<0||h>999)return null;break;case"dddd":if(l=g(i,r),l<0||l>6)return null;break;case"ddd":if(l=nt(i,r),l<0||l>6)return null;break;case"zzz":if((ot=r.split(/:/),ot.length!==2)||(a=parseInt(ot[0],10),a<-12||a>13)||(p=parseInt(ot[1],10),p<0||p>59))return null;et=a*60+(v(r,"-")?-p:p);break;case"z":case"zz":if(a=parseInt(r,10),a<-12||a>13)return null;et=a*60;break;case"g":case"gg":if(tt=r,!tt||!s.eras)return null;for(tt=tt.toLowerCase().trim(),it=0,wt=s.eras.length;it<wt;it+=4)if(tt===s.eras[it+1].toLowerCase()){st=it;break}if(st===null)return null}if(u=new Date,rt=s.Calendar.convert,bt=rt?rt.fromGregorian(u)[0]:u.getFullYear(),e===null?e=bt:s.eras&&(e+=s.eras[(st||0)+3]),f===null&&(f=0),c===null&&(c=1),rt){if(u=rt.toGregorian(e,f,c),u===null)return null}else if((u.setFullYear(e,f,c),u.getDate()!==c)||l!==null&&u.getDay()!==l)return null;return ht&&o<12&&(o+=12),u.setHours(o,ut,ft,h),et!==null&&(lt=u.getMinutes()-(et+u.getTimezoneOffset()),u.setHours(u.getHours()+parseInt(lt/60,10),lt%60)),u}n.dateToString=a;n.parseDateString=y}(f||(f={})),function(n){function t(n,t,r){function c(n,t,i){for(var r=n.length;r<t;r++)n=i?"0"+n:n+"0";return n}function l(n,t,i,r,u){var a=i[0],v=1,p=Math.pow(10,t),y=Math.round(n*p)/p,s,l;isFinite(y)||(y=n);n=y;var e=n.toString(),f="",o,h=e.split(/e/i);for(e=h[0],o=h.length>1?parseInt(h[1]):0,h=e.split("."),e=h[0],f=h.length>1?h[1]:"",o>0?(f=c(f,o,!1),e+=f.slice(0,o),f=f.substr(o)):o<0&&(o=-o,e=c(e,o+1,!0),f=e.slice(-o,e.length)+f,e=e.slice(0,-o)),t>0?(f=f.length>t?f.slice(0,t):c(f,t,!1),f=u+f):f="",s=e.length-1,l="";s>=0;){if(a===0||a>s)return l.length>0?e.slice(0,s+1)+r+l+f:e.slice(0,s+1)+f;l=l.length>0?e.slice(s-a+1,s+1)+r+l:e.slice(s-a+1,s+1);s-=a;v<i.length&&(a=i[v],v++)}return e.slice(0,s+1)+r+l+f}var u,e,f,o,a,s,v,h;if(!r||r.length===0||r==="i")return t?n.toLocaleString():n.toString();u=t?i.getCurrentCulture().numberFormat:i.getInvariantCulture().numberFormat;r||(r="D");f=-1;r.length>1&&(f=parseInt(r.slice(1),10));switch(r.charAt(0)){case"d":case"D":o="n";f!==-1?(e=c(""+Math.abs(n),f,!0),n<0&&(e="-"+e)):e=""+n;break;case"c":case"C":o=n<0?["($n)","-$n","$-n","$n-","(n$)","-n$","n-$","n$-","-n $","-$ n","n $-","$ n-","$ -n","n- $","($ n)","(n $)"][u.CurrencyNegativePattern]:["$n","n$","$ n","n $"][u.CurrencyPositivePattern];f===-1&&(f=u.CurrencyDecimalDigits);e=l(Math.abs(n),f,u.CurrencyGroupSizes,u.CurrencyGroupSeparator,u.CurrencyDecimalSeparator);break;case"n":case"N":o=n<0?["(n)","-n","- n","n-","n -"][u.NumberNegativePattern]:"n";f===-1&&(f=u.NumberDecimalDigits);e=l(Math.abs(n),f,u.NumberGroupSizes,u.NumberGroupSeparator,u.NumberDecimalSeparator);break;case"p":case"P":o=n<0?["-n %","-n%","-%n"][u.PercentNegativePattern]:["n %","n%","%n"][u.PercentPositivePattern];f===-1&&(f=u.PercentDecimalDigits);e=l(Math.abs(n)*100,f,u.PercentGroupSizes,u.PercentGroupSeparator,u.PercentDecimalSeparator);break;default:throw new Error("Format specifier was invalid.");}for(a=/n|\$|-|%/g,s="";;){if(v=a.lastIndex,h=a.exec(o),s+=o.slice(v,h?h.index:o.length),!h)break;switch(h[0]){case"n":s+=e;break;case"$":s+=u.CurrencySymbol;break;case"-":/[1-9]/.test(e)&&(s+=u.NegativeSign);break;case"%":s+=u.PercentSymbol;break;default:throw new Error("Invalid number format pattern");}}return s}n.numberToString=t}(s||(s={}));t.containsControlChars=ht;t.containsMismatchedSurrogateChars=ct;t.base64Encode=lt;u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.isGuid=vt;t.isEmptyGuid=yt;t.generateUID=pt;t.singleSplit=wt;e=function(){function n(n){this._textBuilder=[];n&&this._textBuilder.push(n)}return n.prototype.append=function(n){this._textBuilder[this._textBuilder.length]=n},n.prototype.appendNewLine=function(){this.append(t.newLine)},n.prototype.toString=function(){return this._textBuilder.join("")},n}();t.StringBuilder=e});
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};define("VSS/Authentication/Services",["require","exports","q","VSS/Context","VSS/Resources/VSS.Resources.Platform","VSS/Utils/String","VSS/VSS"],function(n,t,i,r,u,f,e){function w(n,t,i,r){return s.getToken(n,t,i,r)}function k(n,t,i){return s.getAppToken(n,t,i)}function d(n){if(n){var i=a[n];return i||(i=new c(n),a[n]=i),i}return t.authTokenManager}var b,h,o,v,c,y,l,p,s,a;(function(n){n.Profile="Platform.Profile"})(b=t.CoreNamedWebSessionTokenIds||(t.CoreNamedWebSessionTokenIds={})),function(n){function i(n,i){return f.format("Basic {0}",t(n,i))}function t(n,t){var i=f.format("{0}:{1}",n||"",t||"");return f.base64Encode(i)}n.getBasicAuthHeader=i;n.getBasicAuthValue=t}(h=t.BasicAuthHelpers||(t.BasicAuthHelpers={})),function(n){function t(n){return f.format("Bearer {0}",n)}n.getBearerAuthHeader=t}(o=t.BearerAuthHelpers||(t.BearerAuthHelpers={}));v=function(){function n(){this._appIdForUnscopedToken=f.EmptyGuidString;this._tokenPromises={};this._tokenExpirationTimes={}}return n.prototype._getKey=function(n,t){return n+":"+t},n.prototype._setTokenValidTo=function(n,t){var i=this;t.then(function(t){i._tokenExpirationTimes[n]=t.validTo})},n.prototype._checkTokenExpiration=function(n){var t=this._tokenExpirationTimes[n];t&&(new Date).getTime()>t.getTime()-6e4&&(delete this._tokenExpirationTimes[n],delete this._tokenPromises[n])},n.prototype._setTokenPromise=function(n,t,i){var r=this._getKey(n,t);this._setTokenValidTo(r,i);this._tokenPromises[r]=i},n.prototype._getTokenPromise=function(n,t){var i=this._getKey(n,t);return this._checkTokenExpiration(i),this._tokenPromises[i]},n.prototype._beginGetToken=function(n,t,i,u){var f=this;return e.requireModules(["VSS/Authentication/RestClient","VSS/Authentication/Contracts"]).spread(function(e,o){var c=n?o.DelegatedAppTokenType.Session:o.DelegatedAppTokenType.App,l,a,s,v,h;if(!u&&(l=f._getTokenPromise(c,t),l))return l;if(a={appId:t,name:i||null,token:null,force:u,tokenType:c},window.top===window.self||r.getPageContext().navigation.area==="BuiltInExtensions")v=new e.AuthenticationHttpClient(r.getDefaultWebContext().host.relativeUri),s=v.createSessionToken(a);else if(h=window.VSS,h&&h.getAccessToken)s=h.getAccessToken();else throw new Error("VSS.SDK is not currently loaded");return f._setTokenPromise(c,t,s),s})},n.prototype.getToken=function(n,t,i,r){return n,this._beginGetToken(!0,r?n:this._appIdForUnscopedToken,t,i)},n.prototype.getAppToken=function(n,t,i){return this._beginGetToken(!1,n,t,i)},n.prototype.getAuthToken=function(n){return this.getToken(null,null,n)},n.prototype.getAuthorizationHeader=function(n){if(!n||!n.token)throw u.SessionTokenNotReady;return o.getBearerAuthHeader(n.token)},n}();c=function(){function n(n){this._namedTokenId=n}return n.prototype.getAuthToken=function(n){var t=this;return!n&&(this._tokenExpirationTime&&(new Date).getTime()>this._tokenExpirationTime.getTime()-6e4&&(this._tokenExpirationTime=null,this._tokenPromise=null),this._tokenPromise)?this._tokenPromise:(this._tokenPromise=e.requireModules(["VSS/Authentication/RestClient","VSS/Authentication/Contracts"]).spread(function(i,u){var h={appId:f.EmptyGuidString,force:n,tokenType:u.DelegatedAppTokenType.Session,namedTokenId:t._namedTokenId},o,s,e;if(window.top===window.self||r.getPageContext().navigation.area==="BuiltInExtensions")s=new i.AuthenticationHttpClient(r.getDefaultWebContext().host.relativeUri),o=s.createSessionToken(h);else if(e=window.VSS,e&&e.getAccessToken)o=e.getAccessToken();else throw new Error("VSS.SDK is not currently loaded");return o.then(function(n){return t._tokenExpirationTime=n.validTo,n})}),this._tokenPromise)},n.prototype.getAuthorizationHeader=function(n){if(!n||!n.token)throw u.SessionTokenNotReady;return o.getBearerAuthHeader(n.token)},n}();t.NamedWebSessionTokenManager=c;y=function(){function n(n,t){this._user=n;this._password=t}return n.prototype.getAuthToken=function(){return i.resolve(h.getBasicAuthValue(this._user,this._password))},n.prototype.getAuthorizationHeader=function(){return h.getBasicAuthHeader(this._user,this._password)},n}();t.BasicAuthTokenManager=y;l=function(){function n(n){this._token=n}return n.prototype.getAuthToken=function(){return i.resolve(this._getTokenHeader())},n.prototype.getAuthorizationHeader=function(){return this._getTokenHeader()},n.prototype._getTokenHeader=function(){return o.getBearerAuthHeader(this._token)},n}();t.BearerAuthTokenManager=l;p=function(n){function t(t){n.call(this,t.token);this._sessionToken=t}return __extends(t,n),t.prototype.getAuthToken=function(){var t=this,n=this._sessionToken;return n&&n.validTo&&(new Date).getTime()<n.validTo.getTime()-6e4?i.resolve(this._getTokenHeader()):w(n.appId,null,null,!0).then(function(n){return t._sessionToken=n,t._token=n.token,t._getTokenHeader()})},t}(l);t.WebSessionTokenManager=p;s=new v;a={};t.authTokenManager=s;t.getToken=w;t.getAppToken=k;t.getAuthTokenManager=d});
define("VSS/Common/Constants/Platform",["require","exports"],function(n,t){var i,r,u,f;(function(n){n.ContributedServiceContextDataKey="WebPlatform.ContributedServices";n.ContributedServiceDataProviderType="ServiceContext"})(i=t.ContributedServiceContextData||(t.ContributedServiceContextData={})),function(n){n.DataProviderContributionTypeId="ms.vss-web.data-provider";n.ContributionNameProperty="name";n.ContributionInstanceTypeProperty="serviceInstanceType";n.ContributionDataTypeProperty="dataType"}(r=t.DataProviderConstants||(t.DataProviderConstants={})),function(n){n.Area="Microsoft.TeamFoundation.WebAccess";n.WebSettingsStoreSettingFeature="StoreSetting";n.FullScreenModeFeature="FullScreenMode";n.InvalidLicenseExceptionFeature="InvalidLicenseException"}(u=t.WebAccessCustomerIntelligenceConstants||(t.WebAccessCustomerIntelligenceConstants={})),function(n){n.VisualStudioServicesContributionUnSecureBrowsers="VisualStudio.Services.Contribution.EnableOnPremUnsecureBrowsers";n.ClientSideErrorLogging="VisualStudio.Service.WebPlatform.ClientErrorReporting";n.UseGalleryCdn="Microsoft.VisualStudio.Services.Gallery.Client.UseCdnAssetUri"}(f=t.WebPlatformFeatureFlags||(t.WebPlatformFeatureFlags={}))});
define("VSS/WebApi/Constants",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k;(function(n){n.PublicAccessMappingMoniker="PublicAccessMapping";n.ServerAccessMappingMoniker="ServerAccessMapping";n.ClientAccessMappingMoniker="ClientAccessMapping";n.HostGuidAccessMappingMoniker="HostGuidAccessMapping";n.RootDomainMappingMoniker="RootDomainMapping";n.AzureInstanceMappingMoniker="AzureInstanceMapping"})(i=t.AccessMappingConstants||(t.AccessMappingConstants={})),function(n){n.AuthenticationLocationId="11420b6b-3324-490a-848d-b8aafdb906ba";n.AreaId="A084B81B-0F23-4136-BAEA-98E07F3C7446";n.AuthenticationAreaName="WebPlatformAuth";n.SessionTokenResource="SessionToken"}(r=t.AuthenticationResourceIds||(t.AuthenticationResourceIds={})),function(n){n.ResourceId="8907fe1c-346a-455b-9ab9-dde883687231";n.ResourceString="{8907fe1c-346a-455b-9ab9-dde883687231}";n.ResouceName="BlobCopyRequest";n.AreaName="BlobCopyRequest"}(u=t.BlobCopyLocationIds||(t.BlobCopyLocationIds={})),function(n){n.IdentitiesLocationId="4102f006-0b23-4b26-bb1b-b661605e6b33";n.IdentityAvatarLocationId="4d9b6936-e96a-4a42-8c3b-81e8337cd010";n.IdentityFeatureMruLocationId="839e4258-f559-421b-a38e-b6e691967ab3";n.IdentityConnectionsLocationId="c01af8fd-2a61-4811-a7a3-b85bcec080af";n.ServiceArea="IdentityPicker";n.IdentitiesResource="Identities"}(f=t.CommonIdentityPickerResourceIds||(t.CommonIdentityPickerResourceIds={})),function(n){n.DataProvidersQueryLocationId="738368db-35ee-4b85-9f94-77ed34af2b0d";n.InstalledAppsLocationId="2648442b-fd63-4b9a-902f-0c913510f139";n.InstalledAppsByNameLocationId="3e2f6668-0798-4dcb-b592-bfe2fa57fde2";n.VDiscId="0edf7a35-282d-44f1-a0cf-d7ec1c1afeff";n.VersionDiscoveryLocationId="c2088efa-e2c2-4025-8062-4dd27b6ac83e";n.VDiscCompatLocationId="5c026a00-bd90-4fde-862a-268345cc58b0";n.AreaId="8477AEC9-A4C7-4BD4-A456-BA4C53C989CB";n.ContributionsAreaName="Contribution";n.ExtensionsAreaName="Extensions";n.DataProvidersQueryLocationIdString="738368DB-35EE-4B85-9F94-77ED34AF2B0D";n.InstalledExtensionsLocationIdString="2648442B-FD63-4B9A-902F-0C913510F139";n.InstalledExtensionsByNameLocationIdString="3E2F6668-0798-4DCB-B592-BFE2FA57FDE2";n.VersionDiscoveryLocationIdString="C2088EFA-E2C2-4025-8062-4DD27B6AC83E";n.VDiscCompatLocationIdString="5C026A00-BD90-4FDE-862A-268345CC58B0"}(e=t.ContributionsResourceIds||(t.ContributionsResourceIds={})),function(n){n.EventsLocationId="b5cc35c2-ff2b-491d-a085-24b6e9f396fd";n.AreaId="40132BEE-F5F3-4F39-847F-80CC44AD9ADD";n.CustomerIntelligenceAreaName="CustomerIntelligence"}(o=t.CustomerIntelligenceResourceIds||(t.CustomerIntelligenceResourceIds={})),function(n){n.ResourceId="d56223df-8ccd-45c9-89b4-eddf69240000";n.ResourceString="{D56223DF-8CCD-45C9-89B4-EDDF69240000}";n.ResouceName="DatabaseMigration";n.AreaName="DatabaseMigration"}(s=t.DatabaseMigrationLocationIds||(t.DatabaseMigrationLocationIds={})),function(n){n.ServiceInstanceType="$ServiceInstanceType"}(h=t.ExtensionTemplateContextItemNames||(t.ExtensionTemplateContextItemNames={})),function(n){n.FeatureFlagsLocationId="3e2b80f8-9e6f-441e-8393-005610692d9c";n.AreaId="C8E5AF97-4B95-4E73-9E7F-69A06507967C";n.FeatureAvailabilityAreaName="FeatureAvailability"}(c=t.FeatureAvailabilityResourceIds||(t.FeatureAvailabilityResourceIds={})),function(n){n.FeaturesLocationId="c4209f25-7a27-41dd-9f04-06080c7b6afd";n.FeatureStatesLocationId="98911314-3f9b-4eaf-80e8-83900d8e85d9";n.NamedScopeFeatureStatesLocationId="dd291e43-aa9f-4cee-8465-a93c78e414a4";n.FeatureManagementAreaName="FeatureManagement";n.FeaturesResource="Features";n.FeatureStatesResource="FeatureStates";n.FeatureStatesLocationIdString="98911314-3F9B-4EAF-80E8-83900D8E85D9";n.NamedScopeFeatureStatesLocationIdString="DD291E43-AA9F-4CEE-8465-A93C78E414A4"}(l=t.FeatureManagementResourceIds||(t.FeatureManagementResourceIds={})),function(n){n.MruIdentitiesLocationId="15d952a1-bb4e-436c-88ca-cfe1e9ff3331";n.AreaId="FC3682BE-3D6C-427A-87C8-E527B16A1D05";n.AreaName="Identity";n.MruIdentitiesResource="MruIdentities"}(a=t.IdentityMruResourceIds||(t.IdentityMruResourceIds={})),function(n){n.ConnectionData="00d9565f-ed9c-4a06-9a50-00e7896ccab4";n.ServiceDefinitions="d810a47d-f4f4-4a62-a03f-fa1860585c4c";n.AccessMappings="a52f2f69-b171-4e88-9dfe-34b44cf7e386";n.SpsServiceDefinition="df5f298a-4e06-4815-a13e-6ce90a37efa4";n.LocationServiceArea="Location";n.ConnectionDataResource="ConnectionData";n.ServiceDefinitionsResource="ServiceDefinitions";n.AccessMappingsResource="AccessMappings";n.SpsServiceDefintionResource="SpsServiceDefinition"}(v=t.LocationResourceIds||(t.LocationResourceIds={})),function(n){n.EntriesLocationId="cae3d437-cd60-485a-b8b0-ce6acf234e44";n.AreaId="{81AEC033-EAE2-42B8-82F6-90B93A662EF5}";n.AreaName="NameResolution";n.EntriesResource="Entries"}(y=t.NameResolutionResourceIds||(t.NameResolutionResourceIds={})),function(n){n.OperationsLocationId="9a1b74b4-2ca8-4a9f-8470-c2f2e6fdc949";n.AreaName="operations";n.OperationsResource="operations";n.OperationsRouteName="Operations";n.OperationsApi="OperationsApi"}(p=t.OperationsResourceIds||(t.OperationsResourceIds={})),function(n){n.PartitionContainers="55fdd96f-cbfe-461a-b0ac-890454ff434a";n.Partitions="4ece3a4b-1d02-4313-8843-dd7b02c8f639";n.AreaName="Partitioning";n.AreaId="{0129E64E-3F98-43F8-9073-212C19D832CB}";n.PartitionContainersResource="Containers";n.PartitionsResource="Partitions"}(w=t.PartitioningResourceIds||(t.PartitioningResourceIds={})),function(n){n.MPS="00000000-0000-8888-8000-000000000000";n.SPS="951917ac-a960-4999-8464-e3f0aa25b381";n.TFS="00025394-6065-48ca-87d9-7f5672854ef7";n.TFSOnPremises="87966eaa-cb2a-443f-be3c-47bd3b5bf3cb";n.SpsExtension="00000024-0000-8888-8000-000000000000";n.SDKSample="ffffffff-0000-8888-8000-000000000000";n.MPSString="00000000-0000-8888-8000-000000000000";n.SPSString="951917AC-A960-4999-8464-E3F0AA25B381";n.TFSString="00025394-6065-48CA-87D9-7F5672854EF7";n.TFSOnPremisesString="87966EAA-CB2A-443F-BE3C-47BD3B5BF3CB";n.SpsExtensionString="00000024-0000-8888-8000-000000000000";n.SDKSampleString="FFFFFFFF-0000-8888-8000-000000000000"}(b=t.ServiceInstanceTypes||(t.ServiceInstanceTypes={})),function(n){n.SettingEntriesLocationId="cd006711-163d-4cd4-a597-b05bad2556ff";n.NamedScopeSettingEntriesLocationId="4cbaafaf-e8af-4570-98d1-79ee99c56327";n.SettingsAreaName="Settings";n.SettingEntriesResource="Entries";n.SettingEntriesLocationIdString="CD006711-163D-4CD4-A597-B05BAD2556FF";n.NamedScopeSettingEntriesLocationIdString="4CBAAFAF-E8AF-4570-98D1-79EE99C56327"}(k=t.SettingsApiResourceIds||(t.SettingsApiResourceIds={}))});
define("VSS/Gallery/Contracts",["require","exports"],function(n,t){"use strict";var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt;(function(n){n[n.None=0]="None";n[n.Me=1]="Me";n[n.All=2]="All"})(t.AcquisitionAssignmentType||(t.AcquisitionAssignmentType={}));i=t.AcquisitionAssignmentType,function(n){n[n.Disallow=0]="Disallow";n[n.Allow=1]="Allow";n[n.Completed=3]="Completed"}(t.AcquisitionOperationState||(t.AcquisitionOperationState={}));r=t.AcquisitionOperationState,function(n){n[n.Get=0]="Get";n[n.Install=1]="Install";n[n.Buy=2]="Buy";n[n.Try=3]="Try";n[n.Request=4]="Request";n[n.None=5]="None"}(t.AcquisitionOperationType||(t.AcquisitionOperationType={}));u=t.AcquisitionOperationType,function(n){n[n.General=1]="General";n[n.Abusive=2]="Abusive";n[n.Spam=4]="Spam"}(t.ConcernCategory||(t.ConcernCategory={}));f=t.ConcernCategory,function(n){n[n.Exe=1]="Exe";n[n.Msi=2]="Msi";n[n.Vsix=3]="Vsix";n[n.ReferralLink=4]="ReferralLink"}(t.ExtensionDeploymentTechnology||(t.ExtensionDeploymentTechnology={}));e=t.ExtensionDeploymentTechnology,function(n){n[n.None=0]="None";n[n.Private=1]="Private";n[n.Public=2]="Public";n[n.Preview=4]="Preview";n[n.Released=8]="Released";n[n.FirstParty=16]="FirstParty";n[n.All=31]="All"}(t.ExtensionPolicyFlags||(t.ExtensionPolicyFlags={}));o=t.ExtensionPolicyFlags,function(n){n[n.Tag=1]="Tag";n[n.DisplayName=2]="DisplayName";n[n.Private=3]="Private";n[n.Id=4]="Id";n[n.Category=5]="Category";n[n.ContributionType=6]="ContributionType";n[n.Name=7]="Name";n[n.InstallationTarget=8]="InstallationTarget";n[n.Featured=9]="Featured";n[n.SearchText=10]="SearchText";n[n.FeaturedInCategory=11]="FeaturedInCategory";n[n.ExcludeWithFlags=12]="ExcludeWithFlags"}(t.ExtensionQueryFilterType||(t.ExtensionQueryFilterType={}));s=t.ExtensionQueryFilterType,function(n){n[n.None=0]="None";n[n.IncludeVersions=1]="IncludeVersions";n[n.IncludeFiles=2]="IncludeFiles";n[n.IncludeCategoryAndTags=4]="IncludeCategoryAndTags";n[n.IncludeSharedAccounts=8]="IncludeSharedAccounts";n[n.IncludeVersionProperties=16]="IncludeVersionProperties";n[n.ExcludeNonValidated=32]="ExcludeNonValidated";n[n.IncludeInstallationTargets=64]="IncludeInstallationTargets";n[n.IncludeAssetUri=128]="IncludeAssetUri";n[n.IncludeStatistics=256]="IncludeStatistics";n[n.IncludeLatestVersionOnly=512]="IncludeLatestVersionOnly";n[n.UseFallbackAssetUri=1024]="UseFallbackAssetUri";n[n.IncludeMetadata=2048]="IncludeMetadata";n[n.AllAttributes=479]="AllAttributes"}(t.ExtensionQueryFlags||(t.ExtensionQueryFlags={}));h=t.ExtensionQueryFlags,function(n){n[n.None=0]="None";n[n.Set=1]="Set";n[n.Increment=2]="Increment";n[n.Decrement=3]="Decrement";n[n.Delete=4]="Delete"}(t.ExtensionStatisticOperation||(t.ExtensionStatisticOperation={}));c=t.ExtensionStatisticOperation,function(n){n[n.None=0]="None";n[n.Validated=1]="Validated"}(t.ExtensionVersionFlags||(t.ExtensionVersionFlags={}));l=t.ExtensionVersionFlags,function(n){n[n.Backward=1]="Backward";n[n.Forward=2]="Forward"}(t.PagingDirection||(t.PagingDirection={}));a=t.PagingDirection,function(n){n[n.None=0]="None";n[n.Disabled=1]="Disabled";n[n.BuiltIn=2]="BuiltIn";n[n.Validated=4]="Validated";n[n.Trusted=8]="Trusted";n[n.Paid=16]="Paid";n[n.Public=256]="Public";n[n.MultiVersion=512]="MultiVersion";n[n.System=1024]="System";n[n.Preview=2048]="Preview";n[n.Unpublished=4096]="Unpublished"}(t.PublishedExtensionFlags||(t.PublishedExtensionFlags={}));v=t.PublishedExtensionFlags,function(n){n[n.UnChanged=1073741824]="UnChanged";n[n.None=0]="None";n[n.Disabled=1]="Disabled";n[n.Verified=2]="Verified";n[n.ServiceFlags=3]="ServiceFlags"}(t.PublisherFlags||(t.PublisherFlags={}));y=t.PublisherFlags,function(n){n[n.Read=1]="Read";n[n.UpdateExtension=2]="UpdateExtension";n[n.CreatePublisher=4]="CreatePublisher";n[n.PublishExtension=8]="PublishExtension";n[n.Admin=16]="Admin";n[n.TrustedPartner=32]="TrustedPartner";n[n.PrivateRead=64]="PrivateRead";n[n.DeleteExtension=128]="DeleteExtension";n[n.EditSettings=256]="EditSettings";n[n.ViewPermissions=512]="ViewPermissions";n[n.ManagePermissions=1024]="ManagePermissions";n[n.DeletePublisher=2048]="DeletePublisher"}(t.PublisherPermissions||(t.PublisherPermissions={}));p=t.PublisherPermissions,function(n){n[n.None=0]="None";n[n.IncludeExtensions=1]="IncludeExtensions";n[n.IncludeEmailAddress=2]="IncludeEmailAddress"}(t.PublisherQueryFlags||(t.PublisherQueryFlags={}));w=t.PublisherQueryFlags,function(n){n[n.Completed=0]="Completed";n[n.Failed=1]="Failed";n[n.Inprogress=2]="Inprogress";n[n.Skipped=3]="Skipped"}(t.RestApiResponseStatus||(t.RestApiResponseStatus={}));b=t.RestApiResponseStatus,function(n){n[n.None=0]="None";n[n.FilterEmptyReviews=1]="FilterEmptyReviews";n[n.FilterEmptyUserNames=2]="FilterEmptyUserNames"}(t.ReviewFilterOptions||(t.ReviewFilterOptions={}));k=t.ReviewFilterOptions,function(n){n[n.FlagReview=1]="FlagReview";n[n.UpdateReview=2]="UpdateReview";n[n.ReplyToReview=3]="ReplyToReview"}(t.ReviewPatchOperation||(t.ReviewPatchOperation={}));d=t.ReviewPatchOperation,function(n){n[n.Relevance=0]="Relevance";n[n.LastUpdatedDate=1]="LastUpdatedDate";n[n.Title=2]="Title";n[n.Publisher=3]="Publisher";n[n.InstallCount=4]="InstallCount";n[n.PublishedDate=5]="PublishedDate";n[n.AverageRating=6]="AverageRating";n[n.TrendingDaily=7]="TrendingDaily";n[n.TrendingWeekly=8]="TrendingWeekly";n[n.TrendingMonthly=9]="TrendingMonthly";n[n.ReleaseDate=10]="ReleaseDate"}(t.SortByType||(t.SortByType={}));g=t.SortByType,function(n){n[n.Default=0]="Default";n[n.Ascending=1]="Ascending";n[n.Descending=2]="Descending"}(t.SortOrderType||(t.SortOrderType={}));nt=t.SortOrderType;t.TypeInfo={AcquisitionAssignmentType:{enumValues:{none:0,me:1,all:2}},AcquisitionOperation:{},AcquisitionOperationState:{enumValues:{disallow:0,allow:1,completed:3}},AcquisitionOperationType:{enumValues:{get:0,install:1,buy:2,"try":3,request:4,none:5}},AcquisitionOptions:{},AzureRestApiResponseModel:{},ConcernCategory:{enumValues:{general:1,abusive:2,spam:4}},ExtensionAcquisitionRequest:{},ExtensionDeploymentTechnology:{enumValues:{exe:1,msi:2,vsix:3,referralLink:4}},ExtensionFilterResult:{},ExtensionPolicy:{},ExtensionPolicyFlags:{enumValues:{none:0,"private":1,"public":2,preview:4,released:8,firstParty:16,all:31}},ExtensionQuery:{},ExtensionQueryFilterType:{enumValues:{tag:1,displayName:2,"private":3,id:4,category:5,contributionType:6,name:7,installationTarget:8,featured:9,searchText:10,featuredInCategory:11,excludeWithFlags:12}},ExtensionQueryFlags:{enumValues:{none:0,includeVersions:1,includeFiles:2,includeCategoryAndTags:4,includeSharedAccounts:8,includeVersionProperties:16,excludeNonValidated:32,includeInstallationTargets:64,includeAssetUri:128,includeStatistics:256,includeLatestVersionOnly:512,useFallbackAssetUri:1024,includeMetadata:2048,allAttributes:479}},ExtensionQueryResult:{},ExtensionStatisticOperation:{enumValues:{none:0,set:1,increment:2,decrement:3,"delete":4}},ExtensionStatisticUpdate:{},ExtensionVersion:{},ExtensionVersionFlags:{enumValues:{none:0,validated:1}},PagingDirection:{enumValues:{backward:1,forward:2}},PublishedExtension:{},PublishedExtensionFlags:{enumValues:{none:0,disabled:1,builtIn:2,validated:4,trusted:8,paid:16,"public":256,multiVersion:512,system:1024,preview:2048,unpublished:4096}},Publisher:{},PublisherFacts:{},PublisherFilterResult:{},PublisherFlags:{enumValues:{unChanged:1073741824,none:0,disabled:1,verified:2,serviceFlags:3}},PublisherPermissions:{enumValues:{read:1,updateExtension:2,createPublisher:4,publishExtension:8,admin:16,trustedPartner:32,privateRead:64,deleteExtension:128,editSettings:256,viewPermissions:512,managePermissions:1024,deletePublisher:2048}},PublisherQuery:{},PublisherQueryFlags:{enumValues:{none:0,includeExtensions:1,includeEmailAddress:2}},PublisherQueryResult:{},QueryFilter:{},RestApiResponseStatus:{enumValues:{completed:0,failed:1,inprogress:2,skipped:3}},RestApiResponseStatusModel:{},Review:{},ReviewFilterOptions:{enumValues:{none:0,filterEmptyReviews:1,filterEmptyUserNames:2}},ReviewPatch:{},ReviewPatchOperation:{enumValues:{flagReview:1,updateReview:2,replyToReview:3}},ReviewReply:{},ReviewsResult:{},SortByType:{enumValues:{relevance:0,lastUpdatedDate:1,title:2,publisher:3,installCount:4,publishedDate:5,averageRating:6,trendingDaily:7,trendingWeekly:8,trendingMonthly:9,releaseDate:10}},SortOrderType:{enumValues:{"default":0,ascending:1,descending:2}},UserExtensionPolicy:{},UserReportedConcern:{}};t.TypeInfo.AcquisitionOperation.fields={operationState:{enumType:t.TypeInfo.AcquisitionOperationState},operationType:{enumType:t.TypeInfo.AcquisitionOperationType}};t.TypeInfo.AcquisitionOptions.fields={defaultOperation:{typeInfo:t.TypeInfo.AcquisitionOperation},operations:{isArray:!0,typeInfo:t.TypeInfo.AcquisitionOperation}};t.TypeInfo.AzureRestApiResponseModel.fields={operationStatus:{typeInfo:t.TypeInfo.RestApiResponseStatusModel}};t.TypeInfo.ExtensionAcquisitionRequest.fields={assignmentType:{enumType:t.TypeInfo.AcquisitionAssignmentType},operationType:{enumType:t.TypeInfo.AcquisitionOperationType}};t.TypeInfo.ExtensionFilterResult.fields={extensions:{isArray:!0,typeInfo:t.TypeInfo.PublishedExtension}};t.TypeInfo.ExtensionPolicy.fields={install:{enumType:t.TypeInfo.ExtensionPolicyFlags},request:{enumType:t.TypeInfo.ExtensionPolicyFlags}};t.TypeInfo.ExtensionQuery.fields={filters:{isArray:!0,typeInfo:t.TypeInfo.QueryFilter},flags:{enumType:t.TypeInfo.ExtensionQueryFlags}};t.TypeInfo.ExtensionQueryResult.fields={results:{isArray:!0,typeInfo:t.TypeInfo.ExtensionFilterResult}};t.TypeInfo.ExtensionStatisticUpdate.fields={operation:{enumType:t.TypeInfo.ExtensionStatisticOperation}};t.TypeInfo.ExtensionVersion.fields={flags:{enumType:t.TypeInfo.ExtensionVersionFlags},lastUpdated:{isDate:!0}};t.TypeInfo.PublishedExtension.fields={deploymentType:{enumType:t.TypeInfo.ExtensionDeploymentTechnology},flags:{enumType:t.TypeInfo.PublishedExtensionFlags},lastUpdated:{isDate:!0},publishedDate:{isDate:!0},publisher:{typeInfo:t.TypeInfo.PublisherFacts},releaseDate:{isDate:!0},versions:{isArray:!0,typeInfo:t.TypeInfo.ExtensionVersion}};t.TypeInfo.Publisher.fields={extensions:{isArray:!0,typeInfo:t.TypeInfo.PublishedExtension},flags:{enumType:t.TypeInfo.PublisherFlags},lastUpdated:{isDate:!0}};t.TypeInfo.PublisherFacts.fields={flags:{enumType:t.TypeInfo.PublisherFlags}};t.TypeInfo.PublisherFilterResult.fields={publishers:{isArray:!0,typeInfo:t.TypeInfo.Publisher}};t.TypeInfo.PublisherQuery.fields={filters:{isArray:!0,typeInfo:t.TypeInfo.QueryFilter},flags:{enumType:t.TypeInfo.PublisherQueryFlags}};t.TypeInfo.PublisherQueryResult.fields={results:{isArray:!0,typeInfo:t.TypeInfo.PublisherFilterResult}};t.TypeInfo.QueryFilter.fields={direction:{enumType:t.TypeInfo.PagingDirection}};t.TypeInfo.RestApiResponseStatusModel.fields={status:{enumType:t.TypeInfo.RestApiResponseStatus}};t.TypeInfo.Review.fields={reply:{typeInfo:t.TypeInfo.ReviewReply},updatedDate:{isDate:!0}};t.TypeInfo.ReviewPatch.fields={operation:{enumType:t.TypeInfo.ReviewPatchOperation},reportedConcern:{typeInfo:t.TypeInfo.UserReportedConcern},reviewItem:{typeInfo:t.TypeInfo.Review}};t.TypeInfo.ReviewReply.fields={updatedDate:{isDate:!0}};t.TypeInfo.ReviewsResult.fields={reviews:{isArray:!0,typeInfo:t.TypeInfo.Review}};t.TypeInfo.UserExtensionPolicy.fields={permissions:{typeInfo:t.TypeInfo.ExtensionPolicy}};t.TypeInfo.UserReportedConcern.fields={category:{enumType:t.TypeInfo.ConcernCategory},submittedDate:{isDate:!0}}});
define("VSS/Contributions/Contracts",["require","exports","VSS/Gallery/Contracts"],function(n,t,i){"use strict";var r,u,f,e,o,s,h,c,l;(function(n){n[n.None=0]="None";n[n.Me=1]="Me";n[n.All=2]="All"})(t.AcquisitionAssignmentType||(t.AcquisitionAssignmentType={}));r=t.AcquisitionAssignmentType,function(n){n[n.Disallow=0]="Disallow";n[n.Allow=1]="Allow";n[n.Completed=3]="Completed"}(t.AcquisitionOperationState||(t.AcquisitionOperationState={}));u=t.AcquisitionOperationState,function(n){n[n.Get=0]="Get";n[n.Install=1]="Install";n[n.Buy=2]="Buy";n[n.Try=3]="Try";n[n.Request=4]="Request";n[n.None=5]="None"}(t.AcquisitionOperationType||(t.AcquisitionOperationType={}));f=t.AcquisitionOperationType,function(n){n[n.OnlyIfLicensed=0]="OnlyIfLicensed";n[n.OnlyIfUnlicensed=1]="OnlyIfUnlicensed";n[n.AlwaysInclude=2]="AlwaysInclude"}(t.ContributionLicensingBehaviorType||(t.ContributionLicensingBehaviorType={}));e=t.ContributionLicensingBehaviorType,function(n){n[n.Unknown=0]="Unknown";n[n.String=1]="String";n[n.Uri=2]="Uri";n[n.Guid=4]="Guid";n[n.Boolean=8]="Boolean";n[n.Integer=16]="Integer";n[n.Double=32]="Double";n[n.DateTime=64]="DateTime";n[n.Dictionary=128]="Dictionary";n[n.Array=256]="Array";n[n.Object=512]="Object"}(t.ContributionPropertyType||(t.ContributionPropertyType={}));o=t.ContributionPropertyType,function(n){n[n.BuiltIn=1]="BuiltIn";n[n.Trusted=2]="Trusted"}(t.ExtensionFlags||(t.ExtensionFlags={}));s=t.ExtensionFlags,function(n){n[n.Open=0]="Open";n[n.Accepted=1]="Accepted";n[n.Rejected=2]="Rejected"}(t.ExtensionRequestState||(t.ExtensionRequestState={}));h=t.ExtensionRequestState,function(n){n[n.None=0]="None";n[n.Disabled=1]="Disabled";n[n.BuiltIn=2]="BuiltIn";n[n.MultiVersion=4]="MultiVersion";n[n.UnInstalled=8]="UnInstalled";n[n.VersionCheckError=16]="VersionCheckError";n[n.Trusted=32]="Trusted";n[n.Error=64]="Error";n[n.NeedsReauthorization=128]="NeedsReauthorization";n[n.AutoUpgradeError=256]="AutoUpgradeError";n[n.Warning=512]="Warning"}(t.ExtensionStateFlags||(t.ExtensionStateFlags={}));c=t.ExtensionStateFlags,function(n){n[n.Warning=0]="Warning";n[n.Error=1]="Error"}(t.InstalledExtensionStateIssueType||(t.InstalledExtensionStateIssueType={}));l=t.InstalledExtensionStateIssueType;t.TypeInfo={AcquisitionAssignmentType:{enumValues:{none:0,me:1,all:2}},AcquisitionOperation:{},AcquisitionOperationState:{enumValues:{disallow:0,allow:1,completed:3}},AcquisitionOperationType:{enumValues:{get:0,install:1,buy:2,"try":3,request:4,none:5}},AcquisitionOptions:{},ContributionLicensingBehaviorType:{enumValues:{onlyIfLicensed:0,onlyIfUnlicensed:1,alwaysInclude:2}},ContributionPropertyDescription:{},ContributionPropertyType:{enumValues:{unknown:0,string:1,uri:2,guid:4,boolean:8,integer:16,double:32,dateTime:64,dictionary:128,array:256,object:512}},ContributionType:{},ExtensionAcquisitionRequest:{},ExtensionAuditLog:{},ExtensionAuditLogEntry:{},ExtensionFlags:{enumValues:{builtIn:1,trusted:2}},ExtensionLicensing:{},ExtensionManifest:{},ExtensionRequest:{},ExtensionRequestedEvent:{},ExtensionRequestState:{enumValues:{open:0,accepted:1,rejected:2}},ExtensionState:{},ExtensionStateFlags:{enumValues:{none:0,disabled:1,builtIn:2,multiVersion:4,unInstalled:8,versionCheckError:16,trusted:32,error:64,needsReauthorization:128,autoUpgradeError:256,warning:512}},InstalledExtension:{},InstalledExtensionState:{},InstalledExtensionStateIssue:{},InstalledExtensionStateIssueType:{enumValues:{warning:0,error:1}},LicensingOverride:{},RequestedExtension:{}};t.TypeInfo.AcquisitionOperation.fields={operationState:{enumType:t.TypeInfo.AcquisitionOperationState},operationType:{enumType:t.TypeInfo.AcquisitionOperationType}};t.TypeInfo.AcquisitionOptions.fields={defaultOperation:{typeInfo:t.TypeInfo.AcquisitionOperation},operations:{isArray:!0,typeInfo:t.TypeInfo.AcquisitionOperation}};t.TypeInfo.ContributionPropertyDescription.fields={type:{enumType:t.TypeInfo.ContributionPropertyType}};t.TypeInfo.ContributionType.fields={properties:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.ContributionPropertyDescription}};t.TypeInfo.ExtensionAcquisitionRequest.fields={assignmentType:{enumType:t.TypeInfo.AcquisitionAssignmentType},operationType:{enumType:t.TypeInfo.AcquisitionOperationType}};t.TypeInfo.ExtensionAuditLog.fields={entries:{isArray:!0,typeInfo:t.TypeInfo.ExtensionAuditLogEntry}};t.TypeInfo.ExtensionAuditLogEntry.fields={auditDate:{isDate:!0}};t.TypeInfo.ExtensionLicensing.fields={overrides:{isArray:!0,typeInfo:t.TypeInfo.LicensingOverride}};t.TypeInfo.ExtensionManifest.fields={contributionTypes:{isArray:!0,typeInfo:t.TypeInfo.ContributionType},licensing:{typeInfo:t.TypeInfo.ExtensionLicensing}};t.TypeInfo.ExtensionRequest.fields={requestDate:{isDate:!0},requestState:{enumType:t.TypeInfo.ExtensionRequestState},resolveDate:{isDate:!0}};t.TypeInfo.ExtensionRequestedEvent.fields={extensionRequest:{typeInfo:t.TypeInfo.ExtensionRequest},publishedExtension:{typeInfo:i.TypeInfo.PublishedExtension}};t.TypeInfo.ExtensionState.fields={flags:{enumType:t.TypeInfo.ExtensionStateFlags},installationIssues:{isArray:!0,typeInfo:t.TypeInfo.InstalledExtensionStateIssue},lastUpdated:{isDate:!0},lastVersionCheck:{isDate:!0}};t.TypeInfo.InstalledExtension.fields={contributionTypes:{isArray:!0,typeInfo:t.TypeInfo.ContributionType},flags:{enumType:t.TypeInfo.ExtensionFlags},installState:{typeInfo:t.TypeInfo.InstalledExtensionState},lastPublished:{isDate:!0},licensing:{typeInfo:t.TypeInfo.ExtensionLicensing}};t.TypeInfo.InstalledExtensionState.fields={flags:{enumType:t.TypeInfo.ExtensionStateFlags},installationIssues:{isArray:!0,typeInfo:t.TypeInfo.InstalledExtensionStateIssue},lastUpdated:{isDate:!0}};t.TypeInfo.InstalledExtensionStateIssue.fields={type:{enumType:t.TypeInfo.InstalledExtensionStateIssueType}};t.TypeInfo.LicensingOverride.fields={behavior:{enumType:t.TypeInfo.ContributionLicensingBehaviorType}};t.TypeInfo.RequestedExtension.fields={extensionRequests:{isArray:!0,typeInfo:t.TypeInfo.ExtensionRequest}}});
define("VSS/Diag",["require","exports","VSS/Context","VSS/VSS"],function(n,t,i,r){function rt(){return u}function ut(n){u=n}function w(n,t){if(u){var i,r=console;switch(t){case y.Enter:i="Enter";console.time&&console.time(n);break;case y.Leave:i="Leave";console.timeEnd&&console.timeEnd(n);window.performance&&window.performance.measure&&window.performance.measure(n,n+" Enter");break;default:i="SinglePoint";console.log("%s: [%s]",n,Date.now())}n=n+" "+i;window.performance&&performance.mark&&window.performance.mark(n);r.timeStamp&&r.timeStamp(n)}}function e(n,t){return n+" is required and needs to be a "+t}function ft(n){var t=function(n,t){for(var i=""+n;i.length<t;)i="0"+i;return i};return t(n.getHours(),2)+":"+t(n.getMinutes(),2)+":"+t(n.getSeconds(),2)+"."+t(n.getMilliseconds(),3)}function h(n,i){var r,e;if(n<=t.logLevel&&(u&&window.console&&window.console.log&&(n===f.Error&&window.console.error?window.console.error(i):n===f.Warning&&window.console.warn?window.console.warn(i):window.console.log(i)),s))for(r=0,e=s.length;r<e;r++)s[r](i,n)}function d(n){h(f.Error,n)}function et(n){h(f.Warning,n)}function ot(n){h(f.Info,n)}function st(n){h(f.Verbose,n)}function ht(n){s||(s=[]);s.push(n)}function ct(n){var t,i;if(s)for(t=0,i=s.length;t<i;t++)s[t]===n&&s.splice(t--,1)}function lt(n,t){if(v){h(f.Error,"There is a profile already in progress: "+p+": "+l+"->"+a);return}l=n;a=t;document.cookie="TFS-TRACEPOINT-START="+n+";";document.cookie="TFS-TRACEPOINT-END="+t+";"}function at(){v&&(v=!1,console.profileEnd())}function vt(n,i){l!=null&&a!==null&&(l===n?(console.profile(p+": "+l+"->"+a),p++,v=!0):a===n&&(console.profileEnd(),v=!1));for(var r=0;r<c.length;r++)c[r].call(this,n,i),f.Verbose<=t.logLevel&&h(f.Verbose,"TRACEPOINT ["+ft(new Date)+"]: "+n)}function g(n){for(var t=0;t<c.length;t++)if(n===c[t])return;c.push(n)}function yt(n){for(var t=0;t<c.length;t++)n===c[t]&&c.splice(t,1)}function pt(n){t.logLevel=n}function wt(){o&&o.diagnostics&&o.diagnostics.tracePointCollectionEnabled&&(t.perfCollector=new b,t.perfCollector.register())}function bt(n,t,i){var r,u;i===void 0&&(i=f.Verbose);r=new Date;n();u=new Date;h(i,t+": "+(u.getTime()-r.getTime())+"ms")}var s,c=[],tt=!1,u=!1,it=typeof _globalThrowOnAssertFailures=="undefined"?!1:window._globalThrowOnAssertFailures,l,a,p=0,v=!1,o=i.getPageContext(),y,k,f,b,nt;o&&o.diagnostics&&(u=!!o.diagnostics.debugMode,l=o.diagnostics.tracePointProfileStart,a=o.diagnostics.tracePointProfileEnd);t.getDebugMode=rt;t.setDebugMode=ut,function(n){n[n.SinglePoint=0]="SinglePoint";n[n.Enter=1]="Enter";n[n.Leave=2]="Leave"}(t.StampEvent||(t.StampEvent={}));y=t.StampEvent;t.timeStamp=w;k=function(){function n(n){this.label=n;w(n,y.Enter)}return n.start=function(t,i){var r=new n(t);i(r)},n.prototype.finish=function(){w(this.label,y.Leave)},n}();t.Measurement=k,function(n){n[n.Off=0]="Off";n[n.Error=1]="Error";n[n.Warning=2]="Warning";n[n.Info=3]="Info";n[n.Verbose=4]="Verbose"}(t.LogVerbosity||(t.LogVerbosity={}));f=t.LogVerbosity;t.logLevel=f.Warning;o&&o.diagnostics&&typeof o.diagnostics.clientLogLevel=="number"&&(t.logLevel=o.diagnostics.clientLogLevel);t.log=h;t.logError=d;t.logWarning=et;t.logInfo=ot;t.logVerbose=st;t.listen=ht;t.unlisten=ct;t.profile=lt;t.profileEnd=at;t.logTracePoint=vt;t.addTracePointCollector=g;t.removeTracePointCollector=yt;t.setLogLevel=pt;b=function(){function n(){this._moduleInitTime=(new Date).getTime();this._tracePoints=[];this._overallCounts={};this._activeCounts={};this._lastResetTime=0;this._lastResetIndex=0}return n.prototype.register=function(){var n=this;g(function(t,i){n._handleTracePoint(t,i)})},n.prototype.getOverallCount=function(n){var t=this._overallCounts[n];return t?t:0},n.prototype.getActiveCount=function(n){var t=this._activeCounts[n];return t?t:0},n.prototype.getLastTracePoint=function(n){for(var t=this._tracePoints.length-1;t>=0;t--)if(this._tracePoints[t].name===n)return this._tracePoints[t];return null},n.prototype.getLastTracePointTime=function(n){var t=this.getLastTracePoint(n);return t?t.time:0},n.prototype.resetActiveCount=function(n){this._activeCounts[n]=0},n.prototype.resetActiveCounts=function(){this._activeCounts={};this._lastResetTime=(new Date).getTime();this._lastResetIndex=this._tracePoints.length},n.prototype.getModuleInitTime=function(){return this._moduleInitTime},n.prototype.getTracePoints=function(n){return n===!0?this._tracePoints.slice(this._lastResetIndex):this._tracePoints},n.prototype.getTracePointCountData=function(n){for(var i,u="",t=0,r=n.length;t<r;t++)i=n[t],u+=this.getActiveCount(i)+";"+this.getOverallCount(i)+"\t";return u},n.prototype.dumpTracePoints=function(n){var i,f,r,u,e,t;for(i="ModuleInitTime\t"+this._moduleInitTime+"\nLastReset\t"+Math.max(0,this._lastResetTime-this._moduleInitTime),f=this.getTracePoints(n),e=f.length,u=0;u<e;u++)r=f[u],i+="\n"+(r.time-this._moduleInitTime)+"\t"+r.name,t=r.data,t&&(t instanceof Error&&(t=t.message,t.stackTrace&&(t+=" @"+t.stackTrace)),$.isArray(t)&&(t=t.join(";")),i+=("\t"+t).replace(/[\n\r]/g," "));return i},n.prototype._updateCount=function(n,t){var i=n[t];n[t]=i?i+1:1},n.prototype._handleTracePoint=function(n,t){var i={time:(new Date).getTime(),name:n,data:t};this._tracePoints.push(i);this._updateCount(this._overallCounts,n);this._updateCount(this._activeCounts,n)},n}();t.PerfTracePointCollector=b;wt();t.measurePerformance=bt;nt=function(){function n(){}return n.setDisplayCallers=function(n){tt=n},n.fail=function(t){if(u){if(it)throw new Error("Assertion failure: "+t);d("Assertion failure: '"+t+"'.");n._noDebugPrompts||confirm("Assertion failure: '"+t+"'. Would you like to break into the debugger?")||(n._noDebugPrompts=!0)}},n.assert=function(t,i){u&&!t&&n.fail(i)},n.assertIsObject=function(t,i){u&&(t===null||typeof t!="object")&&n.fail(i)},n.assertParamIsObject=function(t,i,r){if(u){var f=r&&(t===null||t===undefined)||t!==null&&typeof t=="object";f||n.fail(e(i,"object"))}},n.assertIsArray=function(t,i,r){u&&(!$.isArray(t)||r&&t.length===0)&&n.fail(i)},n.assertParamIsArray=function(t,i,r){u&&(!$.isArray(t)||r&&t.length===0)&&n.fail(e(i,"array"+r?" (non-empty)":""))},n.assertIsBool=function(t,i){u&&typeof t!="boolean"&&n.fail(i)},n.assertParamIsBool=function(t,i){u&&typeof t!="boolean"&&n.fail(e(i,"boolean"))},n.assertIsNumber=function(n,t){u&&(typeof n!="number"||isNaN(n))&&this.fail(t)},n.assertParamIsNumber=function(t,i){u&&(typeof t!="number"||isNaN(t))&&n.fail(e(i,"number"))},n.assertIsInteger=function(t,i){u&&(typeof t!="number"||isNaN(t)||Math.round(t)!==t)&&n.fail(i)},n.assertParamIsInteger=function(t,i){u&&(typeof t!="number"||isNaN(t)||Math.round(t)!==t)&&n.fail(e(i,"integer"))},n.assertIsString=function(t,i){u&&typeof t!="string"&&n.fail(i)},n.assertParamIsString=function(t,i){u&&typeof t!="string"&&n.fail(e(i,"string"))},n.assertIsStringNotEmpty=function(t,i){u&&(typeof t!="string"||t==="")&&n.fail(i)},n.assertParamIsStringNotEmpty=function(t,i){u&&(typeof t!="string"||t==="")&&n.fail(e(i,"non-empty string"))},n.assertIsFunction=function(t,i){u&&typeof t!="function"&&n.fail(i)},n.assertParamIsFunction=function(t,i){u&&typeof t!="function"&&n.fail(e(i,"function"))},n.assertIsDate=function(t,i){!u||t instanceof Date||n.fail(i)},n.assertParamIsDate=function(t,i){!u||t instanceof Date||n.fail(e(i,"date"))},n.assertIsNotNull=function(t,i){u&&(t===null||t===undefined)&&n.fail(i)},n.assertParamIsNotNull=function(t,i){u&&t===null&&n.fail(e(i,"not null and not undefined"))},n.assertIsNotUndefined=function(t,i){u&&t===undefined&&n.fail(i)},n.assertParamIsNotUndefined=function(t,i){u&&t===undefined&&n.fail(e(i,"not undefined"))},n.assertIsJQueryObject=function(t,i){u&&(t===null||typeof t!="object"||typeof t.jquery!="string")&&n.fail(i)},n.assertParamIsJQueryObject=function(t,i){u&&(t===null||typeof t!="object"||typeof t.jquery!="string")&&n.fail(e(i,"jQuery object"))},n.assertIsType=function(t,i,r,f){var e;u&&(e=t===null||t===undefined&&i!=="undefined"?f:typeof i=="string"?typeof t===i:t instanceof i,e||n.fail(r))},n.getTypeName=function(t){return(t||n.fail("An assert to check a value's type was handed an invalid type to check for."),typeof t=="string")?t:(n.assertIsFunction(t,"Expected to have a constructor function passed when checking a type"),t.toString().match(/^\s*function\s*([\w]*)\(/)[1]||"Unnamed type: ("+t.toString()+")")},n.assertParamIsType=function(t,i,r,f){u&&n.assertIsType(t,i,e(r,n.getTypeName(i)),f)},n.logInfo=function(n){h(f.Info,n)},n.logVerbose=function(n){h(f.Verbose,n)},n._noDebugPrompts=!1,n}();t.Debug=nt;r.tfsModuleLoaded("VSS.Diag",t)});
define("VSS/Utils/File",["require","exports","VSS/Diag"],function(n,t,i){function o(n){var f,t,e,u,o,i;if(typeof atob=="undefined")return r.Unknown;for(f=window.atob(n),t=[],u=0;u<4;u++)t.push(f.charCodeAt(u));if(t[0]===254&&t[1]===255)return r.UTF16_BE;if(t[0]===255&&t[1]===254)return t[2]===0&&t[3]===0?r.UTF32_LE:r.UTF16_LE;if(t[0]===239&&t[1]===187&&t[2]===191)return r.UTF8;if(t[0]===0&&t[1]===0&&t[2]===254&&t[3]===255)return r.UTF32_BE;for(e=!0,u=0,o=f.length;u<o;u++){if(i=f.charCodeAt(u),(i<=31||i==127)&&i!=9&&i!=12&&i!=13&&i!=10&&i!=26)return r.Binary;i>127&&(e=!1)}return e?r.ASCII:r.UTF8}function s(n,t,i){i===void 0&&(i=u);var r=n||"";return t&&(r=e(r,i)+(t.substr(0,i.length)===i?t.substr(i.length):t)),r}function e(n,t){return(t===void 0&&(t=u),!n)?t:n.substr(n.length-t.length)===t?n:n+t}function f(n,t){var r,f;return(t===void 0&&(t=u),r=[],n&&(r=n.split(t)),f=r.length>0&&r.every(function(n){return Boolean(n)}),!f)?(i.logWarning("Invalid path: "+n),null):r}function h(n,t){t===void 0&&(t=u);var i=f(n,t);return i?i.slice(0,i.length-1).join(t):null}function c(n,t){t===void 0&&(t=u);var i=f(n,t);return i?i[i.length-1]:null}var u="/",r;(function(n){n[n.Unknown=0]="Unknown";n[n.Binary=1]="Binary";n[n.ASCII=2]="ASCII";n[n.UTF8=3]="UTF8";n[n.UTF32_BE=4]="UTF32_BE";n[n.UTF32_LE=5]="UTF32_LE";n[n.UTF16_BE=6]="UTF16_BE";n[n.UTF16_LE=7]="UTF16_LE"})(t.FileEncoding||(t.FileEncoding={}));r=t.FileEncoding;t.tryDetectFileEncoding=o;t.combinePaths=s;t.ensureTrailingSeparator=e;t.getPathParts=f;t.getDirectoryName=h;t.getFileName=c});
define("VSS/Utils/Url",["require","exports","VSS/Diag","VSS/Utils/File","VSS/Utils/String","VSS/VSS"],function(n,t,i,r,u,f){function h(n){var r,f,e,t;if(r=n.trim(),f=r.indexOf(":"),f>=0)for(e=r.substr(0,f),t=0;t<s.length;t++)if(u.ignoreCaseComparer(e,s[t])===0)return!0;return!1}function v(n,t,i){var u=-1,f,r;return(t&&i&&(u=n.search(t+"="+i)),u>=0)?n:(f=new RegExp("("+t+"=).*?(&|$)"),r=n.replace(f,"$1"+i+"$2"),r===n&&(r=r+(r.indexOf("?")>0?"&":"?")+t+"="+i),r)}function y(n){return n&&n.length<=2e3}function p(){return c}function w(n){for(var t,i={},f=o.parse(n).queryParameters,r=0,u=f;r<u.length;r++)t=u[r],i[t.name]||(i[t.name]=t.value);return i}function l(n){return n?(n=n.toLowerCase(),n.indexOf("http:")===0||n.indexOf("https:")===0):!1}function b(n,t){return l(t)?t:r.combinePaths(n,t)}var a=f.handleError,s=["http","https","ftp","gopher","mailto","news","telnet","wais","vstfs","tfs","alm","mtm","mtms","mtr","mtrs","mfbclient","mfbclients","x-mvwit","onenote","codeflow"],e,c,o;t.isSafeProtocol=h;t.replaceUrlParam=v;t.isUrlWithinConstraints=y;e=function(){function n(){this._urlTranslators=[]}return n.prototype.registerUrlTranslator=function(n,t){this._urlTranslators.push({translator:n,order:t||100});this._urlTranslators.sort(function(n,t){return n.order-t.order})},n.prototype.beginTranslateUrl=function(n,t,i,r){function f(n){$.isFunction(i)&&i.call(u,n)}function s(n){a(n,r,u)}function e(){var i=u._urlTranslators[o++];i?i.translator.call(u,n,t,f,s,e):f(n)}var u=this,o=0;if(n)if(h(n))e();else return f(null);else f(n)},n}();t.UrlTranslatorService=e;c=new e;t.getTranslatorService=p;t.getQueryParameters=w;o=function(){function n(n){n&&this._setFromUriString(n,null)}return n.parse=function(t,i){var r=new n;return r._setFromUriString(t,i),r},n.prototype._setFromUriString=function(n,t){var i=n,s=u.singleSplit(i,"#"),f,e,o,r;if(s.match?(i=s.part1,this.hashString=decodeURIComponent(s.part2)):this.hashString="",f=u.singleSplit(i,"?"),f.match?(i=f.part1,this.queryString=f.part2):this.queryParameters=[],i=decodeURI(i),e=u.singleSplit(i,"://"),e.match?(this.scheme=e.part1,i=e.part2,o=u.singleSplit(i,"/"),o.match?(i=o.part1,this.path=o.part2):this.path="",r=u.singleSplit(i,":"),r.match&&r.part2?(this.host=r.part1,this.port=parseInt(r.part2)):(this.host=i,this.port=0)):(this.scheme="",this.host="",this.port=0,this.path=i),t&&t.absoluteUriRequired&&!this.scheme)throw new Error('The uri string "'+n+'" does not represent a valid absolute uri.');},Object.defineProperty(n.prototype,"absoluteUri",{get:function(){var n="",t;return this.scheme&&(n=this.scheme+"://"),this.host&&(n+=this.host,this.port&&(n+=":"+this.port),n+="/"),this.path&&(n=n?r.combinePaths(n,this.path):this.path),n=encodeURI(n),t=this.queryString,t&&(n+="?"+t),this.hashString&&(n+="#"+encodeURIComponent(this.hashString)),n},set:function(n){this._setFromUriString(n||"",!1)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"queryString",{get:function(){return this.queryParameters&&this.queryParameters.length?this.queryParameters.map(function(n){return n.value?encodeURIComponent(n.name)+"="+encodeURIComponent(n.value):encodeURIComponent(n.name)}).join("&"):""},set:function(n){var t=this;this.queryParameters=[];n.split("&").forEach(function(n){if(n){var i=u.singleSplit(n,"="),r=i.match?decodeURIComponent(i.part2):"";t.queryParameters.push({name:decodeURIComponent(i.part1),value:r})}})},enumerable:!0,configurable:!0}),n.prototype.getQueryParam=function(n){var i,t;return this.queryParameters&&(t=this.queryParameters.filter(function(t){return u.equals(t.name,n,!0)}),t.length>0&&(i=t[0].value)),i},n.prototype.addQueryParam=function(n,t,i){this.queryParameters||(this.queryParameters=[]);i&&(this.queryParameters=this.queryParameters.filter(function(t){return!u.equals(t.name,n,!0)}));this.queryParameters.push({name:n,value:t})},n}();t.Uri=o;t.isAbsoluteUrl=l;t.combineUrl=b});
define("VSS/Locations",["require","exports","VSS/Authentication/Services","VSS/Context","VSS/Common/Contracts/Platform","q","VSS/Utils/File","VSS/Utils/String","VSS/Utils/Url","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h){function w(n,t){var i=a[t];return i||(i=n.getServiceDefinitions("LocationService2").then(function(n){var i;return c[t]||(c[t]={}),i=c[t],$.each(n,function(n,t){if(t.locationMappings){var r=$.grep(t.locationMappings,function(n){return n.accessMappingMoniker==="PublicAccessMapping"||n.accessMappingMoniker==="ServerAccessMapping"})[0];r||(r=$.grep(t.locationMappings,function(n){return n.accessMappingMoniker==="HostGuidAccessMapping"})[0]);r&&(r.location=e.ensureTrailingSeparator(r.location),i[t.identifier]=r.location,i[t.parentIdentifier]=r.location)}}),i}),a[t]=i),i}function y(n,t){return n[t.toLowerCase()]}function l(n,t,i){var e=null,f=r.getPageContext(),s;return f.serviceLocations&&(s=f.serviceLocations.locations[n.toLowerCase()],s&&(e=s[t])),e||o.equals(f.serviceInstanceId,n,!0)&&(i&&f.webContext.host.id!==i.host.id||(t===u.ContextHostType.Deployment&&f.webContext.host.hostType===u.ContextHostType.Deployment?e=f.webContext.host.uri:t===u.ContextHostType.Application&&f.webContext.account?e=f.webContext.account.uri:t===u.ContextHostType.ProjectCollection&&f.webContext.collection&&(e=f.webContext.collection.uri))),e||c[t]&&(e=y(c[t],n,t,i)),e}function b(n,t,i){c[i]||(c[i]={});c[i][t.toLowerCase()]=n}function p(n,t,s,c){if(c===void 0&&(c=!1),s||(s=r.getDefaultWebContext()),!r.getPageContext().webAccessConfiguration.isHosted)return t===u.ContextHostType.ProjectCollection?s.collection?f.resolve(s.collection.uri):f.reject("Cannot get collection location given application context."):f.resolve(s.account.uri);var a=l(n,t,s);return a?f.resolve(a):h.requireModules(["VSS/Locations/Contracts","VSS/Locations/RestClient","VSS/WebApi/Constants"]).spread(function(h,v,p){if(o.equals(n,p.ServiceInstanceTypes.SPS,!0))throw new Error("SPS Locations must exist in cached page context.");var d=l(p.ServiceInstanceTypes.SPS,t,s),b=new v.LocationsHttpClient(d),k;return(t===u.ContextHostType.Deployment||r.getPageContext().navigation.topMostLevel===u.NavigationContextLevels.Deployment)&&(k=i.CoreNamedWebSessionTokenIds.Profile),b.authTokenManager=i.getAuthTokenManager(k),w(b,t).then(function(i){if(a=y(i,n,t,s),a)return f.resolve(a);if(c)return b.getServiceDefinition("LocationService2",n).then(function(t){if(t&&t.locationMappings){var i=$.grep(t.locationMappings,function(n){return n.accessMappingMoniker==="ServerAccessMapping"})[0];if(i)return i.location=e.ensureTrailingSeparator(i.location),a=i.location}throw new Error("Could not create location for service "+n+".");},function(t){throw new Error("Error getting location for service "+n+": "+(t?t.message:t)+".");});throw new Error("Location for service "+n+" does not exist.");})})}var v=function(){function n(n,t){n===void 0&&(n="_");t===void 0&&(t="_");this._areaPrefix=n;this._controllerPrefix=t}return n.prototype.getContentUrl=function(n){var i=n.webContext||r.getDefaultWebContext(),t,f;if(n.serviceInstanceId&&r.getPageContext().webAccessConfiguration.isHosted){if(t=l(n.serviceInstanceId,n.hostType,i),!t)throw new Error("Could not get url for service "+n.serviceInstanceId+" since it is not yet in the cache.");}else f=n.hostType===u.ContextHostType.Application&&i.account?i.account:i.host,t=window.self==window.top?encodeURI(f.relativeUri):f.uri;return n.relativePath&&(t=e.combinePaths(t,n.relativePath)),n.queryParams&&(t+="?"+$.param(n.queryParams)),t},n.prototype.getVersionedContentUrl=function(n,t){var i,o=r.getPageContext(),f,a,h,c,v;if(window.self!=window.top||t&&o.webAccessConfiguration.isHosted)if(f=r.getDefaultWebContext(),t&&!o.webAccessConfiguration.isHosted){if(a=f.host.hostType===u.ContextHostType.ProjectCollection?u.ContextHostType.Application:f.host.hostType,h=l(t,a,f),!h)throw new Error("Could not get url for service "+t+" since it is not yet in the cache.");if(c=r.getPathsForService(t),!c)throw new Error("Could not get web access paths for service "+t+" since it is not yet in page context data.");i=c.resourcesPath;s.isAbsoluteUrl(i)||(i=e.combinePaths(h,i))}else i=o.webAccessConfiguration.paths.resourcesPath,s.isAbsoluteUrl(i)||(v=f.host.uri.substr(0,f.host.uri.length-(f.host.relativeUri||"").length),i=e.combinePaths(v,i));else i=o.webAccessConfiguration.paths.resourcesPath;return e.combinePaths(i,n)},n.prototype.beginGetMvcUrl=function(n){var i=this,t;return n.serviceInstanceId?(n.level?(t=n.level,n.level>=u.NavigationContextLevels.Collection&&(t=u.ContextHostType.ProjectCollection)):t=(n.webContext||r.getDefaultWebContext()).host.hostType,p(n.serviceInstanceId,t,n.webContext).then(function(){return i.getMvcUrl(n)})):f.resolve(this.getMvcUrl(n))},n.prototype.getMvcUrl=function(n){var i=n.webContext||r.getDefaultWebContext(),o=n.area==="api",t=[],f=n.level,e;return f||(f=r.getPageContext().navigation.topMostLevel),e=f,(f>=u.NavigationContextLevels.Project||n.project)&&(e=u.ContextHostType.ProjectCollection,n.project?t.push(n.project):i.project&&t.push(o?i.project.id:i.project.name),(f>=u.NavigationContextLevels.Team||n.team)&&(n.team?t.push(n.team):i.team&&t.push(o?i.team.id:i.team.name))),n.area&&t.push(this._areaPrefix+n.area),n.controller&&t.push(this._controllerPrefix+n.controller),n.action&&t.push(n.action),n.parameters&&(t=t.concat(n.parameters)),this.getContentUrl({hostType:e,serviceInstanceId:n.serviceInstanceId,webContext:i,relativePath:encodeURI(t.join("/")),queryParams:n.queryParams})},n}(),a,c;t.UrlHelper=v;t.urlHelper=new v;a={};c={};t.getCachedServiceLocation=l;t.addServiceLocation=b;t.beginGetServiceLocation=p});
define("VSS/SDK/XDM",["require","exports"],function(n,t){function r(n){return t.channelManager.addChannel(n)}function u(){return new i.XDMObjectRegistry}var i;(function(n){function u(){return new o}function s(){return Math.floor(Math.random()*(f-t)+t).toString(36)+Math.floor(Math.random()*(f-t)+t).toString(36)}var i,r,e;n.createDeferred=u;var o=function(){function n(){var n=this;this._resolveCallbacks=[];this._rejectCallbacks=[];this._isResolved=!1;this._isRejected=!1;this.resolve=function(t){n._resolve(t)};this.reject=function(t){n._reject(t)};this.promise={};this.promise.then=function(t,i){return n._then(t,i)}}return n.prototype._then=function(t,i){var u=this,r;return!t&&!i||this._isResolved&&!t||this._isRejected&&!i?this.promise:(r=new n,this._resolveCallbacks.push(function(n){u._wrapCallback(t,n,r,!1)}),this._rejectCallbacks.push(function(n){u._wrapCallback(i,n,r,!0)}),this._isResolved?this._resolve(this._resolvedValue):this._isRejected&&this._reject(this._rejectValue),r.promise)},n.prototype._wrapCallback=function(n,t,i,r){if(!n){r?i.reject(t):i.resolve(t);return}var u;try{u=n(t)}catch(f){i.reject(f);return}u===undefined?i.resolve(t):u&&typeof u.then=="function"?u.then(function(n){i.resolve(n)},function(n){i.reject(n)}):i.resolve(u)},n.prototype._resolve=function(n){if(this._isRejected||this._isResolved||(this._isResolved=!0,this._resolvedValue=n),this._isResolved&&this._resolveCallbacks.length>0){var t=this._resolveCallbacks.splice(0);window.setTimeout(function(){for(var i=0,r=t.length;i<r;i++)t[i](n)})}},n.prototype._reject=function(n){if(this._isRejected||this._isResolved||(this._isRejected=!0,this._rejectValue=n,this._rejectCallbacks.length===0&&window.console&&window.console.warn&&(console.warn("Rejected XDM promise with no reject callbacks"),n&&console.warn(n))),this._isRejected&&this._rejectCallbacks.length>0){var t=this._rejectCallbacks.splice(0);window.setTimeout(function(){for(var i=0,r=t.length;i<r;i++)t[i](n)})}},n}(),t=parseInt("10000000000",36),f=Number.MAX_SAFE_INTEGER||9007199254740991;i=function(){function n(){this._registeredObjects={}}return n.prototype.register=function(n,t){this._registeredObjects[n]=t},n.prototype.getInstance=function(n,t){var i=this._registeredObjects[n];return i?typeof i=="function"?i(t):i:null},n}();n.XDMObjectRegistry=i;n.globalObjectRegistry=new i;r=function(){function t(n,r){r===void 0&&(r=null);this._nextMessageId=1;this._deferreds={};this._nextProxyFunctionId=1;this._proxyFunctions={};this._postToWindow=n;this._targetOrigin=r;this._channelObjectRegistry=new i;this._channelId=t._nextChannelId++;this._targetOrigin||(this._handshakeToken=s())}return t.prototype.getObjectRegistry=function(){return this._channelObjectRegistry},t.prototype.invokeRemoteMethod=function(n,t,i,r,f){var e={id:this._nextMessageId++,methodName:n,instanceId:t,instanceContext:r,params:this._customSerializeObject(i,f),jsonrpc:"2.0",serializationSettings:f},o;return this._targetOrigin||(e.handshakeToken=this._handshakeToken),o=u(),this._deferreds[e.id]=o,this._sendRpcMessage(e),o.promise},t.prototype.getRemoteObjectProxy=function(n,t){return this.invokeRemoteMethod(null,n,null,t)},t.prototype.invokeMethod=function(n,t){var f=this,r,u,i;if(!t.methodName){this._success(t,n,t.handshakeToken);return}if(r=n[t.methodName],typeof r!="function"){this._error(t,new Error("RPC method not found: "+t.methodName),t.handshakeToken);return}try{u=[];t.params&&(u=this._customDeserializeObject(t.params));i=r.apply(n,u);i&&i.then&&typeof i.then=="function"?i.then(function(n){f._success(t,n,t.handshakeToken)},function(n){f._error(t,n,t.handshakeToken)}):this._success(t,i,t.handshakeToken)}catch(e){this._error(t,e,t.handshakeToken)}},t.prototype.getRegisteredObject=function(t,i){if(t==="__proxyFunctions")return this._proxyFunctions;var r=this._channelObjectRegistry.getInstance(t,i);return r||(r=n.globalObjectRegistry.getInstance(t,i)),r},t.prototype.onMessage=function(n){var u=this,t=n,i,r;if(t.instanceId){if(i=this.getRegisteredObject(t.instanceId,t.instanceContext),!i)return!1;typeof i.then=="function"?i.then(function(n){u.invokeMethod(n,t)},function(n){u._error(t,n,t.handshakeToken)}):this.invokeMethod(i,t)}else{if(r=this._deferreds[t.id],!r)return!1;t.error?r.reject(this._customDeserializeObject([t.error])[0]):r.resolve(this._customDeserializeObject([t.result])[0]);delete this._deferreds[t.id]}return!0},t.prototype.owns=function(n,t,i){var r=i;if(this._postToWindow===n){if(this._targetOrigin)return t?t.toLowerCase()==="null"||this._targetOrigin.toLowerCase().indexOf(t.toLowerCase())===0:!1;if(r.handshakeToken&&r.handshakeToken===this._handshakeToken)return this._targetOrigin=t,!0}return!1},t.prototype.error=function(n,t){var i=n;this._error(i,t,i.handshakeToken)},t.prototype._error=function(n,t,i){var r={id:n.id,error:this._customSerializeObject([t],n.serializationSettings)[0],jsonrpc:"2.0",handshakeToken:i};this._sendRpcMessage(r)},t.prototype._success=function(n,t,i){var r={id:n.id,result:this._customSerializeObject([t],n.serializationSettings)[0],jsonrpc:"2.0",handshakeToken:i};this._sendRpcMessage(r)},t.prototype._sendRpcMessage=function(n){var t=JSON.stringify(n);this._postToWindow.postMessage(t,"*")},t.prototype._shouldSkipSerialization=function(n){for(var r,i=0,u=t.WINDOW_TYPES_TO_SKIP_SERIALIZATION.length;i<u;i++)if(r=t.WINDOW_TYPES_TO_SKIP_SERIALIZATION[i],window[r]&&n instanceof window[r])return!0;if(window.jQuery)for(i=0,u=t.JQUERY_TYPES_TO_SKIP_SERIALIZATION.length;i<u;i++)if(r=t.JQUERY_TYPES_TO_SKIP_SERIALIZATION[i],window.jQuery[r]&&n instanceof window.jQuery[r])return!0;return!1},t.prototype._customSerializeObject=function(n,i,r,u,f){var h=this,a,o,l,v,e,c,s;if((r===void 0&&(r=null),u===void 0&&(u=1),f===void 0&&(f=1),!n||f>t.MAX_XDM_DEPTH)||this._shouldSkipSerialization(n))return null;if(a=function(t,e,o){var s,c,l,a,v;try{s=t[o]}catch(y){}(c=typeof s,c!=="undefined")&&(l=-1,c==="object"&&(l=r.originalObjects.indexOf(s)),l>=0?(a=r.newObjects[l],a.__circularReferenceId||(a.__circularReferenceId=u++),e[o]={__circularReference:a.__circularReferenceId}):c==="function"?(v=h._nextProxyFunctionId++,e[o]={__proxyFunctionId:h._registerProxyFunction(s,n),__channelId:h._channelId}):c==="object"?e[o]=s&&s instanceof Date?{__proxyDate:s.getTime()}:h._customSerializeObject(s,i,r,u,f+1):o!=="__proxyFunctionId"&&(e[o]=s))},r||(r={newObjects:[],originalObjects:[]}),r.originalObjects.push(n),n instanceof Array)for(o=[],r.newObjects.push(o),e=0,c=n.length;e<c;e++)a(n,o,e);else{o={};r.newObjects.push(o);l={};try{for(s in n)l[s]=!0;for(v=Object.getOwnPropertyNames(n),e=0,c=v.length;e<c;e++)l[v[e]]=!0}catch(y){}for(s in l)(s&&s[0]!=="_"||i&&i.includeUnderscoreProperties)&&a(n,o,s)}return r.originalObjects.pop(),r.newObjects.pop(),o},t.prototype._registerProxyFunction=function(n,t){var i=this._nextProxyFunctionId++;return this._proxyFunctions["proxy"+i]=function(){return n.apply(t,Array.prototype.slice.call(arguments,0))},i},t.prototype._customDeserializeObject=function(n,t){var e=this,o=this,r,i,u,f;if(!n)return null;if(t||(t={}),r=function(n,i){var r=n[i],u=typeof r;i==="__circularReferenceId"&&u==="number"?(t[r]=n,delete n[i]):u==="object"&&r&&(r.__proxyFunctionId?n[i]=function(){return o.invokeRemoteMethod("proxy"+r.__proxyFunctionId,"__proxyFunctions",Array.prototype.slice.call(arguments,0),null,{includeUnderscoreProperties:!0})}:r.__proxyDate?n[i]=new Date(r.__proxyDate):r.__circularReference?n[i]=t[r.__circularReference]:e._customDeserializeObject(r,t))},n instanceof Array)for(i=0,u=n.length;i<u;i++)r(n,i);else if(typeof n=="object")for(f in n)r(n,f);return n},t._nextChannelId=1,t.MAX_XDM_DEPTH=100,t.WINDOW_TYPES_TO_SKIP_SERIALIZATION=["Node","Window","Event"],t.JQUERY_TYPES_TO_SKIP_SERIALIZATION=["jQuery"],t}();n.XDMChannel=r;e=function(){function n(){this._channels=[];this._subscribe(window)}return n.get=function(){return this._default||(this._default=new n),this._default},n.prototype.addChannel=function(n,t){var i=new r(n,t);return this._channels.push(i),i},n.prototype._handleMessageReceived=function(n){var i,e,r,t,u,f;if(typeof n.data=="string")try{t=JSON.parse(n.data)}catch(o){}if(t){for(u=!1,i=0,e=this._channels.length;i<e;i++)r=this._channels[i],r.owns(n.source,n.origin,t)&&(f=r,u=r.onMessage(t,n.origin)||u);!f||u||(window.console&&console.error("No handler found on any channel for message: "+JSON.stringify(t)),t.instanceId&&f.error(t,"The registered object "+t.instanceId+" could not be found."))}},n.prototype._subscribe=function(n){var t=this;n.addEventListener?n.addEventListener("message",function(n){t._handleMessageReceived(n)}):n.attachEvent("onmessage",function(n){t._handleMessageReceived(n)})},n}();n.XDMChannelManager=e})(i||(i={}));t.createChannel=r;t.createObjectRegistry=u;t.channelManager=i.XDMChannelManager.get();t.globalObjectRegistry=i.globalObjectRegistry});
define("VSS/SDK/Shim",["require","exports","VSS/SDK/XDM","VSS/VSS"],function(n,t,i,r){function f(n,i){t.VSS.register(n,i)}function u(){return!!(window.VSS&&window.VSS.VssSDKVersion)}t.registerContent=f;var e=function(){function n(){}return n.prototype.getService=function(n,t){return r.requireModules(["VSS/SDK/Host"]).spread(function(i){var r=new i.HostManagementService({});return r.getServiceContribution(n).then(function(n){return n.getInstance(n.id,t)})})},n.prototype.getServiceContributions=function(n){return r.requireModules(["VSS/SDK/Host"]).spread(function(t){var i=new t.HostManagementService({});return i.getServiceContributions(n)})},n.prototype.register=function(n,t){i.globalObjectRegistry.register(n,t)},n.prototype.getRegisteredObject=function(n,t){return i.globalObjectRegistry.getInstance(n,t)},n.prototype.resize=function(){},n}();t.isSdkReferenced=u;t.VSS=u()?window.VSS:new e});
define("VSS/Service",["require","exports","VSS/Authentication/Services","VSS/Context","VSS/Common/Contracts/Platform","VSS/Diag","VSS/Locations","VSS/SDK/Shim","VSS/Utils/String","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h){function v(n,t,i){return a.getService(n,t,i)}function y(n,t){return c.getConnection(t,u.ContextHostType.ProjectCollection).getService(n)}function p(n,t){return c.getConnection(t,u.ContextHostType.Application).getService(n)}function w(n,t){return c.getConnection(t).getService(n)}function b(n,t,i,r,f){return c.getConnection(t,u.ContextHostType.ProjectCollection).getHttpClient(n,i,r,f)}function k(n,t,i,r,f){return c.getConnection(t,u.ContextHostType.Application).getHttpClient(n,i,r,f)}function d(n,t,i,r,u){return c.getConnection(t).getHttpClient(n,i,r,u)}var c=function(){function n(t,i){this._webContext=t||r.getDefaultWebContext();this._hostType=i||this._webContext.host.hostType;this._hostContext=n.getHostContext(this._webContext,i);this._services={};this._httpClients={}}return n.getConnection=function(t,i){var f,e;return t||(t=r.getDefaultWebContext()),i||(i=t.host.hostType),f=n.getHostContext(t,i).uri,i===u.ContextHostType.ProjectCollection&&t.project&&(f+="/"+t.project.id,t.team&&(f+="/"+t.team.id)),e=n._connectionsCache[f],e||(e=new n(t,i),n._connectionsCache[f]=e),e},n.getHostContext=function(n,t){var i;if(i=t===u.ContextHostType.ProjectCollection?n.collection:t===u.ContextHostType.Application?n.account:n.host,!i)throw new Error("Desired host type not supported on the given web context");return i},n.prototype.getWebContext=function(){return this._webContext},n.prototype.getHostContext=function(){return this._hostContext},n.prototype.getHostType=function(){return this._hostType},n.prototype.getHostUrl=function(){return window.self!==window.top?this._hostContext.uri:encodeURI(this._hostContext.relativeUri)},n.prototype.getService=function(n,t){t===void 0&&(t=!0);var i,r;return r="vssService."+h.getTypeName(n),t&&(i=this._services[r]),i||(i=new n,i.initializeConnection(this),t&&(this._services[r]=i)),i},n.prototype.getHttpClient=function(n,t,u,e){var p=this,a,l,c,v,y;return t||(t=n.serviceInstanceId),t&&(t=t.toLowerCase()),a=t&&!u&&r.getPageContext().webAccessConfiguration.isHosted&&!s.equals(t,r.getPageContext().serviceInstanceId,!0),l="vssHttpClient."+h.getTypeName(n),a&&(l+="."+t),e&&(l+="."+JSON.stringify(e)),c=this._httpClients[l],c||(v=this.getHostUrl(),u&&(v=this._hostContext.uri),c=new n(v,e),u?c.authTokenManager=u:a?(y=this.beginGetServiceUrl(t,this._hostType,!0).then(function(n){c._rootRequestPath=n;p._isSameOrigin(n)&&window.self===window.top||(c.authTokenManager=i.getAuthTokenManager())}),c._setInitializationPromise(y),c.forceOptionsCallForAutoNegotiate=!0):window.self!==window.top&&o.isSdkReferenced()&&(c.authTokenManager=i.getAuthTokenManager()),this._httpClients[l]=c),c},n.prototype.beginGetServiceUrl=function(n,t,i){return i===void 0&&(i=!1),t||(t=this._hostType),e.beginGetServiceLocation(n,t,this._webContext,i)},n.prototype._isSameOrigin=function(n){var t=s.format("{0}//{1}",window.location.protocol,window.location.host).toLowerCase();return n.toLowerCase().indexOf(t)===0},n._connectionsCache={},n}(),l,a;t.VssConnection=c;l=function(){function n(){}return n.prototype.getConnection=function(){return this._connection},n.prototype.getWebContext=function(){return this._connection.getWebContext()},n.prototype.initializeConnection=function(n){this._connection=n},n}();t.VssService=l;a=function(){function n(){}return n.getService=function(n,t,i){t=t!==!1;i||(i=r.getDefaultWebContext());var u,e="vssLocalService."+h.getTypeName(n);return t&&(u=this._services[e]),u||(u=new n(i),t&&(this._services[e]=u)),u},n._services={},n}();t.getLocalService=v;t.getCollectionService=y;t.getApplicationService=p;t.getService=w;t.getCollectionClient=b;t.getApplicationClient=k;t.getClient=d;h.tfsModuleLoaded("VSS.OM",t)});
define("VSS/FeatureAvailability/Services",["require","exports","VSS/Context","VSS/Diag","VSS/Service","VSS/Utils/String","VSS/VSS"],function(n,t,i,r,u,f,e){var o=function(n){function t(){n.call(this);this._featureStatesCache={}}return __extends(t,n),t.isFeatureEnabled=function(n,i){return u.getService(t).isFeatureEnabledLocal(n,i)},t.prototype.beginIsFeatureEnabled=function(n,t,i){var o=this,s,f;if(s=this,f=this._readLocalState(n),f!==undefined&&f!==null){t(f);return}e.requireModules(["VSS/FeatureAvailability/RestClient"]).spread(function(r){var f=u.getApplicationClient(r.FeatureAvailabilityHttpClient,o.getWebContext());f.getFeatureFlagByName(n).then(function(i){var r=i.effectiveState==="On";o._featureStatesCache[n]=r;t(r)},i||e.handleError)})},t.prototype.isFeatureEnabledLocal=function(n,t){var i=this._readLocalState(n);return(i===undefined||i===null)&&typeof t!="undefined"?t:i},t.prototype._readLocalState=function(n){var t,u;return(t=i.getPageContext(),t.featureAvailability&&t.featureAvailability.featureStates&&(u=t.featureAvailability.featureStates[n],typeof u!="undefined"))?u:this._featureStatesCache[n]},t}(u.VssService);t.FeatureAvailabilityService=o;e.tfsModuleLoaded("VSS.FeatureAvailbility",t)});
define("VSS/Utils/Date",["require","exports","VSS/Context","VSS/Utils/Culture","VSS/Diag","VSS/Resources/VSS.Resources.Platform","VSS/Utils/String"],function(n,t,i,r,u,f,e){function b(n){return w.test(n)}function st(n){var i=n.getTime()-n.getTimezoneOffset()*6e4;return i===t.DATETIME_MINDATE_UTC_MS}function k(n,t){return n instanceof Date&&t instanceof Date?n.getTime()-t.getTime():n instanceof Date?1:t instanceof Date?-1:0}function ht(n,t){return n===null||n===undefined?n===t:n instanceof Date&&k(n,t)===0}function d(n){return new Date(n.getTime()+n.getTimezoneOffset()*s)}function ct(n){return new Date(n.getTime()-n.getTimezoneOffset()*s)}function lt(n,t,i){var r,f;return r=nt(n,t?[t]:null,i),!r&&b(n)&&(r=new Date(n)),r instanceof Date&&!isNaN(r)?(f=r.getFullYear(),f>=1900&&f<2e3&&n.indexOf(f)<0&&r.setFullYear(f%100+Math.floor((new Date).getFullYear()/100)*100)):r=null,r}function g(n,t,i){return n=new Date(n.getTime()),n.setHours(0,0,0,0),t=new Date(t.getTime()),t.setHours(0,0,0,0),Math.round(Math.abs(t.getTime()-n.getTime())/a)+(i===!0?0:1)}function nt(n,t,i){var f,u;return f=typeof t=="string"?[t]:[].concat(t),u=e.parseDateString(n,r.getCurrentCulture(),f),i||!u?u:tt(u,!0)}function v(n,t,i){return i||(n=y(n,!0)),e.dateToString(n,!0,t)}function y(n,t){return t===void 0&&(t=!0),it(n,t,!0)}function tt(n,t){return t===void 0&&(t=!0),it(n,t,!1)}function it(n,i,r){var e,o,s,f,u;return e=n.getTime(),o=n.getTimezoneOffset()*6e4,f=t.utcOffset,i&&(f=l(n)),s=r?e+o+f:e-o-f,u=new Date(s),i&&l(u)===l(n)&&(u=c(n,u)),u}function rt(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate())}function ut(){return y(new Date,!1)}function h(){return rt(ut())}function at(n,t){return e.dateToString(n,!1,t)}function ft(n,t){var u,p,o,s=60,h=s*60,i=h*24,l=i*7,a=i*365/12,v=i*365,c,r,y;for(y=[{limit:s,format:f.AgoLessThanAMinute},{limit:s*1.5,format:f.AgoAMinute},{limit:h,format:f.AgoMinutes,arg:s},{limit:h*1.5,format:f.AgoAnHour},{limit:i,format:f.AgoHours,arg:h},{limit:i*1.5,format:f.AgoADay},{limit:l,format:f.AgoDays,arg:i},{limit:l*1.5,format:f.AgoAWeek},{limit:a,format:f.AgoWeeks,arg:l},{limit:a*1.5,format:f.AgoAMonth},{limit:v,format:f.AgoMonths,arg:a},{limit:v*1.5,format:f.AgoAYear},{limit:Number.POSITIVE_INFINITY,format:f.AgoYears,arg:v}],(t===null||typeof t=="undefined")&&(t=new Date),c=t.getTime()-n.getTime(),c/=1e3,u=0,p=y.length;u<p;u++)if(r=y[u],c<r.limit){o=r.arg?e.format(r.format,Math.round(c/r.arg)):r.format;break}return o||(o=this.toString()),o}function et(n,t,i){i===void 0&&(i=!1);var r=new Date;return r.setTime(n.getTime()+t*864e5),i&&(r=c(n,r)),r}function vt(n,t,i){i===void 0&&(i=!1);var r=new Date;return r.setTime(n.getTime()+t*36e5),i&&(r=c(n,r)),r}function c(n,t,i){var r,u,f;return i===void 0&&(i=null),r=t,i!==null&&(r=i),u=n.getTimezoneOffset(),f=t.getTimezoneOffset(),u!=f&&(r=et(r,(f-u)/1440)),r}function l(n){var r,i;if(!t.timeZoneMap)return t.utcOffset;for(r=d(n),i=0;i<t.timeZoneMap.length;i++){if(i===t.timeZoneMap.length-1&&r===t.timeZoneMap[i].start)return t.timeZoneMap[i].offset;if(i===t.timeZoneMap.length-1)break;if(r>=t.timeZoneMap[i].start&&r<t.timeZoneMap[i+1].start)return t.timeZoneMap[i].offset}return t.utcOffset}function yt(n){return g(h(),n,!0)===0}function pt(n){var t=h(),i=n.getTime()-t.getTime();return i<0}function wt(n){var t=h(),i=n.getTime()-t.getTime();return i>0}function bt(n,t){var i,o,u,s,f,e,h;for((t===null||typeof t=="undefined")&&(t=new Date),h=new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay()+r.getDateTimeFormat().FirstDayOfWeek),e=[{limit:86400,format:function(n){return ft(n,t)}},{limit:(t-h)/1e3,format:function(n){return v(n,"dddd")}},{limit:Number.POSITIVE_INFINITY,format:function(n){return v(n,"d")}}],s=(t.getTime()-n.getTime())/1e3,i=0,o=e.length;i<o;i++)if(f=e[i],s<f.limit&&f.limit>0){u=f.format(n);break}return u||(u=n.toString()),u}var o,w;t.utcOffset=0;o=i.getPageContext();o&&o.globalization&&(t.utcOffset=o.globalization.timezoneOffset||0);o&&o.timeZonesConfiguration&&(t.timeZoneMap=o.timeZonesConfiguration.daylightSavingsAdjustments);var kt=Array.prototype.slice,s=6e4,p=s*60,a=p*24,ot=a*7;t.MILLISECONDS_IN_MINUTE=s;t.MILLISECONDS_IN_HOUR=p;t.MILLISECONDS_IN_DAY=a;t.MILLISECONDS_IN_WEEK=ot;t.DATETIME_MINDATE_UTC_MS=-621355968e5;w=/^(\d{4}|\+{1}\d{6})-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{1,7})?(Z|[+-]\d{2}:\d{2})?$/;t.isIsoDate=b;t.isMinDate=st;t.compare=function(n,t){return t instanceof Date?t.getTime()-n.getTime():-1};t.defaultComparer=k;t.equals=ht;t.shiftToUTC=d;t.shiftToLocal=ct;t.parseDateString=lt;t.daysBetweenDates=g;t.parseLocale=nt;t.localeFormat=v;t.convertClientTimeToUserTimeZone=y;t.convertUserTimeToClientTimeZone=tt;t.stripTimeFromDate=rt;t.getNowInUserTimeZone=ut;t.getTodayInUserTimeZone=h;t.format=at;t.ago=ft;t.addDays=et;t.addHours=vt;t.adjustOffsetForTimes=c;t.getOffsetForDate=l;t.isGivenDayToday=yt;t.isGivenDayInPast=pt;t.isGivenDayInFuture=wt;t.friendly=bt});
define("VSS/Utils/Number",["require","exports","VSS/Utils/Culture","VSS/Utils/String"],function(n,t,i,r){function f(n,t,i){for(var r=n.length;r<t;r++)n=i?"0"+n:n+"0";return n}function o(n,t){return n-t}function s(n,t,r){var o,a,h,u=n.toString(),e="",v,y,c,p,s,l;if(a=r?r.numberFormat:i.getNumberFormat(),h=u.split(/e/i),u=h[0],o=h.length>1?parseInt(h[1],10):0,h=u.split("."),u=h[0],e=h.length>1?h[1]:"",o>0?(e=f(e,o,!1),u+=e.slice(0,o),e=e.substr(o)):o<0&&(o=-o,u=f(u,o+1,!0),e=u.slice(-o,u.length)+e,u=u.slice(0,-o)),e.length>0&&(e=a.NumberDecimalSeparator+e),t===!0){for(v=a.NumberGroupSizes,y=a.NumberGroupSeparator,c=v[0],p=1,s=u.length-1,l="";s>=0;){if(c===0||c>s)return l.length>0?u.slice(0,s+1)+y+l+e:u.slice(0,s+1)+e;l=l.length>0?u.slice(s-c+1,s+1)+y+l:u.slice(s-c+1,s+1);s-=c;p<v.length&&(c=v[p],p++)}return u.slice(0,s+1)+y+l+e}return u+e}function h(n){return n>0&&parseInt(n)==n}function c(n){return e(n,i.getCurrentCulture().numberFormat)}function l(n){return e(n,i.getInvariantCulture().numberFormat)}function a(n,t){return r.numberToString(n,!0,t)}function e(n,t){var l,f,e,i,a,v,y,h,c;if(n=n.trim(),n.match(/^[+-]?infinity$/i))return parseFloat(n);if(n.match(/^0x[a-f0-9]+$/i))return parseInt(n);var o=u(n,t,t.NumberNegativePattern),s=o[0],r=o[1];return(s===""&&t.NumberNegativePattern!==1&&(o=u(n,t,1),s=o[0],r=o[1]),s===""&&(s="+"),e=r.indexOf("e"),e<0&&(e=r.indexOf("E")),e<0?(f=r,l=null):(f=r.substr(0,e),l=r.substr(e+1)),v=f.indexOf(t.NumberDecimalSeparator),v<0?(i=f,a=null):(i=f.substr(0,v),a=f.substr(v+t.NumberDecimalSeparator.length)),i=i.split(t.NumberGroupSeparator).join(""),y=t.NumberGroupSeparator.replace(/\u00A0/g," "),t.NumberGroupSeparator!==y&&(i=i.split(y).join("")),h=s+i,a!==null&&(h+="."+a),l!==null&&(c=u(l,t,1),c[0]===""&&(c[0]="+"),h+="e"+c[0]+c[1]),h.match(/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/))?parseFloat(h):Number.NaN}function u(n,t,i){var u=t.NegativeSign,f=t.PositiveSign;switch(i){case 4:u=" "+u;f=" "+f;case 3:if(r.endsWith(n,u))return["-",n.substr(0,n.length-u.length)];if(r.endsWith(n,f))return["+",n.substr(0,n.length-f.length)];break;case 2:u+=" ";f+=" ";case 1:if(r.startsWith(n,u))return["-",n.substr(u.length)];if(r.startsWith(n,f))return["+",n.substr(f.length)];break;case 0:if(r.startsWith(n,"(")&&r.endsWith(n,")"))return["-",n.substr(1,n.length-2)];break;default:throw new Error("Invalid negative number pattern.");}return["",n]}t.defaultComparer=o;t.toDecimalLocaleString=s;t.isPositiveNumber=h;t.parseLocale=c;t.parseInvariant=l;t.localeFormat=a});
define("VSS/Utils/Core",["require","exports","VSS/Diag","VSS/Utils/Date","VSS/Utils/Number","VSS/Utils/String","VSS/VSS"],function(n,t,i,r,u,f,e){function o(n,t,i){return function(){if(typeof i=="undefined")return t.apply(n,arguments);var r=Array.prototype.slice.call(arguments,0);return i instanceof Array?r=r.concat(i):r.push(i),t.apply(n,r)}}function b(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return i=Array.prototype.slice.call(arguments,1),function(){return n.apply(this,i.concat(Array.prototype.slice.call(arguments,0)))}}function k(n,t,i,r){var u=new h(n,t,null,i,r);return u.start(),u}function d(n,t,i,r,u){u===void 0&&(u=s.Default);var f=new h(n,t,"throttledDelegate",i,r),e=(u&s.NeverResetTimer)>0,c=(u&s.Immediate)>0,l=(u&s.QueueNext)>0;return c?o(f,function(){f.isCoolingDown()?l?(e||f.extendCooldown(),f.invokeOnCooldownComplete()):e||f.extendCooldown():f.invokeNow()}):e?o(f,function(){f.isPending()||f.reset()}):o(f,f.reset)}function g(n){var t,r;var e=n.replace(/[^\d,\.-]/g,""),u=e.split(","),f=[];for(t=0;t<u.length;++t)r=parseInt(u[t],10),isNaN(r)||f.push(r);return f}function nt(n,t){try{return a(n,t)}catch(i){return null}}function a(n){return c.deserialize(n)}function tt(n){return c.serialize(n)}function it(n,t,r){t!==undefined&&t!==null;r!==undefined;var u,f,e=null;return u=n.find('script[type="application/json"]'),t&&(u=u.filter(t)),u.length>0&&(f=u.eq(0).html(),f&&(e=a(f,!1)),r&&u.eq(0).remove()),e}function rt(n,t){return n!==null&&typeof n!="undefined"?typeof n=="string"?n:n instanceof Date?r.localeFormat(n,t||"g"):typeof n=="number"?t?r.localeFormat(new Date(n),t):u.toDecimalLocaleString(n):typeof n=="boolean"?n?"True":"False":n.toString():""}function ut(n){try{var t=new window.XMLSerializer;return t.serializeToString(n)}catch(i){return null}}function ft(n){try{var t=new window.DOMParser;return t.parseFromString(n,"text/xml")}catch(i){return null}}function v(n,t){var i,u,f,e,r;if(l(n)&&l(t))return n===t;if(l(n)||l(t))return!1;if(n instanceof Array&&t instanceof Array){if(n.length!==t.length)return!1;for(i=0,u=n.length;i<u;i++)if(!v(n[i],t[i]))return!1;return!0}if(f=Object.keys(n),e=Object.keys(t),f.length!==e.length)return!1;for(r in n)if(t.hasOwnProperty(r)){if(!v(n[r],t[r]))return!1}else return!1;return!0}function y(n,t,i,r,u,f){if(i<=0){$.isFunction(f)&&f();return}(typeof r=="undefined"||r<0)&&(r=0);var e=function(){var r=$.now();n(function(e){$.isFunction(u)&&u(e)||y(n,t,i-1,Math.max(0,t-$.now()+r),u,f)},function(){y(n,t,i-1,Math.max(0,t-$.now()+r),u,f)})};r===0?e():window.setTimeout(e,r)}function l(n){return n==null||typeof n=="number"||typeof n=="boolean"||typeof n=="string"}var h,s,p,w,c;t.delegate=o;t.curry=b;h=function(){function n(n,t,i,r,u){this._invokeOnCooldownComplete=!1;this._interval=t;this._name=i;this._func=o(n,r,u)}return n.prototype.start=function(){var n=this;this._timeoutHandle||(i.logTracePoint("Core.DelayedFunction.pending",this._name),this._timeoutHandle=window.setTimeout(function(){delete n._timeoutHandle;try{n._invoke.call(n)}finally{i.logTracePoint("Core.DelayedFunction.complete",[n._name,"complete"])}},this._interval))},n.prototype.reset=function(){this.cancel();i.logTracePoint("Core.DelayedFunction.reset",[this._name,"reset"]);this.start()},n.prototype.cancel=function(n){n===void 0&&(n=!1);this._timeoutHandle&&(window.clearTimeout(this._timeoutHandle),delete this._timeoutHandle,i.logTracePoint("Core.DelayedFunction.complete",[this._name,"canceled"]));n&&this.clearCooldown();this._invokeOnCooldownComplete=!1},n.prototype.clearCooldown=function(n){n===void 0&&(n=!0);this._cooldownHandle&&(window.clearTimeout(this._cooldownHandle),delete this._cooldownHandle);!n&&this.invokeOnCooldownComplete&&this.invokeNow()},n.prototype.extendCooldown=function(){this._startCooldown()},n.prototype.invokeNow=function(){this.cancel();this._invoke()},n.prototype.setDelay=function(n){this._interval=n},n.prototype.setMethod=function(n,t,i){this._func=o(n,t,i)},n.prototype.isPending=function(){return this._timeoutHandle?!0:!1},n.prototype.isCoolingDown=function(){return this._cooldownHandle?!0:!1},n.prototype.invokeOnCooldownComplete=function(){this._invokeOnCooldownComplete=!0},n.prototype._invoke=function(){this._func();this._startCooldown()},n.prototype._startCooldown=function(){var n=this;this._cooldownHandle&&window.clearTimeout(this._cooldownHandle);this._cooldownHandle=window.setTimeout(function(){delete n._cooldownHandle;n._invokeOnCooldownComplete&&(n.invokeNow(),n._invokeOnCooldownComplete=!1)},this._interval)},n}();t.DelayedFunction=h;t.delay=k,function(n){n[n.Default=0]="Default";n[n.Immediate=1]="Immediate";n[n.QueueNext=2]="QueueNext";n[n.NeverResetTimer=4]="NeverResetTimer"}(t.ThrottledDelegateOptions||(t.ThrottledDelegateOptions={}));s=t.ThrottledDelegateOptions;t.throttledDelegate=d;t.parseIntArray=g;p=function(){function n(n){this.context=n;this._callbacks=[]}return n.prototype.perform=function(n){!this.canceled&&$.isFunction(n)&&n.call(this.context)},n.prototype.wrap=function(n){var t=this;return function(){if(!t.canceled&&$.isFunction(n))return n.apply(this,Array.prototype.slice.call(arguments,0))}},n.prototype.cancel=function(){var n=this;this.canceled=!0;$.each(this._callbacks,function(t,i){i.call(n.context)})},n.prototype.register=function(n){$.isFunction(n)&&(this._callbacks.push(n),this.canceled&&n.call(this.context))},n}();t.Cancelable=p;w=function(){function n(){this._disposables=[]}return n.prototype.addDisposable=function(n){return this._disposables.push(n),n},n.prototype.dispose=function(){if(this._disposables)while(this._disposables.length>0)this._disposables.splice(0,1)[0].dispose()},n}();t.DisposalManager=w;t.tryParseMSJSON=nt;t.parseMSJSON=a;t.stringifyMSJSON=tt,function(n){function y(){var f,n,u;if(!e)for(e=!0,f=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000b","\\f","\\r","\\u000e","\\u000f","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001a","\\u001b","\\u001c","\\u001d","\\u001e","\\u001f"],r[0]="\\",i["\\"]=new RegExp("\\\\","g"),t["\\"]="\\\\",r[1]='"',i['"']=new RegExp('"',"g"),t['"']='\\"',n=0;n<32;n++)u=String.fromCharCode(n),r[n+2]=u,i[u]=new RegExp(u,"g"),t[u]=f[n]}function o(n,t){t.append(n.toString())}function s(n,t){if(isFinite(n))t.append(String(n));else throw new Error("Cannot serialize non finite numbers.");}function h(n,u){var f,e;if(u.append('"'),a.test(n))if(n.length<128)n=n.replace(v,function(n){return t[n]});else for(f=0;f<34;f++)e=r[f],n.indexOf(e)!==-1&&(n=n.replace(i[e],t[e]));u.append(n);u.append('"')}function u(n,t,i){var r,e,c,l,v,y,p,a;switch(typeof n){case"object":if(n){if(i){for(e=0;e<i.length;e++)if(i[e]===n)throw new Error("Cannot serialize object with cyclic reference within child properties.");}else i=[];try{if(i.push(n),c=typeof n,c==="number")s(n,t);else if(c==="boolean")o(n,t);else if(c==="string")h(n,t);else if(n instanceof Array){for(t.append("["),r=0;r<n.length;++r)r>0&&t.append(","),u(n[r],t,i);t.append("]")}else{if(n instanceof Date){t.append('"\\/Date(');t.append(n.getTime());t.append(')\\/"');break}l=[];v=0;for(y in n)f.startsWith(y,"$")||(l[v++]=y);for(t.append("{"),p=!1,r=0;r<v;r++)a=n[l[r]],typeof a!="undefined"&&typeof a!="function"&&(p?t.append(","):p=!0,u(l[r],t,i),t.append(":"),u(a,t,i));t.append("}")}}finally{i.pop()}}else t.append("null");break;case"number":s(n,t);break;case"string":h(n,t);break;case"boolean":o(n,t);break;default:t.append("null")}}function p(n){y();var t=new f.StringBuilder;return u(n,t),t.toString()}function w(n){var t=n.replace(l,'$1{"__msjson_date__":$2 }'),i=JSON.parse(t);return t!==n&&c(i),i}function c(n,t,i){var r,u;if(typeof n.__msjson_date__=="number"&&t){t[i]=new Date(n.__msjson_date__);return}for(r in n)u=n[r],u!==null&&typeof u=="object"&&c(n[r],n,r)}var i=[],r=[],l=new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})?\\)\\\\/\\"',"g"),t={},a=new RegExp('["\\\\\\x00-\\x1F]',"i"),v=new RegExp('["\\\\\\x00-\\x1F]',"g"),b=new RegExp("[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]","g"),k=new RegExp('"(\\\\.|[^"\\\\])*"',"g"),e=!1;n.serialize=p;n.deserialize=w}(c||(c={}));t.parseJsonIsland=it;t.convertValueToDisplayString=rt;t.domToXml=ut;t.parseXml=ft;t.equals=v;t.poll=y;t.documentSelection=document.selection;e.tfsModuleLoaded("VSS.Core",t)});
define("VSS/Ajax",["require","exports","q","VSS/Context","VSS/Diag","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Core","VSS/Utils/String","VSS/VSS"],function(n,t,i,r,u,f,e,o,s){function d(n,t,i){var u,e,r;if(!n)return r=new Error(o.format(f.WebApiUndefinedRequestError,0,i||"")),r.name="TFS.WebApi.Exception",r;if(t!=="abort")try{u=JSON.parse(n.responseText);u&&u.message&&(e=u.message)}catch(s){}return e||(e=n.status===0?o.format(f.WebApiUndefinedRequestError,n.status,t):n.status+": "+t),r=new Error(e),r.name="TFS.WebApi.Exception",r.status=n.status,r.responseText=n.responseText,u&&(r.serverError=u),i=="timeout"&&(r.name="TFS.WebApi.Exception.Timeout"),r}function g(n,t,i,r,u,f){n&&n.status===0?l||v||e.delay(this,2e3,function(){l||v||f(n,t,i,r,u)}):f(n,t,i,r,u)}function w(n,t,u,f){var e=f||i.defer(),o,h,s,c,l;return y.register(),t||(t={}),t.headers||(t.headers={}),t.headers["X-VSS-ReauthenticationAction"]="Suppress",u&&(o=u.sessionId,h=u.command),o||(s=r.getPageContext(),s&&s.diagnostics&&s.diagnostics.sessionId&&(o=s.diagnostics.sessionId)),o&&(t.headers["X-TFS-Session"]=h?o+","+h:o),u&&u.authTokenManager?(c=!!f,l=u.authTokenManager.getAuthToken(c),l.then(function(i){t=$.extend(t,{beforeSend:function(n){var t=u.authTokenManager.getAuthorizationHeader(i);n.setRequestHeader("Authorization",t);n.setRequestHeader("X-TFS-FedAuthRedirect","Suppress")}});n=nt(u.authTokenManager,n,t,i);jQuery.ajax(n,t).then(function(n,t,i){e.resolve({data:n,jqXHR:i,textStatus:t})},function(i,r,f){i&&i.status===401&&!c?w(n,t,u,e):e.reject({errorThrown:f,jqXHR:i,textStatus:r})})},e.reject)):jQuery.ajax(n,t).then(function(n,t,i){e.resolve({data:n,jqXHR:i,textStatus:t})},function(n,t,i){e.reject({errorThrown:i,jqXHR:n,textStatus:t})}),e.promise}function nt(n,t,i,r){var v,y,o,l,f,a,u,p;if(it())return t;var s={legacyCorsMethod:i.type.toUpperCase()},e=t.indexOf("?"),h=!1,c;return e>-1&&t.length>e&&(v=t.substring(e+1),y=v.split("&"),y.forEach(function(n,t,i){var r=i[t].split("="),u=r[0];u==="api-version"&&(h=!0)})),!h&&i&&i.headers&&i.headers.Accept&&(o=i.headers.Accept.split(";"),o&&o.length>0&&(o.some(function(n){if(n&&n.indexOf("api-version")>-1){var t=n.split("=");if(t&&t.length===2)return l=t[1],!0}return!1}),l&&(s["api-version"]=l,h=!0))),f={__authToken:n.getAuthorizationHeader(r)},i.type.toUpperCase()==="GET"?(a=i.data,a&&(c=$.param(a)),i.type="POST",b(i,f)):(i.data?(u=i.data,typeof u=="string"&&(u=JSON.parse(u)),$.isArray(u)&&u.length>0?u[0]=$.extend(f,u[0]):u=$.extend(f,u),i.data=JSON.stringify(u)):b(i,f),i&&i.headers&&i.headers["Content-Type"]&&(s.legacyContentType=i.headers["Content-Type"]),i.type="POST"),p=$.param(s),t+=(e>-1?"&":"?")+p,c&&(t+="&"+c),t}function b(n,t){n.data=JSON.stringify(t);n.processData=!1;n.jsonp=!1}function tt(n,t,r){var u=this,f=i.defer(),e=++k,o=r&&r.useAjaxResult;return $.each(h,function(i,f){f.beforeRequest&&f.beforeRequest.call(u,e,n,t,r)}),w(n,t,r).then(function(n){$.each(h,function(t,i){i.responseReceived&&i.responseReceived.call(u,e,n.data,n.textStatus,n.jqXHR,r)});try{o===!0?(delete n.jqXHR.then,f.resolve([n.data,n.textStatus,n.jqXHR])):f.resolve(n.data);f.resolve(o===!0?[n.data,n.textStatus,n.jqXHR]:n.data)}finally{$.each(h,function(t,i){i.postResponseCallback&&i.postResponseCallback.call(u,e,n.data,n.textStatus,n.jqXHR,r)})}},function(n){g(n.jqXHR,n.textStatus,n.errorThrown,e,f,function(n,t,i,f,e){var o=d(n,t,i);$.each(h,function(i,e){e.responseReceived&&e.responseReceived.call(u,f,o,t,n,r)});try{e.reject(o)}finally{$.each(h,function(i,e){e.postResponseCallback&&e.postResponseCallback.call(u,f,o,t,n,r)})}})}),f.promise}function it(){if(typeof XMLHttpRequest!="undefined"){var n=new XMLHttpRequest;if("withCredentials"in n)return!0}return!1}function rt(n,t,i){return tt(n,t,i)}function p(n){h.push(n)}function ut(n){h=$.grep(h,function(t){return t!==n})}var v=!1,l=!1,h=[],c={},k=0,a,y;(function(n){n.Binary="arraybuffer"})(a=t.CustomTransportDataTypes||(t.CustomTransportDataTypes={})),function(n){function i(){t||(r(),t=!0)}function r(){$.ajaxTransport(a.Binary,function(n,t,i){if(n.dataType===a.Binary&&n.async)return{send:function(t,i){var r=new XMLHttpRequest,u;r.addEventListener("load",function(){var n={};n[a.Binary]=r.response;i(r.status,r.statusText,n,r.getAllResponseHeaders())});r.open(n.type,n.url,!0);r.responseType="arraybuffer";for(u in t)r.setRequestHeader(u,t[u]);r.send(n.data||null)},abort:function(){i.abort()}}})}var t=!1;n.register=i}(y||(y={}));$(window).bind("unload",function(){v=!0});$(window).bind("beforeunload",function(){l=!0;window.setTimeout(function(){l=!1},2e3)});t.issueRequest=rt;t.addGlobalListener=p;t.removeGlobalListener=ut;p({beforeRequest:function(n,t,i,r){var f,e=!r||r.showProgressIndicator!==!1;e&&(f=s.globalProgressIndicator.actionStarted("http "+n+" "+t),c[n]=f);u.logTracePoint("Ajax.request-started",f)},responseReceived:function(n){n in c&&s.globalProgressIndicator.actionCompleted(c[n])},postResponseCallback:function(n){var t;n in c&&(t=c[n],delete c[n]);u.logTracePoint("Ajax.callback-complete",t)}});p({responseReceived:function(n,t,i,r){if(r&&r.getResponseHeader){var u=r.getResponseHeader("X-VSS-GlobalMessage-Warning");u&&s.globalMessageIndicator.updateGlobalMessageIfEmpty(u)}}})});
define("VSS/WebApi/RestClient",["require","exports","q","VSS/Ajax","VSS/Serialization","VSS/Utils/Core"],function(n,t,i,r,u,f){var e=function(){function n(t,r){this.forceOptionsCallForAutoNegotiate=!1;this._rootRequestPath=t;this._locationsByAreaPromises=n.createLocationsByAreaPromisesCache();this._initializationPromise=i.fcall(function(){return!0});this._options=r||{}}return n.prototype._setInitializationPromise=function(n){n&&(this._initializationPromise=n)},n.prototype._beginRequest=function(n,t){var i=this;return t===void 0&&(t=!1),!this.forceOptionsCallForAutoNegotiate&&n.routeTemplate?this._initializationPromise.then(function(){var r=i.getRequestUrl(n.routeTemplate,n.area,n.resource,n.routeValues,n.queryParams);return i._beginRequestToResolvedUrl(r,n.apiVersion,n,t)}):this._beginGetLocation(n.area,n.locationId).then(function(r){var u=i.getRequestUrl(r.routeTemplate,r.area,r.resourceName,n.routeValues,n.queryParams),f=i._autoNegotiateApiVersion(r,n.apiVersion);return i._beginRequestToResolvedUrl(u,f,n,t)})},n.prototype._autoNegotiateApiVersion=function(n,t){var u;if(t){var s=new RegExp("(\\d+(\\.\\d+)?)(-preview(\\.(\\d+))?)?"),r,e,o=!1,f,i=s.exec(t);i&&i[1]&&(r=+i[1],e=i[1],i[3]&&(o=!0,i[5]&&(f=+i[5])),(r<=+n.releasedVersion||!f&&r<=+n.maxVersion&&o||f&&r<=+n.maxVersion&&f<=+n.resourceVersion)&&(u=t))}return u||(u=r<+n.maxVersion?e+"-preview":n.maxVersion===n.releasedVersion?n.maxVersion:n.maxVersion+"-preview."+n.resourceVersion),u},n.prototype._beginRequestToResolvedUrl=function(n,t,i,f){var e={},s,o,h,c;return e.type=i.httpMethod||"GET",o=i.data,!i.isRawData&&o&&i.requestType&&(o=u.ContractSerializer.serialize(o,i.requestType,!0)),!i.isRawData&&o&&e.type.toUpperCase()!=="GET"?(e.data=JSON.stringify(o),e.processData=!1,e.jsonp=!1):e.data=o,i.isRawData&&(e.processData=!1),i.httpResponseType&&i.httpResponseType.toLowerCase()!=="json"&&i.httpResponseType.toLowerCase()!=="application/json"?i.httpResponseType.toLowerCase()==="zip"||i.httpResponseType.toLowerCase()==="application/zip"?(s="application/zip",e.dataType=r.CustomTransportDataTypes.Binary):i.httpResponseType.toLowerCase()==="binary"||i.httpResponseType.toLowerCase()==="octet-stream"||i.httpResponseType.toLowerCase()==="application/octet-stream"?(s="application/octet-stream",e.dataType=r.CustomTransportDataTypes.Binary):i.httpResponseType.toLowerCase()==="text"||i.httpResponseType.toLowerCase()==="text/plain"?(s="text/plain",e.dataType="text",e.converters={}):(s="*/*",e.dataType=i.httpResponseType,e.converters={}):(s="application/json",e.dataType="json"),i.timeout?e.timeout=i.timeout:this._options.timeout&&(e.timeout=this._options.timeout),h=s,t&&(h+=";api-version="+t),this._options.includeUrls||(h+=";excludeUrls=true"),e.headers=$.extend({Accept:h,"Content-Type":"application/json"},i.customHeaders),c=this._issueAjaxRequest(n,e,!0,{showProgressIndicator:this._options.showProgressIndicator,sessionId:this._options.sessionId,command:this._options.command}),c.spread(function(n,t,r){var e=u.ContractSerializer.deserialize(n,i.responseType,!1,i.responseIsCollection);return f===!0?[e,t,r]:e})},n.prototype._beginRequestWithAjaxResult=function(n){return this._beginRequest(n,!0)},n.prototype._issueAjaxRequest=function(n,t,i,u){return i===void 0&&(i=!1),u=$.extend({authTokenManager:this.authTokenManager,useAjaxResult:i},u),r.issueRequest(n,t,u)},n.prototype._beginGetLocation=function(n,t){var i=this;return this._initializationPromise.then(function(){return i.beginGetAreaLocations(n)}).then(function(i){var r=i[(t||"").toLowerCase()];if(!r)throw new Error("Failed to find api location for area: "+n+" id: "+t);return r})},n.processOptionsRequestResponse=function(n){var t={};return $.each(n.value,function(n,i){t[i.id.toLowerCase()]=i}),t},n.initializeLocationsByAreaJsonIslandCacheIfNecessary=function(){var t,r,u,e;if(!n.cacheFromJsonIslands)for(n.cacheFromJsonIslands=Object.create(null),t=void 0;t=f.parseJsonIsland($(document),".area-locations",!0);)r=t.value,r.length>0&&(u=n.processOptionsRequestResponse(t),e=r[0].area,n.cacheFromJsonIslands[e]=i.resolve(u))},n.createLocationsByAreaPromisesCache=function(){return n.initializeLocationsByAreaJsonIslandCacheIfNecessary(),Object.create(n.cacheFromJsonIslands)},n.prototype.beginGetAreaLocations=function(t){var i=this._locationsByAreaPromises[t],r;return i||(r=this._rootRequestPath+n.APIS_RELATIVE_PATH+"/"+t,i=this._issueAjaxRequest(r,{type:"OPTIONS"}).then(n.processOptionsRequestResponse),this._locationsByAreaPromises[t]=i),i},n.prototype.getRequestUrl=function(n,t,i,r,u){var f,o,e;return r=r||{},r.area||(r.area=t),r.resource||(r.resource=i),f=this._rootRequestPath+this.replaceRouteValues(n,r),u&&(o=f.indexOf("?")!==-1,u=$.extend(!0,{},u),this.convertQueryParamsValues(u),e=$.param(u),e&&(f+=(o?"&":"?")+e)),f},n.prototype.convertQueryParamsValues=function(n){for(var i,t,f=Object.keys(n),r=0,u=f;r<u.length;r++)i=u[r],t=n[i],t instanceof Date?n[i]=t.toJSON():t===null||t===undefined?delete n[i]:typeof t=="object"&&this.convertQueryParamsValues(t)},n.prototype.replaceRouteValues=function(n,t){for(var f="",r="",o="",s=!1,h=n.length,u,e,c,i=0;i<h;i++)u=n[i],s?u=="}"?(s=!1,e=t[o],typeof e=="undefined"&&(c=o.replace(/[^a-z0-9]/ig,""),e=t[c]),e!==null&&typeof e!="undefined"&&e!==""&&(r+=encodeURIComponent(e)),o=""):o+=u:u=="/"?r&&(f&&(f+="/"),f+=r,r=""):u=="{"?i+1<h&&n[i+1]=="{"?(r+=u,i++):s=!0:u=="}"?(r+=u,i+1<h&&n[i+1]=="}"&&i++):r+=u;return r&&(f&&(f+="/"),f+=r),f},n.prototype._getLinkResponseHeaders=function(n){var r={},u=n.getAllResponseHeaders(),f=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,e=/\<(.*?)\>;rel=\"(.*?)\"/g,t,i;if(u)while(t=f.exec(u))if(t[1].toLowerCase()==="link")while(i=e.exec(t[2]))r[i[2]]=i[1];return r},n.APIS_RELATIVE_PATH="_apis",n.DEFAULT_REQUEST_TIMEOUT=3e5,n}();t.VssHttpClient=e});
define("VSS/Telemetry/RestClient",["require","exports","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r){"use strict";function v(n){return window.VSS&&window.VSS.VssSDKRestVersion&&l[window.VSS.VssSDKRestVersion]?i.getClient(l[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):i.getClient(e,undefined,undefined,undefined,n)}var u=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.publishEvents=function(n){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"customerintelligence",locationId:"b5cc35c2-ff2b-491d-a085-24b6e9f396fd",resource:"Events",routeTemplate:"_apis/{area}/{resource}",apiVersion:this.eventsApiVersion,data:n})},t}(r.VssHttpClient),f,e,o,s,h,c,a,l;t.CommonMethods2To3_1=u;f=function(n){function t(t,i){n.call(this,t,i);this.eventsApiVersion="3.1-preview.1"}return __extends(t,n),t}(u);t.CustomerIntelligenceHttpClient3_1=f;e=function(n){function t(t,i){n.call(this,t,i);this.eventsApiVersion="3.0-preview.1"}return __extends(t,n),t}(u);t.CustomerIntelligenceHttpClient3=e;o=function(n){function t(t,i){n.call(this,t,i);this.eventsApiVersion="2.3-preview.1"}return __extends(t,n),t}(u);t.CustomerIntelligenceHttpClient2_3=o;s=function(n){function t(t,i){n.call(this,t,i);this.eventsApiVersion="2.2-preview.1"}return __extends(t,n),t}(u);t.CustomerIntelligenceHttpClient2_2=s;h=function(n){function t(t,i){n.call(this,t,i);this.eventsApiVersion="2.1-preview.1"}return __extends(t,n),t}(u);t.CustomerIntelligenceHttpClient2_1=h;c=function(n){function t(t,i){n.call(this,t,i);this.eventsApiVersion="2.0-preview.1"}return __extends(t,n),t}(u);t.CustomerIntelligenceHttpClient2=c;a=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t}(f);t.CustomerIntelligenceHttpClient=a;l={"3.1":f,"3.0":e,"2.3":o,"2.2":s,"2.1":h,"2.0":c};t.getClient=v});
define("VSS/Telemetry/Services",["require","exports","q","VSS/Context","VSS/Common/Contracts/Platform","VSS/Service","VSS/Telemetry/RestClient","VSS/Utils/Core","VSS/VSS","VSS/Diag"],function(n,t,i,r,u,f,e,o,s,h){function y(){return c&&c.appInsightsConfiguration&&c.appInsightsConfiguration.enabled}function b(){return a.slice()}function k(n,t){t===void 0&&(t=!1);t?v.publish(n):v.delayedPublish(n)}function d(){return v.flush()}var l,c,p;(function(n){function s(){return i}function h(){return e}function l(){return o}function y(n){t=n;var i={instrumentationKey:n.instrumentationKey};c&&(c.webContext.user&&(i.appUserId=c.webContext.user.id),c.webContext.account&&(i.accountId=c.webContext.account.id));f=window.appInsights||function(t){function e(n){i[n]=function(){var t=arguments;i.queue.push(function(){i[n].apply(i,t)})}}var i={config:t},u=document,o=window,s="script",h=u.createElement(s),r,f;for(h.src=t.url||n.insightsScriptUrl,u.getElementsByTagName(s)[0].parentNode.appendChild(h),i.cookie=u.cookie,i.queue=[],r=["Event","Exception","Metric","PageView","Trace"];r.length;)e("track"+r.pop());return t.disableExceptionTracking||(r="onerror",e("_"+r),f=o[r],o[r]=function(n,t,u,e,o){var s=f&&f(n,t,u,e,o);return s!==!0&&i["_"+r](n,t,u,e,o),s}),i}(i);window.appInsights=f;p();n.autoTrackPage&&v(s(),h(),l())}function p(){var n=r.getPageContext(),f;t&&t.customTrackPageData&&t.customTrackPageData.pageName?i=t.customTrackPageData.pageName:n&&(i=n.navigation.currentController+"/"+n.navigation.currentAction,t&&t.trackProjectInfo?(n.webContext.collection&&(i=i+"/"+n.webContext.collection.name),n.webContext.project&&(i=i+"/"+n.webContext.project.name),n.navigation.topMostLevel===u.NavigationContextLevels.Team&&(i=i+"/"+n.webContext.team.name)):(f=n.navigation.topMostLevel===u.NavigationContextLevels.Team?"team":n.webContext.project?"project":n.webContext.collection?"collection":"account",i=i+"/"+f),n.navigation.area&&(i=i+"/"+n.navigation.area));t&&t.customTrackPageData&&t.customTrackPageData.properties?e=t.customTrackPageData.properties:n&&(e={hasQueryString:location.search?"true":"false",hasHashPath:location.hash?"true":"false"},t&&t.trackProjectInfo&&(n.webContext.collection&&(e.Collection=n.webContext.collection.name),n.webContext.project&&(e.TeamProject=n.webContext.project.name),n.navigation.topMostLevel===u.NavigationContextLevels.Team&&(e.Team=n.webContext.team.name)));t&&t.customTrackPageData&&t.customTrackPageData.metrics&&(o=t.customTrackPageData.metrics)}function w(n,t,i,r){if(f){var u,e;i&&(u=$.extend({},i));(r||r===0)&&(e={elapsed:r});a(t+"/"+n,u,e)}}function a(n,t,i){f&&f.trackEvent(n,t,i)}function v(n,t,i){f&&f.trackPageView(n,null,t,i)}var f,t,i,e,o;n.getPageName=s;n.getPageProperties=h;n.getPageMetric=l;n.configureAppInsights=y;n.trackWebEvent=w;n.logEvent=a;n.logPageView=v})(l||(l={}));c=r.getPageContext();y()&&l.configureAppInsights(c.appInsightsConfiguration);p=function(){function n(n,t,i,u,f){this.area=n;this.feature=t;this.properties=i;u&&(this.elapsedTime=Date.now()-u,this.properties.StartTime=u);f&&(this.elapsedTime=f);var e=r.getPageContext();e&&e.diagnostics.sessionId&&(this.properties.SessionId=e.diagnostics.sessionId)}return n.fromProperty=function(t,i,r,u,f,e){var o={};return o[r]=u,new n(t,i,o,f,e)},n}();t.TelemetryEventData=p;var w=function(){function n(){var t=this;this._retries=0;this._items=[];this._delayFunction=new o.DelayedFunction(this,1e3,"TelemetryPublish",function(){var i=!1;window.performance&&window.performance.timing?window.performance.timing.loadEventEnd&&window.performance.timing.loadEventEnd>0&&(i=!0):i=!0;!i&&t._retries<n.MAX_RETRIES?(t._retries++,t._delayFunction.reset()):t.flush()})}return n.prototype._getHttpClient=function(){return f.getClient(e.CustomerIntelligenceHttpClient,undefined,undefined,undefined,{showProgressIndicator:!1})},n.prototype.delayedPublish=function(n){n.elapsedTime&&(n.properties.ElapsedTime=n.elapsedTime);this._items.push(n);this._delayFunction.isPending()||this._delayFunction.start()},n.prototype.flush=function(){var n=this._items;return this._items=[],this._publish(n)},n.prototype.publish=function(n){return this._publish([n])},n.prototype._publish=function(n){if(n.length===0)return i.resolve(null);var t=n.map(function(n){var t={area:n.area,feature:n.feature,properties:$.extend({},n.properties)};return n.elapsedTime&&(t.properties.ElapsedTime=n.elapsedTime),t}),r=this._getHttpClient().publishEvents(t);return y()&&$.each(this._items,function(n,t){l.trackWebEvent(t.feature,t.area,t.properties,t.elapsedTime)}),h.getDebugMode()&&(a=a.concat(t)),r},n.MAX_RETRIES=5,n}(),a=[],v=new w;t.getPublishedEvents=b;t.publishEvent=k;t.flush=d;s.tfsModuleLoaded("VSS.Telemetry",t)});
define("VSS/Contributions/Services",["require","exports","q","VSS/Common/Constants/Platform","VSS/WebApi/Constants","VSS/Context","VSS/Common/Contracts/Platform","VSS/Contributions/Contracts","VSS/Diag","VSS/FeatureAvailability/Services","VSS/Locations","VSS/Resources/VSS.Resources.Platform","VSS/Serialization","VSS/Service","VSS/Telemetry/Services","VSS/Utils/File","VSS/Utils/String","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){function ut(n,t){return b.requireModules(["VSS/Contributions/RestClient"]).spread(function(i){var h=n.getWebContext(),r,s,o;return!f.getPageContext().navigation.area&&f.getPageContext().webAccessConfiguration.isHosted&&(h.host.hostType&e.ContextHostType.Application)!=0?(r=$.extend(!0,{},h),r.host.relativeUri="/DefaultCollection/",r.host.hostType=e.ContextHostType.ProjectCollection,r.host.uri=r.host.uri+"DefaultCollection/",r.host.name="DefaultCollection",r.collection={id:r.host.id,name:r.host.name,relativeUri:r.host.relativeUri,uri:r.host.uri},s=f.getPageContext().serviceLocations,s&&s.locations&&(o=s.locations[u.ServiceInstanceTypes.SPS],o&&o[e.ContextHostType.Application]&&!o[e.ContextHostType.ProjectCollection]&&(o[e.ContextHostType.ProjectCollection]=o[e.ContextHostType.Application]+"DefaultCollection/")),v.getCollectionClient(i.ContributionsHttpClient,r,t)):n.getHttpClient(i.ContributionsHttpClient,t)})}var it,ft,k,d,g,tt,rt,nt;(function(n){n.CONTRIBUTIONS_AREA="Microsoft.VisualStudio.Services.Contributions";n.CONTRIBUTIONS_USAGE_FEATURE="ContributionUsage";n.CONTRIBUTIONS_ACTION="Action";n.CONTRIBUTIONS_ACTION_EXECUTE="Execute"})(it=t.CustomerIntelligenceConstants||(t.CustomerIntelligenceConstants={})),function(n){n.ServiceInstanceTypeProperty="::ServiceInstanceType";n.AttributesProperty="::Attributes";n.BaseUriProperty="::BaseUri";n.FallbackBaseUriProperty="::FallbackBaseUri"}(ft=t.ContributionReservedProperties||(t.ContributionReservedProperties={})),function(n){n[n.IncludeRoot=1]="IncludeRoot";n[n.IncludeDirectTargets=2]="IncludeDirectTargets";n[n.IncludeRecursiveTargets=4]="IncludeRecursiveTargets";n[n.IncludeAll=7]="IncludeAll";n[n.LocalOnly=8]="LocalOnly"}(t.ContributionQueryOptions||(t.ContributionQueryOptions={}));k=t.ContributionQueryOptions,function(n){n[n.None=0]="None";n[n.Include=1]="Include";n[n.Recurse=2]="Recurse";n[n.IncludeAndRecurse=3]="IncludeAndRecurse"}(t.ContributionQueryCallbackResult||(t.ContributionQueryCallbackResult={}));d=t.ContributionQueryCallbackResult;g=function(n){function t(){n.call(this);this._extensions={};this._contributionsById={};this._contributionsByTargetId={};this._targetsByUnresolvedContributionId={};this._loadedContributionTargets={};this._contributionQueryPromises={}}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._webPageDataService=this.getConnection().getService(rt);f.getDefaultWebContext()===t.getWebContext()&&this._processJsonIsland()},t.prototype.registerExtension=function(n){var t=this;this._extensions[n.publisherId+"."+n.extensionId]=n;n.contributions&&n.contributions.forEach(function(i){i.extension=n;t._contributionsById[i.id]=i;var r=t._targetsByUnresolvedContributionId[i.id];r&&r.length>0&&(r.forEach(function(n){t._registerContributionTarget(i,n)}),delete t._targetsByUnresolvedContributionId[i.id]);i.targets&&i.targets.forEach(function(n){t._registerContributionTarget(i,n)});i.includes&&i.includes.forEach(function(n){var u=t._contributionsById[n],r;u?t._registerContributionTarget(u,i.id):(r=t._targetsByUnresolvedContributionId[n],r||(r=[],t._targetsByUnresolvedContributionId[n]=r),r.push(i.id))});i.properties||(i.properties={})})},t.prototype.getContribution=function(n){return this.getContributions([n],!0,!1).then(function(t){if(t.length===0)throw w.format("Contribution with id '{0}' could not be found.",n);else return t[0]})},t.prototype.getContributionsForTarget=function(n,t){return this.getContributions([n],!1,!0,!1,t)},t.prototype.getContributionsForTargets=function(n,t){return this.getContributions(n,!1,!0,!1,t)},t.prototype.getContributions=function(n,t,i,r,u){r===void 0&&(r=!1);u===void 0&&(u=null);var f=0;return t&&(f|=k.IncludeRoot),i&&(f|=k.IncludeDirectTargets),r&&(f|=k.IncludeRecursiveTargets),this.queryContributions(n,f,u)},t.prototype.getExtensionForContribution=function(n){return this._extensions[nt.getPublisherId(n)+"."+nt.getExtensionId(n)]},t.prototype.queryContributions=function(n,r,u,f){var e=this,o,c;if(h.FeatureAvailabilityService.isFeatureEnabled(t._testExecutionFeatureFlag,!1))return i.resolve([]);o=(r&k.LocalOnly)!=0?[]:this._getUnqueriedContributions(n);var s=i.defer(),l=this._getPendingLoadPromises(n),a=function(){l.length>0?i.all(l).then(function(){e._resolveContributions(e._getLoadedContributions(n,r,u,f)).then(s.resolve,s.reject)},s.reject):e._resolveContributions(e._getLoadedContributions(n,r,u,f)).then(s.resolve,s.reject)};return o.length>0?(c=ut(this.getConnection()).then(function(n){return n.getInstalledExtensions(o,!1)}),$.each(o,function(n,t){e._contributionQueryPromises[t]=c}),c.then(function(n){$.each(o,function(n,t){e._loadedContributionTargets[t]=!0});$.each(n,function(n,t){e.registerExtension(t);e._registerLoadedContributionTargets(t.contributions)});$.each(o,function(n,t){delete e._contributionQueryPromises[t]});a()},function(n){$.each(o,function(n,t){delete e._contributionQueryPromises[t]});s.reject(n)})):a(),s.promise},t.prototype.isExtensionActive=function(n){var t=n.split(".");return ut(this.getConnection()).then(function(n){return n.getInstalledExtensionByName(t[0],t[1]).then(function(n){return n!==null},function(){return!1})})},t.prototype._resolveContributions=function(n){if(!n.length)return i.resolve(n);var t=this._getLoadedContributions(n.map(function(n){return n.id}),k.IncludeAll,r.DataProviderConstants.DataProviderContributionTypeId);return t.length?this._webPageDataService.ensureDataProvidersResolved(t).then(function(){return n}):i.resolve(n)},t.prototype._getUnqueriedContributions=function(n){var t=this;return $.grep(n,function(n){return t._loadedContributionTargets[n]||t._contributionQueryPromises[n]?!1:!0})},t.prototype._getPendingLoadPromises=function(n){var i=this,t=[];return $.each(n,function(n,r){var u=i._contributionQueryPromises[r];u&&t.push(u)}),t},t.prototype._getLoadedContributions=function(n,t,i,r){var e=this,u=[],f={},o=[],s;return $.each(n,function(n,s){var c=e._contributionsById[s],h;c&&!f[s]&&(h=d.None,r==null?((t&k.IncludeRoot)!=0&&(h|=d.Include),((t&k.IncludeDirectTargets)!=0||(t&k.IncludeRecursiveTargets)!=0)&&(h|=d.Recurse)):h=r(c),f[s]=!0,(h&d.Include)!=0&&(!i||nt.isContributionOfType(c,i))&&u.push(c),(h&d.Recurse)!=0&&o.push(s))}),s=r==null?(t&k.IncludeRecursiveTargets)!=0?function(){return d.IncludeAndRecurse}:function(){return d.Include}:r,$.each(o,function(n,t){e._fetchTargetingContributions(t,u,f,s,i)}),u},t.prototype._fetchTargetingContributions=function(n,t,i,r,u){var e=this,f=this._contributionsByTargetId[n];f&&$.each(f,function(n,f){var o=f.id,s;i[o]||(i[o]=!0,s=r(f),(s&d.Include)!=0&&(!u||nt.isContributionOfType(f,u))&&t.push(f),(s&d.Recurse)!=0&&e._fetchTargetingContributions(o,t,i,r,u))})},t.prototype._registerLoadedContributionTargets=function(n){var t=this;$.each(n,function(n,i){t._loadedContributionTargets[i.id]=!0})},t.prototype._processJsonIsland=function(){var i=this,n=a.deserializeJsonIsland($(".vss-contribution-data"),null),t;n&&(t=a.ContractSerializer.deserialize(n.extensions,o.TypeInfo.InstalledExtension,!1),t&&t.length&&$.each(t,function(n,t){i.registerExtension(t);i._registerLoadedContributionTargets(t.contributions)}),n.queriedContributionIds&&$.each(n.queriedContributionIds,function(n,t){i._loadedContributionTargets[t]=!0}))},t.prototype._registerContributionTarget=function(n,t){var i=this._contributionsByTargetId[t];i||(i=[],this._contributionsByTargetId[t]=i);i.indexOf(n)<0&&i.push(n)},t.prototype.getLoadedContributionsOfType=function(n){var i=[],r,t;for(r in this._contributionsById)t=this._contributionsById[r],w.equals(n,t.type)&&i.push(t);return this._resolveContributions(i)},t._testExecutionFeatureFlag="VisualStudio.Services.Contribution.TestExecution",t}(v.VssService);t.ExtensionService=g,function(n){n[n.JsonIsland=0]="JsonIsland";n[n.RestCall=1]="RestCall";n[n.LocalStorage=2]="LocalStorage"}(t.WebPageDataSource||(t.WebPageDataSource={}));tt=t.WebPageDataSource;rt=function(n){function t(){n.apply(this,arguments);this._localDataSource={};this._resolvedProviders={};this._contributionPromises={};this._contributionIdsByDataType={}}return __extends(t,n),t.prototype._ensureInitialized=function(){var n,t,u,f;return this._initializationPromise||(this._localData={},n=a.deserializeJsonIsland($(".vss-web-page-data"),null),n?(t=[],u=a.deserializeJsonIsland($(".vss-contribution-data"),null),u&&(f=a.ContractSerializer.deserialize(u.extensions,o.TypeInfo.InstalledExtension,!1),f&&f.forEach(function(n){n.contributions.forEach(function(n){w.equals(n.type,r.DataProviderConstants.DataProviderContributionTypeId,!0)&&t.push(n)})})),this._initializationPromise=this._handleDataProviderResult(n,t,tt.JsonIsland)):this._initializationPromise=i.resolve(null)),this._initializationPromise},t.prototype._handleDataProviderResult=function(n,u,f){var e=this,h,c,o,a,v;if(n.resolvedProviders&&n.resolvedProviders.forEach(function(n){e._resolvedProviders[n.id]=n;n.error&&s.logWarning(w.format(l.DataProviderFailureMessageFormat,n.id,n.error))}),h=[],n.data){for(c={},o=0,a=u;o<a.length;o++)v=a[o],c[v.id]=v;$.each(n.data,function(n,u){var v,l,o,y,a=c[n],s,p;a&&a.properties&&(o=a.properties[r.DataProviderConstants.ContributionDataTypeProperty],y=a.properties.caching);o&&(s=e._contributionIdsByDataType[o],s||(s=[],e._contributionIdsByDataType[o]=s),s.push(n),v=t._resolveDataPlugins[o]);e._localDataSource[n]=f;v&&(l=v(n,u));i.isPromise(l)?(p=l.then(function(t){e._storeDataProviderData(n,u,t,y)}),h.push(p)):e._storeDataProviderData(n,u,l,y)})}return i.allSettled(h)},t.prototype._storeDataProviderData=function(n,t,i,r){var u=typeof i=="undefined"?t:i;r&&this._setCachedDataProviderValue(n,u,r);this._localData[n]=u},t.prototype._getLocalStorageCacheScope=function(n){if(n&&n.mode==="localStorage"){var t=this.getWebContext(),i="";switch(n.scope){case"team":i=t.team?t.team.id:"";break;case"project":i=t.project?t.project.id:"";break;case"collection":i=t.collection?t.collection.id:""}if(i)return{scopeId:i,storageEntryName:"dataProviderCache-"+n.scope}}return null},t.prototype._getLocalStorageCacheEntry=function(n){var i,t;try{t=window.localStorage.getItem(n);t&&(i=JSON.parse(t))}catch(r){s.logWarning('Could not parse DataProvider localStorage entry "'+t+'": '+r.message)}return i},t.prototype._isDataExpired=function(n){var u=n.properties.caching,t,i,f,r,e,o;return u&&(t=u.maxCacheLifetimeMinutes||0,t>0&&(t=t*6e4,i=this._getLocalStorageCacheScope(u),i&&(f=this._getLocalStorageCacheEntry(i.storageEntryName),f&&(r=f[i.scopeId],r&&r.dataLastAccessed&&(e=r.dataLastAccessed[n.id],e)))))?(o=(new Date).getTime(),o-e>t):!0},t.prototype._getCachedDataProviderValue=function(n){var u=n.properties.caching,t,r,i;return u&&(t=this._getLocalStorageCacheScope(u),t&&(r=this._getLocalStorageCacheEntry(t.storageEntryName),r&&(i=r[t.scopeId],i&&i.data)))?i.data[n.id]:null},t.prototype._setCachedDataProviderValue=function(n,i,r){var e=this._getLocalStorageCacheScope(r),f,u,h,c,y,o,l,a,v;if(e){if(f=this._getLocalStorageCacheEntry(e.storageEntryName),f||(f={}),u=f[e.scopeId],!u){if(u={},h=Object.keys(f),h.length>=t.MAX_CACHE_SCOPES)for(c=h.map(function(n){return{id:n,value:f[n]||{}}}),c.sort(function(n,t){return(t.value.lastAccess||0)-(n.value.lastAccess||0)}),y=c.slice(0,t.MAX_CACHE_SCOPES-1),f={},o=0,l=y;o<l.length;o++)a=l[o],f[a.id]=a.value;f[e.scopeId]=u}u.data||(u.data={});v=(new Date).getTime();u.lastAccess=v;u.data[n]=i;r&&r.maxCacheLifetimeMinutes&&(u.dataLastAccessed||(u.dataLastAccessed={}),typeof i=="undefined"?delete u.dataLastAccessed[n]:u.dataLastAccessed[n]=v);try{window.localStorage.setItem(e.storageEntryName,JSON.stringify(f))}catch(p){s.logWarning("Could not write to localStorage. Key="+e.storageEntryName+". Error="+p+".")}}},t.addResolutionPlugin=function(n,i){t._resolveDataPlugins[n]=i},t.removeResolutionPlugin=function(n){delete t._resolveDataPlugins[n]},t.prototype.getPageData=function(n,t){this._ensureInitialized();var i=this._localData[n];return i&&t?a.ContractSerializer.deserialize(i,t,!1):i},t.prototype.getPageDataSource=function(n){return this._localDataSource[n]},t.prototype.getPageDataByDataType=function(n,t){var e={},r,i,u,f;if(this._ensureInitialized(),r=this._contributionIdsByDataType[n],r)for(i=0,u=r;i<u.length;i++)f=u[i],e[f]=this.getPageData(f,t);return e},t.prototype.ensureDataProvidersResolved=function(n,t){var u=this;return this._ensureInitialized().then(function(){var e={},f;return t||(n=n.filter(function(n){return!u._resolvedProviders[n.id]})),f=[],n.forEach(function(n){var h=t&&u._isDataExpired(n),c=!h&&u._contributionPromises[n.id],o,s,i;c?f.push(c):(o=!h&&u._getCachedDataProviderValue(n),o?(u._localData[n.id]=o,u._localDataSource[n.id]=tt.LocalStorage,u._resolvedProviders[n.id]={id:n.id}):(s=(n.properties[r.DataProviderConstants.ContributionInstanceTypeProperty]||"").toLowerCase(),i=e[s],i||(i=[],e[s]=i),i.push(n)))}),$.each(e,function(n,t){var i=u.fetchPageDataForService(n,t);t.forEach(function(n){u._contributionPromises[n.id]=i});f.push(i)}),i.allSettled(f)})},t.prototype.fetchPageDataForService=function(n,t){var u=this,i=f.getPageContext(),r=f.getHubsContext(),e={contributionPaths:i.moduleLoaderConfig.contributionPaths?Object.keys(i.moduleLoaderConfig.contributionPaths):null,diagnostics:i.diagnostics,navigation:i.navigation,project:i.webContext.project,selectedHubGroupId:r?r.selectedHubGroupId:null,selectedHubId:r?r.selectedHubId:null,team:i.webContext.team,url:window.location.href},o={contributionIds:t.map(function(n){return n.id}),context:{properties:{pageSource:e}}};return ut(this.getConnection(),n).then(function(n){return n.queryDataProviders(o).then(function(n){return u._handleDataProviderResult(n,t,tt.RestCall)})})},t.prototype.getCachedPageData=function(n,t,i,r,u){i===void 0&&(i=!0);var e,f;return t&&(f=this.getPageData(t,r),f&&(e=this.getPageDataSource(t))),f||(f=this.getPageData(n,r),e=this.getPageDataSource(n)),i&&e===tt.LocalStorage&&this.reloadCachedProviderData(n,u),f},t.prototype.reloadCachedProviderData=function(n,t){var i=this,r=v.getService(g),u=function(n,t){if(n||t)if(n&&t)try{return JSON.stringify(n)===JSON.stringify(t)}catch(i){return!1}else return!1;else return!0},f=this.getPageData(n);r.getContribution(n).then(function(r){i.ensureDataProvidersResolved([r],!0).then(function(){var r=i.getPageData(n);t&&!u(f,r)&&t()})})},t.prototype.invalidateCachedProviderData=function(n,t){var i=this,r;return t===void 0&&(t=!1),r=v.getService(g),r.getContribution(n).then(function(n){var r=n.properties.caching;return r&&r.mode=="localStorage"&&i._setCachedDataProviderValue(n.id,undefined,r),t?i.ensureDataProvidersResolved([n],!0):null})},t.MAX_CACHE_SCOPES=20,t._resolveDataPlugins={},t}(v.VssService);t.WebPageDataService=rt;rt.addResolutionPlugin(r.ContributedServiceContextData.ContributedServiceDataProviderType,function(n,t){if(t){var i=a.ContractSerializer.deserialize(t,e.TypeInfo.ContributedServiceContext);return f.processContributedServiceContext(i)}});nt=function(){function n(){}return n.getFullContributionId=function(n){return n.id},n.getExtensionId=function(n){return n.id.split(".")[1]},n.getPublisherId=function(n){return n.id.split(".")[0]},n.isContributionOfType=function(n,t){return w.equals(n.type,t,!0)},n.isContributionTrusted=function(n){var t=v.getService(g).getExtensionForContribution(n);return(t.flags&o.ExtensionFlags.Trusted)!=0},n.hasInternalContent=function(t){return n.isContributionTrusted(t)&&!!t.properties.content},n.hasContent=function(t,i){return i===void 0&&(i="uri"),!!t.properties[i]||n.hasInternalContent(t)},n._registerHandlebarHelpers=function(t){t.registerHelper("ServiceUrl",function(t,i){var o,r=f.getDefaultWebContext(),l=r.host.hostType,h=function(n){return w.localeIgnoreCaseComparer(n,"Deployment")===0?e.ContextHostType.Deployment:w.localeIgnoreCaseComparer(n,"Application")===0?e.ContextHostType.Application:w.localeIgnoreCaseComparer(n,"ProjectCollection")===0?e.ContextHostType.ProjectCollection:undefined},s;return i&&typeof i=="string"?i=h(i):t&&typeof t=="string"?(i=h(t),i&&(t=undefined)):(t=undefined,i=undefined),i=i||l,t=t||this[u.ExtensionTemplateContextItemNames.ServiceInstanceType],o=t&&f.getPageContext().webAccessConfiguration.isHosted?c.getCachedServiceLocation(t,i,r)||"":i===e.ContextHostType.ProjectCollection&&r.collection?n.resolveDefaultHostUri(r,r.collection):i===e.ContextHostType.Application&&r.account?n.resolveDefaultHostUri(r,r.account):n.resolveDefaultHostUri(r,r.host),o?o:(s=n._asyncReplacementCounter++,n._asyncReplacementPromises[s]=v.VssConnection.getConnection().beginGetServiceUrl(t,i,!0),n._asyncReplacementIndicator+s+";")})},n.resolveDefaultHostUri=function(n,t){return f.getPageContext().webAccessConfiguration.isHosted||window.top!==window.self?t.uri:p.combinePaths(window.location.protocol+"//"+window.location.host,encodeURI(t.relativeUri))},n.handleAsyncReplacements=function(t,i,r,u){i===r?u.resolve(t):n._asyncReplacementPromises[i].then(function(f){t=t.replace(n._asyncReplacementIndicator+i+";",f);n.handleAsyncReplacements(t,i+1,r,u)},function(){u.resolve(t)})},n.resolveTemplateString=function(t,r){var u=i.defer();return t?(r||(r={}),r&&t.indexOf("{{")>=0?b.using(["handlebars"],function(i){n._handlebarHelpersRegistered||(n._handlebarHelpersRegistered=!0,n._registerHandlebarHelpers(i));var f=n._asyncReplacementCounter;try{t=i.compile(t)(r)}catch(e){}n.handleAsyncReplacements(t,f,n._asyncReplacementCounter,u)}):u.resolve(t),u.promise):i.resolve(t)},n.resolveUriTemplate=function(t,r,u){var f=i.defer();return this.resolveTemplateString(t,r).then(function(t){n._httpUrlRegex.test(t)||!u?f.resolve(t):n.resolveTemplateString(u,r).then(function(n){f.resolve(p.combinePaths(n,t))},f.reject)},f.reject),f.promise},n.resolveUriTemplateProperty=function(t,r,f,e){var s,o;return f===void 0&&(f="uri"),e===void 0&&(e=null),s=t.properties[f],typeof s=="undefined"?i.resolve(null):(o=v.getService(g).getExtensionForContribution(t),o)?(o.serviceInstanceType&&(r=r||{},r[u.ExtensionTemplateContextItemNames.ServiceInstanceType]=o.serviceInstanceType),n.resolveUriTemplate(s,r,e||o.baseUri)):i.resolve(s)},n.publishTraceData=function(t,i,r){t?n.publishData(t,i):r&&v.getService(g).getContribution(r).then(function(t){t&&n.publishData(t,i)})},n.publishData=function(t,i){var r=n.getPublisherId(t),u={Action:it.CONTRIBUTIONS_ACTION_EXECUTE,PublisherId:r,ExtensionId:r+"."+n.getExtensionId(t),ContributionId:t.id,ContributionData:i,Type:t.type};y.publishEvent(new y.TelemetryEventData(it.CONTRIBUTIONS_AREA,it.CONTRIBUTIONS_USAGE_FEATURE,u))},n._httpUrlRegex=/^[a-z][a-z0-9+.-]*:/i,n._handlebarHelpersRegistered=!1,n._asyncReplacementIndicator="__AsyncReplacement__",n._asyncReplacementCounter=0,n._asyncReplacementPromises={},n}();t.ExtensionHelper=nt;b.tfsModuleLoaded("VSS.Contributions",t)});
define("VSS/Utils/Array",["require","exports"],function(n,t){function l(n,t){if(!n||n.length===0)return null;if(t===undefined)return n[0];for(var r,u=n.length,i=0;i<u;i++)if(r=n[i],t(r)===!0)return r;return null}function f(n,t,i){if(!t)return!1;for(var r=0,u=t.length;r<u;r++)if(i&&i(n,t[r]))return!0;return!1}function a(n,t,i,r){if(r===void 0&&(r=!1),!n||!t)return r;if(n.length!==t.length)return!1;for(var u=0,e=n.length;u<e;u++)if(!f(n[u],t,i))return!1;return!0}function e(n,t){var u={},i,r;if(t)for(i=0,r=n.length;i<r;i++)u[n[i].toLocaleUpperCase()]=i;else for(i=0,r=n.length;i<r;i++)u[n[i]]=i;return u}function v(n,t,i,r){var u={};return $.each(n||[],function(n,f){var e=t(f,n),o;if(e){if(o=i?i(f,n):f,r&&u[e])throw new Error("toDictionary: Duplicate entries for key: "+e);u[e]=o}}),u}function i(n,t,i){if(typeof t=="undefined")return!1;i=i||c;for(var r=0,u=n.length;r<u;r++)if(typeof n[r]!="undefined"&&i(n[r],t)===0)return!0;return!1}function y(n,t){for(var i=0,r=n.length;i<r;i++)if(t(n[i]))return i;return-1}function p(n,t,r){var u,e,f,o;if(!t)return n;if(t.length===0)return[];for(u=[],f=0,o=n.length;f<o;f++)e=n[f],i(t,e,r)&&(u[u.length]=e);return u}function w(n,t,i){var o,u,r,s,f;if(!t)return n;if(!n)return t;if(t.length===0||n.length===0)return[];if(n.length<t.length?o=e(n,i):(o=e(t,i),t=n),u=[],i)for(r=0,s=t.length;r<s;r++)f=t[r],o.hasOwnProperty(f.toLocaleUpperCase())&&(u[u.length]=f);else for(r=0,s=t.length;r<s;r++)f=t[r],o.hasOwnProperty(f)&&(u[u.length]=f);return u}function b(n,t,i){var u;return!t||t.length===0?n:(u=n.concat(t),r(u,i),u)}function r(n,t){t=t||c;n.sort(t);for(var i=1,r=n.length;i<r;i++)t(n[i],n[i-1])===0&&(n.splice(i--,1),r--);return n}function k(n,t){var i=n.slice(0);return r(i,t),i}function d(n,t,r){var e,u,f,o;if(!t||t.length===0)return n;for(u=[],f=0,o=n.length;f<o;f++)e=n[f],i(t,e,r)||(u[u.length]=e);return u}function g(n,t,i,r){var u;if(i>t){if(i-t<r)throw new Error("Array cannot be reordered if newIndex is within the items being moved");i-=r}return u=n.splice(t,r),Array.prototype.splice.apply(n,[i,0].concat(u)),n}function o(n,t){var i=n;i.sorted=!0;i.comparer=t}function nt(n,t){var i=n,r=t;i.sorted=r.sorted;i.comparer=r.comparer}function s(n,t){var i=n;return i.sorted&&i.comparer===t}function tt(n,t){return s(n,t)?!1:(n.sort(t),o(n,t),!0)}function it(n){return n.length===1?[n[0]]:Array.apply(null,n)}function h(n,t){if(typeof t=="undefined")return-1;for(var i=0,r=n.length;i<r;i++)if(typeof n[i]!="undefined"&&n[i]===t)return i;return-1}function rt(n,t){n[n.length]=t}function ut(n,t){n.push.apply(n,t)}function ft(n,t){var i=h(n,t);return i>=0&&n.splice(i,1),i>=0}function et(n,t,i,r){var e,f;for(r===void 0&&(r=0),e=[],f=r;f<n.length;++f)if(t(n[f])&&(e.push(f),e.length===i))break;u(n,e)}function ot(n,t){return u(n,[t])}function u(n,t){var f=!0,u=t.slice(),i,r;for(u.sort(function(n,t){return Number(n)-Number(t)}),i=u.length-1;i>=0;--i){if(r=u[i],r>=n.length||r<0){f=!1;continue}n.splice(r,1)}return f}function st(n){n.length=0}function c(n,t){return n==t?0:n>t?1:-1}function ht(n,t,i){var o,u,f,s;if(!n||!t||n.length===0||t.length===0)return[];n.length<t.length?(o=n,u=t):(o=t,u=n);i||(i=function(n,t){return n<t?-1:n>t?1:0});var l=0,y=u.length,a=[];for(f=0,s=o;f<s.length;f++){for(var v=s[f],e=void 0,r=void 0,h=l,c=y-1;c>=h;)if(r=h+c>>1,e=i(v,u[r]),e<0)c=r-1;else if(e>0)h=r+1;else break;e===0&&(a.push(v),l=r+1)}return a}t.first=l;t.arrayContains=f;t.arrayEquals=a;t.toDictionary=v;t.contains=i;t.findIndex=y;t.intersect=p;t.intersectPrimitives=w;t.union=b;t.uniqueSort=r;t.unique=k;t.subtract=d;t.reorder=g;t.flagSorted=o;t.copySortFlag=nt;t.isSorted=s;t.sortIfNotSorted=tt;t.clone=it;t.indexOf=h;t.add=rt;t.addRange=ut;t.remove=ft;t.removeWhere=et;t.removeAtIndex=ot;t.removeAllIndexes=u;t.clear=st;t.intersectUniqueSorted=ht;var ct=function(){function n(n){this.cmpFunc=n}return n.prototype.msort=function(n,t,i){var u=i-t,r;u<2||(r=t+Math.floor(u/2),this.msort(n,t,r),this.msort(n,r,i),this.merge(n,t,r,i))},n.prototype.merge_sort=function(n){this.msort(n,0,n.length)},n.prototype.merge=function(n,t,i,r){for(;t<i;++t)if(this.cmpFunc(n[t],n[i])>0){var u=n[t];n[t]=n[i];this.insert(n,i,r,u)}},n.prototype.arr_swap=function(n,t,i){var r=n[t];n[t]=n[i];n[i]=r},n.prototype.insert=function(n,t,i,r){while(t+1<i&&this.cmpFunc(n[t+1],r)<0)this.arr_swap(n,t,t+1),++t;n[t]=r},n.prototype.sort=function(n,t){t===void 0&&(t=!0);var i=t?n:n.slice(0);return this.merge_sort(i),i},n}();t.StableSorter=ct});
define("VSS/Utils/UI",["require","exports","VSS/Diag","VSS/Utils/Core","VSS/Utils/String","VSS/VSS","VSS/Context"],function(n,t,i,r,u,f,e){function nt(n){var t=0;return n.wheelDelta?t=n.wheelDelta/120:n.detail?t=-n.detail/3:n.originalEvent&&n.originalEvent.wheelDelta?t=n.originalEvent.wheelDelta/120:n.originalEvent&&n.originalEvent.detail?t=-n.originalEvent.detail/3:n.deltaY&&(t=-n.deltaY/3),t}function tt(n,t){t===!0?$(n).removeAttr("disabled"):$(n).attr("disabled","disabled")}function it(n){if(s.isMozilla())n.style.MozUserFocus="ignore";else if(s.isMsie()){n.unselectable="on";for(var i=0,t=n.all&&n.all[i++];t;){switch(t.tagName){case"IFRAME":case"TEXTAREA":case"INPUT":case"SELECT":break;default:t.unselectable="on"}t=n.all[i++]}}}function c(n,t){function u(){try{f.focus()}catch(n){g(i.LogVerbosity.Warning,"Failed to set focus to element: "+n)}}var f=n instanceof jQuery?n:$(n);typeof t=="undefined"?u():r.delay(this,t,function(){u()})}function rt(n,t){var i=$(n),r=i.outerWidth()-t;r!==0&&i.width(t-r)}function ut(n){return $.contains(document.documentElement,n)}function ft(n,t){return n.dataset?n.dataset[t]:n.getAttribute("data-"+t)}function st(n,t){var i=document.createElement(n);return t&&(i.className=t),i}function a(n){return n.jquery?n:$(n)}function ht(n){if(!n)return"";var t=n;return typeof n!="string"&&(t=""+n),t.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")}function vt(n,t){o||(o=new at);o.attach($(n),t)}function yt(n){o&&o.detach($(n))}function pt(){o&&(o.dispose(),o=null)}function kt(n,t,i){var r,u;if(n&&n.length)if(i)$.each(n,function(n,i){i.end>=t&&(i.start>=t&&i.start++,i.end++)});else return r=[],u={},$.each(n,function(n,i){var f;i.end>=t&&(i.start>t&&(i.start=Math.max(1,i.start-1)),i.end=Math.max(1,i.end-1));i.start!==i.end&&(f=i.start+"_"+i.end,f in u||(u[f]=!0,r.push(i)))}),r;return n}function dt(n){function i(n,r){$.each(n,function(u,f){r?f!==r&&r.start<=f.start&&r.end>=f.end&&(i(n,f),r.level=Math.max(r.level,f.level+1),t=Math.max(t,r.level)):i(n,f)})}var t=0;return n&&n.length&&($.each(n,function(n,t){t.level=0}),i(n,null)),t}function y(n,t,i,r){var o,e,s,f=null,c,h,l;if(n&&(s=this.children,s&&(l=s.length)>0)){t=t||"/";do o=n.indexOf(t),o>=0?(e=n.substring(0,o),n=n.substring(o+t.length)):(e=n,n=null);while(n&&e===t);if(e){for(r=r||"text",i=i||u.localeIgnoreCaseComparer,h=0;h<l;h++)if(c=s[h],i(c[r],e)===0){f=c;break}if(f&&n){if(f.children)return y.call(f,n,t,i,r);f=null}}}return f}function p(n,t,i,r){var u=this.parent;return r=r||"root",u&&!n&&u[r]&&(u=null),i=i||"text",u?(t=t||"/",p.call(u,n,t,i,r)+t+this[i]):this[i]}function w(n){var t,r,i,u;if(n&&(n.call(this,this),i=this.children,i&&(r=i.length)))for(t=0;t<r;t++)u=i[t],w.call(u,n)}function gt(n,t){t===void 0&&(t=null);var r=$("head > link[rel=stylesheet]"),i={};$.each(r,function(n,t){var r=$(t).attr("href");r&&(i[r]=!0)});$.each(n,function(n,r){if(!i[r]){var u=(t||"")+r;i[u]||$("<link />").attr("rel","stylesheet").attr("href",u).appendTo($(document.head))}})}function b(n,t){var f=$(":tabbable"),r=$(n.target),o=f.index(r),u,e=0;for(t?t.call(r,n):r.click(),u=f.length;!r.is(":visible:tabbable")&&u;)if(r=f.eq(o++%u),r)if(r.is(":visible:tabbable")){r.focus();break}else{if(e++,e===u)break;continue}else break;return!1}function ni(n,t){return n.addClass("propagate-keydown-event").attr("tabindex","0").keypress(function(n){if(n.keyCode===h.ENTER)return b(n,t)}).keyup(function(n){if(n.keyCode===h.SPACE)return b(n,t)})}function ti(n){var t,i;return n instanceof HTMLInputElement&&(s.isEdge()||s.isIE())?n.value?(t=document.createElement("div"),t.style.position="absolute",t.style.top="-10000px",t.style.left="-10000px",t.textContent=n.value,document.body.appendChild(t),i=t.offsetWidth>n.offsetWidth,document.body.removeChild(t),i):!1:n.offsetWidth<n.scrollWidth}function ii(n,t){t=t||{};var i=t.titleTarget||n,r=t.titleText;n.addEventListener("mouseenter",function(n){ti(n.currentTarget)&&i.setAttribute("title",r||(i instanceof HTMLInputElement?i.value:i.textContent))});n.addEventListener("mouseleave",function(){i.removeAttribute("title")})}function ri(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return k.instance().watermark(n,i)}var g=i.log,h,et,l,ot,ct,s,wt,bt,v,k,d;t.getWheelDelta=nt;t.enableElement=tt;t.makeElementUnselectable=it;t.tryFocus=c;t.alignWidth=rt;t.isInDomTree=ut;t.getCustomData=ft,function(n){n[n.ALT=18]="ALT";n[n.BACKSPACE=8]="BACKSPACE";n[n.CAPS_LOCK=20]="CAPS_LOCK";n[n.COMMA=188]="COMMA";n[n.CONTROL=17]="CONTROL";n[n.DELETE=46]="DELETE";n[n.DOWN=40]="DOWN";n[n.END=35]="END";n[n.ENTER=13]="ENTER";n[n.ESCAPE=27]="ESCAPE";n[n.HOME=36]="HOME";n[n.INSERT=45]="INSERT";n[n.LEFT=37]="LEFT";n[n.PAGE_DOWN=34]="PAGE_DOWN";n[n.PAGE_UP=33]="PAGE_UP";n[n.PERIOD=190]="PERIOD";n[n.RIGHT=39]="RIGHT";n[n.SEMI_COLON=186]="SEMI_COLON";n[n.FIREFOX_SEMI_COLON=59]="FIREFOX_SEMI_COLON";n[n.SHIFT=16]="SHIFT";n[n.SPACE=32]="SPACE";n[n.TAB=9]="TAB";n[n.UP=38]="UP";n[n.F1=112]="F1";n[n.F2=113]="F2";n[n.F10=121]="F10";n[n.IME_INPUT=229]="IME_INPUT";n[n.N=78]="N";n[n.P=80]="P";n[n.Q=81]="Q";n[n.S=83]="S";n[n.A=65]="A";n[n.C=67]="C";n[n.H=72]="H";n[n.T=84]="T";n[n.QUESTION_MARK=191]="QUESTION_MARK";n[n.CONTEXT_MENU=93]="CONTEXT_MENU"}(t.KeyCode||(t.KeyCode={}));h=t.KeyCode,function(n){function t(n){return n.ctrlKey&&!n.altKey&&!n.shiftKey}function i(n){return n.ctrlKey||n.altKey||n.shiftKey}n.isExclusivelyCtrl=t;n.isModifierKey=i}(et=t.KeyUtils||(t.KeyUtils={}));l=250,function(n){n.HtmlNewLine="<BR>";n.BlurTimeout=l}(ot=t.Constants||(t.Constants={}));t.domElem=st;t.htmlEncode=ht,function(n){function u(n){return 0-n}function f(n){var t=$(window),i=t.height()+t.scrollTop();return n-i}function e(n,t){var i=$(window),f=t.leftOffsetPixels||0,r=n.left+t.elementMeasure-(i.width()+i.scrollLeft())+f,u=n.left-r;n.left=r>0?Math.max(0,u):Math.max(0,n.left);r>0&&u<0&&(t.adjustedWidth=Math.min(t.elementMeasure,i.width()+i.scrollLeft()))}function o(n,t){var r=$(window),u=n.left+t.elementMeasure-(r.width()+r.scrollLeft()),i;i=t.elementAlign==="left"?-t.elementMeasure:t.elementMeasure;n.left+=n.left<0?i+t.baseMeasure:u>0?i-t.baseMeasure:0}function s(t,i){var r,e=0,f,u;return r=t.top,f=n._topOverflow(r),f>0?(r=0,u=n._bottomOverflow(r+i.elementMeasure),u>0&&(e=u)):(u=n._bottomOverflow(r+i.elementMeasure),u>0&&(r-=u,f=n._topOverflow(r),f>0&&(r=0,e=f))),{top:r,shrink:e}}function h(t,i){var r,e,o,s,u,f;return r=t.top,o=i.elementAlign==="top"?-i.elementMeasure:i.elementMeasure,u=n._topOverflow(r),u>0?(r+=o+i.baseMeasure,f=n._bottomOverflow(r+i.elementMeasure),f>0&&(f>=u?(r=t.top,e=u):e=f)):(f=n._bottomOverflow(r+i.elementMeasure),f>0&&(s=i.baseAlign==="top"?i.baseMeasure:-i.baseMeasure,r+=o+s,u=n._topOverflow(r),u>0&&(u>=f?(r=t.top,e=f):(r=0,e=u)))),{top:r,shrink:e}}function i(n){var t,r;return!n||!n.length||n[0]===document?0:(t=n.css("position"),(t==="absolute"||t==="relative"||t==="fixed"||t==="-ms-device-fixed")&&(r=parseInt(n.css("zIndex"),10),r!==0&&!isNaN(r)))?r:i(n.parent())}function c(t,r,u){var st;u=$.extend({},u);var l=0,v=1,f,y,w,c,b,k,o,s,h,e,ht,ct,p,nt,tt,it,d,rt,ut,ft,et,g,ot=2e4;t=a(t);r=a(r);u.elementAlignmentMarker&&u.elementAlignmentMarker.length&&(h=u.elementAlignmentMarker);u.baseAlignmentMarker&&u.baseAlignmentMarker.length&&(e=u.baseAlignmentMarker);nt=u.supportScroll===!0;u.skipZIndexSetting||(st=r?i(r):0,st!==0&&(ot=ot+st),t.css("z-index",ot));nt&&(u.scrollByMarker===!0&&e?t.css("min-height",e.outerHeight()):t[0].style.height="");y=t.outerWidth();w=t.outerHeight();c=r.offset();b=r.outerWidth();k=r.outerHeight();o=u.elementAlign||"left-top";s=u.baseAlign||"left-bottom";p=u.overflow||"fit-flip";u.alignToMarkerHorizontal&&e&&(c.left=e.offset().left,b=e.outerWidth());u.alignToMarkerVertical&&e&&(c.top=e.offset().top,k=e.outerHeight());s=s.split("-");s[l]==="right"&&(c.left+=b);s[v]==="bottom"&&(c.top+=k);f=$.extend({},c);u.alignToMarkerHorizontal&&h&&(ht=t.offset().left-h.offset().left,f.left+=ht,y=h.outerWidth());u.alignToMarkerVertical&&h&&(ct=t.offset().top-h.offset().top,f.top+=ct,w=h.outerHeight());o=o.split("-");o[l]==="right"&&(f.left-=y);o[v]==="bottom"&&(f.top-=w);f.left=Math.round(f.left);f.top=Math.round(f.top);p=p.split("-");it=n["_"+p[v].toLowerCase()+"Vertical"];it&&(d=it(f,{baseMeasure:k,baseAlign:s[v],elementMeasure:w,elementAlign:o[v]}),f.top=d.top,nt&&d.shrink>0&&(t.height(t.height()-d.shrink),y=t.outerWidth()));tt=n["_"+p[l].toLowerCase()+"Horizontal"];g={baseMeasure:b,baseAlign:s[l],elementMeasure:y,elementAlign:o[l],adjustedWidth:0,leftOffsetPixels:u.leftOffsetPixels};$.isFunction(tt)&&tt(f,g);rt=t.offset();ut=parseInt(jQuery.css(t[0],"top",!0),10)||0;ft=parseInt(jQuery.css(t[0],"left",!0),10)||0;u.leftOffsetPixels&&(ft+=u.leftOffsetPixels);u.topOffsetPixels&&(ut+=u.topOffsetPixels);et={top:f.top-rt.top+ut,left:f.left-rt.left+ft};g.adjustedWidth>0&&(et.width=g.adjustedWidth);t.css(et)}function l(n){for(var t=n.parent();t.length&&!(t.css("overflow-y")==="auto"||t.css("overflow-y")==="scroll");)t=t.parent();return t.length||(t=$(document)),t}function t(t,i,r,u,f){var e;switch(u){case n.VerticalScrollBehavior.Top:e=t;break;case n.VerticalScrollBehavior.Middle:e=t+(i-r.height())/2;break;case n.VerticalScrollBehavior.Bottom:e=t+i-r.height()}typeof e!="undefined"&&(f>0?r.animate({scrollTop:e},f):r.scrollTop(e))}function r(n,t){for(var i=n[0],f=!1,u=0;i;){if(t&&i===t[0]){f=!0;break}u+=i.offsetTop;i=i.offsetParent}return t&&!f&&(u-=r(t,null)),u}function v(i,u,f,e){var o=n.getVerticalScrollContainer(i),s=r(i,o),c,h,l;h=o.scrollTop();s<h?t(s,i.outerHeight(),o,u?u:n.VerticalScrollBehavior.Top,e):(c=s+i.outerHeight(),l=h+o.height(),c>l?t(s,i.outerHeight(),o,u?u:n.VerticalScrollBehavior.Bottom,e):f&&t(s,i.outerHeight(),o,u?u:n.VerticalScrollBehavior.Middle,e))}(function(n){n[n.Default=0]="Default";n[n.Top=1]="Top";n[n.Middle=2]="Middle";n[n.Bottom=3]="Bottom"})(n.VerticalScrollBehavior||(n.VerticalScrollBehavior={}));var y=n.VerticalScrollBehavior;n._topOverflow=u;n._bottomOverflow=f;n._fitHorizontal=e;n._flipHorizontal=o;n._fitVertical=s;n._flipVertical=h;n.position=c;n.getVerticalScrollContainer=l;n.scrollIntoViewVertical=v}(ct=t.Positioning||(t.Positioning={}));var lt=function(){function n(n,t){this.$element=n;this.handler=t}return n.prototype.execute=function(n,t){this.handler&&this.handler(n,t)},n.prototype.isMyParent=function(n){var t=!1,i=n.get(0);return i===window?!0:(this.$element.parents().each(function(){if(i===this)return t=!0,!1}),t)},n.prototype.owns=function(n){return this.$element.get(0)===n.get(0)},n}(),at=function(){function n(){this.handlers=[];$(window).bind("resize.containerResizeManager",r.delegate(this,this.onResize))}return n.prototype.onResize=function(n,t){for(var r,f=$(n.target),i=0,u=this.handlers.length;i<u;i++)r=this.handlers[i],r.isMyParent(f)&&r.execute(n,t)},n.prototype.attach=function(n,t){this.handlers.push(new lt(n,t))},n.prototype.detach=function(n){for(var i=this.handlers||[],r,t=i.length-1;t>=0;t--)r=i[t],r.owns(n)&&i.splice(t,1)},n.prototype.dispose=function(){this.handlers=null;$(window).unbind("resize.containerResizeManager")},n}(),o=null;t.attachResize=vt;t.detachResize=yt;t.clearResizeHandlers=pt,function(n){function i(){var n=window.navigator.userAgent.toLowerCase();return t.getInstance().getBrowserInformation().mozilla&&n.indexOf("trident")===-1}function r(){return t.getInstance().getBrowserInformation().chrome}function u(){return t.getInstance().getBrowserInformation().mozilla}function f(){return t.getInstance().getBrowserInformation().msie}function e(){var n=window.navigator.userAgent.toLowerCase();return t.getInstance().getBrowserInformation().msie?!0:n.indexOf("trident")!==-1?!0:!1}function o(){return t.getInstance().getBrowserInformation().edge}function s(){return t.getInstance().getBrowserInformation().version}function h(i){if(n.isIE()){var r=0,u=window.navigator.userAgent.toLowerCase();return t.getInstance().getBrowserInformation().msie?r=Number(t.getInstance().getBrowserInformation().version):u.indexOf("trident")!==-1&&(r=11),i===r}return!1}function c(){if(n.isIE()){var i=Number(t.getInstance().getBrowserInformation().version);return i>0&&i<=9}return!1}function l(){if(n.isIE()){var i=Number(t.getInstance().getBrowserInformation().version);return i>0&&i<=8}return!1}function a(){return t.getInstance().getBrowserInformation().isMacintosh}function v(){return t.getInstance().getBrowserInformation().isWindows}var t=function(){function n(){}return n.getInstance=function(){return n._instance||(n._instance=new n,this._instance._initialize()),n._instance},n.prototype.getBrowserInformation=function(){return this._browserInformation},n.prototype._initialize=function(){var n,t,i,r,u;if(!this._browserInformation){if(this._browserInformation={},this._browserInformation.isWindows=navigator.platform.indexOf("Win")>-1,this._browserInformation.isMacintosh=navigator.userAgent.indexOf("Mac OS X")>-1,n=/edge\/([\d+.]+)/i.exec(navigator.userAgent),n){this._browserInformation.edge=!0;this._browserInformation.version=n[1];return}if(t=/msie ([\d+.]+)/i.exec(navigator.userAgent),t){this._browserInformation.msie=!0;this._browserInformation.version=t[1];return}if(i=/chrome\/([\d.]+)/i.exec(navigator.userAgent),i){this._browserInformation.chrome=!0;this._browserInformation.webkit=!0;this._browserInformation.version=i[1];return}if(r=/safari\/([\d.]+)/i.exec(navigator.userAgent),r){this._browserInformation.safari=!0;this._browserInformation.webkit=!0;this._browserInformation.version=r[1];return}if(u=/mozilla.*rv:([\d+.]+)/i.exec(navigator.userAgent),u){this._browserInformation.mozilla=!0;this._browserInformation.version=u[1];return}}},n}();n.isFirefox=i;n.isChrome=r;n.isMozilla=u;n.isMsie=f;n.isIE=e;n.isEdge=o;n.getVersion=s;n.isIEVersion=h;n.isLessThanOrEqualToIE9=c;n.isLessThanOrEqualToIE8=l;n.isMacintosh=a;n.isWindows=v}(s=t.BrowserCheckUtils||(t.BrowserCheckUtils={})),function(n){function t(){var t=null,n;return window.getSelection&&(n=window.getSelection(),n&&n.anchorNode&&n.focusNode&&(n.anchorNode!==n.focusNode||n.anchorOffset!==n.focusOffset)&&(t={$startNode:$(n.anchorNode),$endNode:$(n.focusNode),startNodeOffset:n.anchorOffset,endNodeOffset:n.focusOffset})),t}function i(n,t,i,u){var f,e;u&&n.focus();f=n[0];typeof f.selectionStart!="undefined"?(f.selectionStart=t,f.selectionEnd=i):r.documentSelection&&r.documentSelection.createRange&&(f.select(),e=r.documentSelection.createRange(),e.collapse(!0),e.moveStart("character",t),e.moveEnd("character",i),e.select())}n.getSelection=t;n.selectInputText=i}(wt=t.SelectionUtils||(t.SelectionUtils={})),function(n){function t(n,t){var r,i,u,f,e,o,c,s,h;if(t?u=t.document:(t=window,u=document),f=u.selection,t.getSelection){if(r=t.getSelection(),r.getRangeAt&&r.rangeCount){for(i=r.getRangeAt(0),i.deleteContents(),e=u.createElement("div"),e.innerHTML=n,o=u.createDocumentFragment(),h=u.createTextNode($("<div>&nbsp;<\/div>").text());c=e.firstChild;)s=o.appendChild(c);i.insertNode(o);s&&(i=i.cloneRange(),i.setStartAfter(s),i.collapse(!0),i.insertNode(h),i.selectNodeContents(h),r.removeAllRanges(),r.addRange(i))}}else f&&f.createRange&&f.createRange().pasteHTML(n)}n.pasteHtmlAtCaret=t}(bt=t.HtmlInsertionUtils||(t.HtmlInsertionUtils={}));v=function(){function n(){this._index=0}return n.prototype.identifySections=function(){var n=this;$(".splitter").each(function(t,i){n._identify($(i).children(".leftPane"));n._identify($(i).children(".rightPane"))})},n.prototype.nextSection=function(){var n=this._getCurrentSectionIndex();return this._focusElement(n+1)},n.prototype.previousSection=function(){var n=this._getCurrentSectionIndex();return n>=1?this._focusElement(n-1):!1},n.prototype._identify=function(n){if(n.length>0){var t=this._index++;n.addClass("hotkey-section hotkey-section-"+t);n.data("hotkey-section-index",t)}},n.prototype._getCurrentSectionIndex=function(){if(document.activeElement){var n=$(document.activeElement).closest(".hotkey-section");if(n.length>0)return n.data("hotkey-section-index")}return-1},n.prototype._focusElement=function(n){var t=$(".hotkey-section-"+n+" :tabbable:first");return t.length>0?(t.focus(),!0):!1},n}();t.sectionManager=new v;t.updateFilterGroups=kt;t.updateFilterGroupLevels=dt;t.findTreeNode=y;t.calculateTreePath=p;t.walkTree=w;t.injectStylesheets=gt;t.accessible=ni;t.tooltipIfOverflow=ii;k=function(){function n(){}return n.instance=function(){return this._instance||(this._instance=new n),this._instance},n.prototype.watermark=function(n,t){return t.length>0&&(typeof t[0].watermarkText=="string"?n.attr("placeholder",t[0].watermarkText):t[0]==="focus"&&c(n)),n},n}();t.Watermark=ri;d=function(){function n(){}return n.execute=function(){e.isHighContrastMode()&&$("head > link[data-highcontrast]").each(function(){this.href=$(this).data("highcontrast")})},n}();$(function(){d.execute()});f.tfsModuleLoaded("VSS.UI",t)});
define("VSS/Controls",["require","exports","q","VSS/Diag","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/VSS"],function(n,t,i,r,u,f,e,o,s){function v(){return++b}function k(n,t,i,r){return c.create(n,t,i,r)}var a=s.getErrorMessage,p=f.delegate,w=o.domElem,b=0,h,c,y,l;t.getId=v;h=function(){function n(t,i){if(this._options={},this.getType()===n)throw new Error("You cannot instantiate an abstract type.");this.initializeOptions(t);this.setEnhancementOptions(i);this.getTypeName()}return n.getTypeName=function(n){return typeof n!="function"&&(n=this),n.enhancementTypeName?n.enhancementTypeName:n._typeName||"tfs.controls."+s.getTypeName(n)},n.getOptionPrefix=function(t){for(var i=t;i;){if(i.hasOwnProperty(n.ENHANCEMENT_OPTIONPREFIX_KEY))return i[n.ENHANCEMENT_OPTIONPREFIX_KEY];i=i._base}return""},n.getEnhancementOptions=function(t,i){var r,e,o,s,u,h=[],c;for(typeof t!="function"&&(i=t,t=this),e=n.getOptionPrefix(t)||"",r=i.data(e+"options"),r||(o=i.children("."+e+"options"),o.length>0&&(s=o.html(),s&&(r=f.parseMSJSON(s,!1)))),u=t;u;)u.hasOwnProperty("initializeEnhancementOptions")&&h.push(u.initializeEnhancementOptions),u=u._base;while(h.length>0)c=h.pop(),$.isFunction(c)&&(r=c.call(t,i,r));return r},n.enhance=function(t,i,r,u){var f,e,s,o;return e=typeof i!="string"&&i instanceof n?i.getElement():$(i),s=e.data(n.ENHANCEMENTS_DATA_KEY),s&&$.each(s,function(i,r){if(r instanceof t||r._typeName===n.getTypeName(t))return f=r,!1}),f||(o=typeof r=="function"?r.call(t,e):r,o=$.extend(n.getEnhancementOptions(t,e),o),f=new t(o,u),f.enhance(e)),f},n.getInstance=function(n,t){return this.getInstanceO(n,t)},n.getInstanceO=function(t,i){var u,r;return typeof t!="function"&&(i=t,t=this),r=i.data(n.ENHANCEMENTS_DATA_KEY),r&&$.each(r,function(i,r){if(r instanceof t||r._typeName===n.getTypeName(t))return u=r,!1}),u},n.registerEnhancement=function(t,i,u,f,o){function c(r){var e=[],f;return r&&(f=$(r)),f&&f.is(i)||(f=$(i,f)),f.each(function(){e.push(n.enhance(t,$(this),u,o))}),e}var h=n.getTypeName(t);$(function(){try{c(document);r.logTracePoint("Enhancement.registered-complete",[i,h])}catch(n){if(r.logTracePoint("Enhancement.register-exception",n),f){var t=new Error(e.format("Enhancement failed for '{0}'. Details: {1}",h,a(n)));t.name="EnhancementFailed";s.handleError(t,f)}else throw n;}});r.logTracePoint("Enhancement.registered-pending",[i,h]);n.enhancementList.push({typeName:h,enhancement:c})},n.ensureEnhancements=function(t,i,u){var o,h,l,c=[],f;for(typeof t!="function"&&(u=i,i=t,t=this),h=0,l=n.enhancementList.length;h<l;h++)if(o=n.enhancementList[h],t===n||o.typeName===n.getTypeName(t))try{c=c.concat(o.enhancement(i)||[])}catch(v){if(f=new Error(e.format("Enhancement failed for '{0}'. Details: {1}",o.typeName,a(v))),f.name="EnhancementFailed",r.logTracePoint("Enhancement.ensure-exception",f),u)s.handleError(f,u);else throw f;}return c},n.ensureEnhancement=function(t,i,r){return typeof t!="function"&&(r=i,i=t,t=this),n.ensureEnhancements(t,i,r)[0]},n.registerJQueryWidget=function(t,i,u,f){var e;typeof t=="string"&&(u=i,i=t,t=this);i||(i=t._widgetName,i||(e=n.getTypeName(t),i=e.split("."),i=i[i.length-1]));$.fn[i]=function(i){return this.each(function(){n.enhance(t,$(this),$.extend(u||{},i),f)})}},n.prototype._getUniqueId=function(){return v().toString()},n.prototype.getId=function(){return this._id||this._setId(this._getUniqueId()),this._id},n.prototype._setId=function(n){this._id=n},n.prototype.setEnhancementOptions=function(n){if(this._enhancementOptions)$.extend(this._enhancementOptions,n);else{var t=this._options&&this._options.earlyInitialize;this._enhancementOptions=$.extend({},{earlyInitialize:t!==undefined?t:!0},n)}},n.prototype.getTypeName=function(){return this._typeName||(this._typeName=n.getTypeName(this.getType())),this._typeName},n.prototype._getEventNameSpace=function(){return this._eventNamespace||(this._eventNamespace=this.getTypeName().replace(/\./g,"_")+this.getId()),this._eventNamespace},n.prototype.getType=function(){return this.constructor},n.prototype.initializeOptions=function(n){this._options?$.extend(this._options,n):this._options=$.extend({},n)},n.prototype.initialize=function(){this._initialized=!0},n.prototype._ensureInitialized=function(){return this._initialized?!1:(this.initialize(),!0)},n.prototype._attemptInitialize=function(){this._getEnhancementOption("earlyInitialize")&&this.initialize()},n.prototype.enhance=function(n){this._enhance(n);this._attemptInitialize()},n.prototype._enhance=function(n){this._setElement(n)},n.prototype._setElement=function(t){var r=this.getType(),i;this._element!==t&&(this._cleanup(),this._element=t,this._bind("remove.remove_"+this.getTypeName(),p(this,this._dispose)),i=this._element.data(n.ENHANCEMENTS_DATA_KEY),i||(i=[],this._element.data(n.ENHANCEMENTS_DATA_KEY,i)),u.add(i,this),this._setStyles())},n.prototype._setStyles=function(){this._getEnhancementOption("coreCssClass")&&this._element.addClass(this._getEnhancementOption("coreCssClass"));this._getEnhancementOption("cssClass")&&this._element.addClass(this._getEnhancementOption("cssClass"));this._getEnhancementOption("ariaLabel")&&this._element.attr("aria-label",this._getEnhancementOption("ariaLabel"))},n.prototype.getElement=function(){return this._element},n.prototype._fire=function(n,t,i){return typeof n=="string"&&(i=t,t=n,n=this._element),n.trigger(t,i)},n.prototype._bind=function(n,t,i,r){var u,f=this,e;return typeof n=="string"&&(r=i,i=t,t=n,n=this._element),u=$(n),u.length>0&&(e=this._getEventNameSpace(),u.bind($.map(t.split(" "),function(n){return n+"."+e}).join(" "),i),r&&u.each(function(){this!==f._element[0]&&f._trackElement(this)})),this},n.prototype._unbind=function(n,t,i,r){var u,f=this,e;return typeof n=="string"&&(i=r,r=t,t=n,n=this._element),u=$(n),u.length>0&&(e=this._getEventNameSpace(),u.unbind($.map(t.split(" "),function(n){return n+"."+e}).join(" "),i),r&&u.each(function(){this!==f._element[0]&&f._untrackElement(this)})),this},n.prototype.delayExecute=function(n,t,i,r){var u;if(!n){f.delay(this,t,r);return}this._delayedFunctions||(this._delayedFunctions={});u=this._delayedFunctions[n];u?(u.setDelay(t),u.setMethod(this,r)):(u=new f.DelayedFunction(this,t,n,r),this._delayedFunctions[n]=u);i?u.reset():u.start()},n.prototype.cancelDelayedFunction=function(n){var t;return this._delayedFunctions&&(t=this._delayedFunctions[n],t)?(t.cancel(),!0):!1},n.prototype._cleanup=function(){var i=this.getType(),t;this._element&&(this._unbind("remove.remove_"+this.getTypeName()),this._element.unbind("."+this._getEventNameSpace()),t=this._element.data(n.ENHANCEMENTS_DATA_KEY),t&&(u.remove(t,this),t.length===0&&this._element.data(n.ENHANCEMENTS_DATA_KEY,null)))},n.prototype._dispose=function(){var t=this._trackedElements,n,i;if(t)for(n=0,i=t.length;n<i;n++)$(t[n]).unbind("."+this._getEventNameSpace());this._trackedElements=null;this._disposed=!0},n.prototype.dispose=function(){this._cleanup();this._dispose()},n.prototype.isDisposed=function(){return this._disposed},n.prototype._getEnhancementOption=function(n){return this._enhancementOptions[n]||this._options[n]},n.prototype._trackElement=function(n){var t=this._trackedElements,i,u,r,f;for(t||(this._trackedElements=t=[]),i=0,u=t.length;i<u;i++)if(r=t[i],r.elem===n){r.count++;f=!0;break}f||t.push({elem:n,count:1})},n.prototype._untrackElement=function(n){var i=this._trackedElements,t,f,r,u=-1;if(i){for(t=0,f=i.length;t<f;t++)if(r=i[t],r.elem===n){r.count--;u=t;break}u>=0&&(r.count||i.splice(u))}},n.ENHANCEMENTS_DATA_KEY="tfs-enhancements",n.ENHANCEMENT_OPTIONS_KEY="tfs-enhancement-options",n.ENHANCEMENT_OPTIONPREFIX_KEY="optionsPrefix",n.optionsPrefix="",n.enhancementList=[],n}();t.Enhancement=h;s.initClassPrototype(h,{_id:"",_typeName:"",_eventNamespace:"",_options:null,_initialized:!1,_element:null,_trackedElements:null,_delayedFunctions:null,_disposed:!1});t.create=k;c=function(n){function t(t){n.call(this,t);this._overlay=null}return __extends(t,n),t.create=function(n,i,r,u){return t.createIn(n,i,$.extend({},r,u))},t.createIn=function(n,t,i,r){r===void 0&&(r=!1);var u,f;return r?(n=this,u=new n(t,i)):(typeof n!="function"&&(i=t,t=n,n=this),u=new n(i)),f=t instanceof h?t.getElement():$(t),u.createIn(f),u},t.prototype.initializeOptions=function(n){$.extend(this._options,{tagName:"div"},n)},t.prototype._getUniqueId=function(){var t;return this._element&&(t=this._element.attr("id")),typeof t=="undefined"&&(t=n.prototype._getUniqueId.call(this)),t},t.prototype._setId=function(t){this._element&&this._element.attr("id",t);n.prototype._setId.call(this,t)},t.prototype.dispose=function(){n.prototype.dispose.call(this);this._element&&(this._element.remove(),this._element=null)},t.prototype.showElement=function(){this._element.show()},t.prototype.hideElement=function(){this._element.hide()},t.prototype.enableElement=function(n){n?(this._element.removeAttr("disabled"),this._element.removeClass("disabled")):(this._element.attr("disabled","disabled"),this._element.addClass("disabled"))},t.prototype.showBusyOverlay=function(){return this._overlay||(this._overlay=$("<div />").addClass("control-busy-overlay").appendTo(this._element.parent())),this._overlay.show(),this._overlay},t.prototype.hideBusyOverlay=function(){this._overlay&&this._overlay.hide()},t.prototype._createElement=function(){var n=$(w(this._getEnhancementOption("tagName")));this._setElement(n)},t.prototype._initializeElement=function(){this._element&&this._getEnhancementOption("id")&&this._setId(this._getEnhancementOption("id").toString())},t.prototype._setStyles=function(){var t=this._element,i=this._options;this._getEnhancementOption("width")&&t.width(this._getEnhancementOption("width"));this._getEnhancementOption("height")&&t.height(this._getEnhancementOption("height"));this._getEnhancementOption("title")&&t.attr("title",this._getEnhancementOption("title"));this._getEnhancementOption("role")&&t.attr("role",this._getEnhancementOption("role"));n.prototype._setStyles.call(this)},t.prototype.createIn=function(n){this._createIn(n);this._initializeElement();this._attemptInitialize()},t.prototype._createIn=function(n){this._createElement();this._getEnhancementOption("prepend")?n.prepend(this._element):n.append(this._element)},t.prototype.focus=function(){this._element.focus()},t.prototype._fireChange=function(n){var t;return(n=n||this,typeof this._getEnhancementOption("change")=="function"&&(t=arguments,t[0]=n,t.length=arguments.length||1,this._getEnhancementOption("change").apply(n,t)===!1))?!1:this._fire("change",n)},t.prototype._getInDomPromise=function(){if(!this._elementInDomPromise){var n=i.defer();this._elementInDomPromise=n.promise;this._waitForElementInDom(n)}return this._elementInDomPromise},t.prototype._waitForElementInDom=function(n){var t=this;this._disposed||(o.isInDomTree(this._element[0])?n.resolve(null):window.setTimeout(function(){t._waitForElementInDom(n)},100))},t}(h);t.Control=c;y=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(c);t.BaseControl=y;l=function(){function n(n){this._options=$.extend({sorted:!1,comparer:e.localeIgnoreCaseComparer},n);this.setSource(this._options.source)}return n.prototype.setSource=function(n){this._source=n;this._items=null;this._allItems=null},n.prototype.getSource=function(){return this._source},n.prototype.prepareSource=function(n){var t=n||[];this._options.sorted&&u.sortIfNotSorted(t,this._options.comparer||e.localeIgnoreCaseComparer);this.setItems(t)},n.prototype.getComparer=function(){return this._options.comparer},n.prototype.ensureItems=function(){var n;this._items||(n=this._source,$.isFunction(n)&&(n=n.call(this)),this.prepareSource(n))},n.prototype.getItems=function(n){return this.ensureItems(),n?this._allItems:this._items},n.prototype.setItems=function(n,t){this._items=n||[];this._allItems=t||this._items},n.prototype.getCount=function(n){return this.getItems(n).length},n.prototype.getItem=function(n,t){return this.getItems(t)[n]},n.prototype.getItemText=function(n,t){return this.getItem(n,t)+""},n.prototype.getItemIndex=function(n,t,i){var r=this._getItemIndexesInternal(n,t,i,!0);return r.length>0?r[0]:-1},n.prototype.getItemIndexes=function(n,t,i){return this._getItemIndexesInternal(n,t,i)},n.prototype._getItemIndexesInternal=function(n,t,i,r){var f=[],o,u,s=this._getInputTextToItemComparer(t),h,c,e;if(!n)return f;if(o=this.getItems(i),this._options.sorted){for(c=0,h=o.length-1;h>=c;)if(u=c+h>>1,e=s(u,n,i),e<0)h=u-1;else if(e>0)c=u+1;else break;while(u>0&&s(u-1,n,i)===0)u--;for(u;u<o.length;u++)if(e=s(u,n,i),e===0){if(f.push(u),r)return f}else if(e<0)break;return f}for(u=0;u<o.length;u++)if(s(u,n,i)===0&&(f.push(u),r))return f;return f},n.prototype._getInputTextToItemComparer=function(n){var t=this;return $.isFunction(this._options.compareInputToItem)?function(n,i,r){return t._options.compareInputToItem(t.getItem(n,r),i)}:n?function(n,i,r){return t._options.comparer(i,t.getItemText(n,r).substr(0,i.length))}:function(n,i,r){return t._options.comparer(i,t.getItemText(n,r))}},n.prototype.nextIndex=function(n,t,i){var r=this.getCount(i);return r<1?-1:n<0?0:t>0?n===r-1?-1:Math.min(r-1,n+t):n===0?-1:Math.max(0,n+t)},n}();t.BaseDataSource=l;s.initClassPrototype(l,{_options:null,_source:null,_items:null,_allItems:null});s.tfsModuleLoaded("VSS.UI.Controls",t)});
define("VSS/Events/Handlers",["require","exports","VSS/Utils/Array"],function(n,t,i){function u(n,t,r,u){var e,f,o;if(n&&n.length>0)for(e=i.clone(n),f=e.length-1;f>=0;f--)if(o=e[f](t,r),u&&u(o))break}var o=function(){function n(){this._namedHandlers={}}return n.prototype.subscribe=function(n,t){this._getOrCreateHandlerList(n).subscribe(t)},n.prototype.unsubscribe=function(n,t){this._getOrCreateHandlerList(n).unsubscribe(t)},n.prototype.invokeHandlers=function(n,t,i,r){var f=this._namedHandlers[(n||"").toUpperCase()];f&&u(f.getHandlers(),t,i,r)},n.prototype._getOrCreateHandlerList=function(n){var t=this._namedHandlers[(n||"").toUpperCase()];return t||(t=new r,this._namedHandlers[(n||"").toUpperCase()]=t),t},n}(),f,r,e;t.NamedEventCollection=o;f=function(){function n(){}return n.prototype.getHandlers=function(){return this._handlers||(this._handlers=new r),this._handlers},n.prototype.invokeHandlers=function(n,t,i){this._handlers&&u(this._handlers.getHandlers(),n,t,i)},n}();t.Event=f;r=function(){function n(n){this._handlers=n}return n.prototype.subscribe=function(n){this._handlers||(this._handlers=[]);n&&this._handlers.push(n)},n.prototype.unsubscribe=function(n){this._handlers&&(this._handlers=this._handlers.filter(function(t){return t!==n}))},n.prototype.getHandlers=function(){return this._handlers||[]},n}();t.EventHandlerList=r;e=function(){function n(n,t,i){this._commandName=n;this._commandArgument=t;this._commandSource=i}return n.prototype.get_commandName=function(){return this._commandName},n.prototype.get_commandArgument=function(){return this._commandArgument},n.prototype.get_commandSource=function(){return this._commandSource},n}();t.CommandEventArgs=e});
define("VSS/Events/Services",["require","exports","VSS/Events/Handlers","VSS/Service"],function(n,t,i,r){function f(){return r.getLocalService(u)}var u=function(){function n(){}return n.prototype.fire=function(n,t,i){return this._fireEvent(n,t,i)},n.prototype.attachEvent=function(n,t){this._events||(this._events=new i.NamedEventCollection);this._events.subscribe(n,t)},n.prototype.detachEvent=function(n,t){this._events&&this._events.unsubscribe(n,t)},n.prototype._fireEvent=function(n,t,i){if(this._events){var r;if(this._events.invokeHandlers(n,t,i,function(n){if(n===!1)return r=!0,!0}),r)return!1}},n}();t.EventService=u;t.getService=f});
define("VSS/LoaderPlugins/Css",["require","exports","VSS/Context","q"],function(n,t,i,r){function e(n,t){var r=n.split(":",2);return r.length===2?i.getCssModuleUrl(r[0],r[1],t):i.getCssModuleUrl(null,n,t)}function s(n,t,i){var u=r.defer();return f.load("async-"+ ++o,n,t,i,function(){u.resolve(null)},function(n){u.reject(n)}),u.promise}function h(n,t,i,r){if(n)if(r&&r.isTest===!0)i({});else{var u=e(n);f.load(n,u,e(n,"HighContrast"),null,function(){i({})},function(){var n=i.error;typeof n=="function"&&n("Could not find "+u+" or it was empty")})}else window.console&&console.warn("No name supplied to VSS/LoaderPlugins/Css"),i({})}var u,f,o;(function(n){var t=function(){function n(){this._pendingLoads=0}return n.prototype._attachListeners=function(n,t,i,r){var u=function(){t.removeEventListener("load",f);t.removeEventListener("error",e)},f=function(){u();i()},e=function(n){u();r(n)};t.addEventListener("load",f);t.addEventListener("error",e)},n.prototype._onLoad=function(n,t){this._pendingLoads--;t()},n.prototype._onLoadError=function(n,t,i){this._pendingLoads--;t(i)},n.prototype._insertLinkNode=function(n){this._pendingLoads++;var i=document.head||document.getElementsByTagName("head")[0],t=i.getElementsByTagName("link")||i.getElementsByTagName("script");t.length>0&&t[t.length-1].nextSibling?i.insertBefore(n,t[t.length-1].nextSibling):i.appendChild(n)},n.prototype._linkTagExists=function(n,t){var e=n.indexOf(":"),r,i,o,s,h,c,f,u,l;for(e>=0&&(n=n.substr(e+1)),r=document.getElementsByTagName("link"),i=0,o=r.length;i<o;i++){if(s=r[i].getAttribute("data-name"),h=r[i].getAttribute("href"),s===n||h===t)return!0;for(c=r[i].getAttribute("data-includedstyles")||"",f=c.split(";"),u=0,l=f.length;u<l;u++)if(f[u]===n)return!0}return!1},n.prototype.load=function(n,t,i,r,u,f){if(this._linkTagExists(n,t)){u();return}var e=this.createLinkTag(n,t,i,r,u,f);this._insertLinkNode(e)},n.prototype.createLinkTag=function(n,t,i,r,u,f){var o=this,e=document.createElement("link"),s,h;return e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("data-name",n),e.setAttribute("data-highcontrast",i),r&&r.length&&e.setAttribute("data-includedstyles",r.join(";")),s=function(){return o._onLoad(n,u)},h=function(t){return o._onLoadError(n,f,t)},this._attachListeners(n,e,s,h),e.setAttribute("href",t),e},n}(),i,r;n.CssLoader=t;i=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype._attachListeners=function(n,t,i){t.onload=function(){t.onload=null;i()}},t}(t);n.IE8CssLoader=i;r=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.load=function(t,i,r,u,f,e){n.prototype.load.call(this,t,i,r,u,f,e);this._loadCheck(t,i,f)},t.prototype._loadCheck=function(n,t,i){var r=this;setTimeout(function(){r._linkTagExists(n,t)?i():r._loadCheck(n,t,i)},10)},t}(t);n.PhantomJsCssLoader=r})(u||(u={}));f=null;f=navigator.userAgent.indexOf("MSIE 7")>=0||navigator.userAgent.indexOf("MSIE 8")>=0?new u.IE8CssLoader:navigator.userAgent.indexOf("PhantomJS")>=0?new u.PhantomJsCssLoader:new u.CssLoader;o=0;t.injectStylesheet=s;t.load=h});
define("VSS/Controls/Notifications",["require","exports","VSS/Controls","VSS/Diag","VSS/Events/Services","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s){var y=e.delegate,h=s.domElem,c,a,l,v,p,w;(function(n){n[n.None=0]="None";n[n.Info=1]="Info";n[n.Warning=2]="Warning";n[n.Error=3]="Error"})(t.MessageAreaType||(t.MessageAreaType={}));c=t.MessageAreaType;a=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({closeable:!0,expanded:!1,showIcon:!1,showDetailsLink:!0,showHeader:!0,noHeaderNoLinkJustIcon:!1},t))},t.prototype.initialize=function(){var n,r=this,t,i;this.getElement().addClass("message-area-control");this.getElement().addClass("bowtie");t=this._options.message?this._options.message.type:this._options.type;this._options.showIcon&&(this._iconDiv=$(h("div")).appendTo(this.getElement()).addClass("message-icon"),$("<span>").addClass("bowtie-icon").appendTo(this._iconDiv),this._setMessageTypeIcon(t));this._options.showHeader&&(n=$(h("div")).appendTo(this.getElement()).addClass("message-header"),this._errorHeader=$(h("span")).appendTo(n));this._options.showDetailsLink&&(this._showErrorLink=$(h("a")).appendTo(n).addClass("linkAction show-details-action").attr("href","#").click(function(){return r._toggle(),!1}));this._errorContent=$(h("div")).appendTo(this.getElement());this._options.noHeaderNoLinkJustIcon||this._errorContent.addClass("error-content");i=$(h("div")).appendTo(this.getElement()).addClass("close-action bowtie-icon bowtie-navigate-close ").attr("title",f.MessageAreaControl_CrossIconTooltip).click(y(this,this._onCloseIconClicked));s.accessible(i,y(this,this._onCloseIconClicked));this.getElement().hide();this._messageType=c.None;this._options.message&&this.setMessage(this._options.message);this._options.fillVertical&&this.getElement().css("height","100%")},t.prototype.setMessage=function(n,t){(typeof n=="string"||n&&n.jquery)&&(n={header:n});n.type||(n.type=t||c.Error);this._setDisplayMessage(n)},t.prototype.setError=function(n,t){(typeof n=="string"||n&&n.jquery)&&(n={header:n});n.type=c.Error;!n.click&&$.isFunction(t)&&(n.click=t);this.setMessage(n)},t.prototype.getMessageType=function(){return this._messageType},t.prototype.clear=function(){this._clear(!0)},t.prototype._setDisplayMessage=function(n){var i=this,t;this._options.closeable?this.getElement().addClass("closeable"):this.getElement().removeClass("closeable");this._clear(!1);this._messageType=this._options.message&&this._options.message.type?this._options.message.type:n.type;this._options.showHeader&&(n.header&&n.header.jquery?this._errorHeader.append(n.header):this._errorHeader.text(n.header));n.content?(n.content.jquery?this._errorContent.append(n.content):this._errorContent.text(n.content),this._options.showDetailsLink&&(this.setErrorDetailsVisibility(this._options.expanded),this._showErrorLink.show())):(this._errorContent.hide(),this._options.showDetailsLink&&this._showErrorLink.hide());switch(this._messageType){case c.Info:this.getElement().addClass("info-message");break;case c.Warning:this.getElement().addClass("warning-message");break;case c.Error:this.getElement().addClass("error-message")}this._setMessageTypeIcon(this._messageType);this._options.hidden||(this.getElement().addClass("visible"),this.getElement().show());n.click&&(t=function(){n.click();i.clear()},this._errorHeader.addClass("clickable"),this._errorHeader.click(t),this._errorHeader.keydown(function(n){if(n.keyCode===s.KeyCode.ENTER)return t(),!1}));this._raiseDisplayComplete()},t.prototype._onCloseIconClicked=function(){this.clear();this._fire(l.EVENT_CLOSE_ICON_CLICKED)},t.prototype._setMessageTypeIcon=function(n){if(this._options.showIcon)if(n===c.None)this._iconDiv.hide();else{var t=$(".bowtie-icon",this._iconDiv);t.toggleClass("bowtie-status-info-outline",n===c.Info);t.toggleClass("bowtie-status-warning",n===c.Warning);t.toggleClass("bowtie-status-failure",n===c.Error);this._iconDiv.show()}},t.prototype._toggle=function(){this._errorContent.is(":visible")?(this.setErrorDetailsVisibility(!1),this._fire(l.ERROR_DETAILS_TOGGLED,{show:!1})):(this.setErrorDetailsVisibility(!0),this._fire(l.ERROR_DETAILS_TOGGLED,{show:!0}));this._raiseDisplayComplete()},t.prototype.setErrorDetailsVisibility=function(n){n?(this._showErrorLink.text(f.HideDetails),this._errorContent.show()):(this._showErrorLink.text(f.ShowDetails),this._errorContent.hide())},t.prototype._clear=function(n){if(this._options.showHeader){if(this._errorHeader.text().length===0)return;this._errorHeader.text("");this._errorHeader.unbind("click");this._errorHeader.removeClass("clickable")}switch(this._messageType){case c.Info:this.getElement().removeClass("info-message");break;case c.Warning:this.getElement().removeClass("warning-message");break;case c.Error:this.getElement().removeClass("error-message")}this._messageType=c.None;this._errorContent.text("");this.getElement().removeClass("visible");this.getElement().hide();n&&this._raiseDisplayComplete();this._fire(l.EVENT_DISPLAY_CLEARED);u.getService().fire(l.EVENT_DISPLAY_CLEARED)},t.prototype._raiseDisplayComplete=function(){this._fire(l.EVENT_DISPLAY_COMPLETE)},t.EVENT_CLOSE_ICON_CLICKED="event-close-icon-clicked",t.EVENT_DISPLAY_COMPLETE="event-display-complete",t.EVENT_DISPLAY_CLEARED="event-display-cleared",t.ERROR_DETAILS_TOGGLED="error-details-toggled",t}(i.Control);t.MessageAreaControlO=a;l=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(a);t.MessageAreaControl=l;v=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initializeOptions=function(t){t&&(this._collapsed=!!t.collapsed);n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"information-area-control",expandedIconClass:"content-expanded",collapsedIconClass:"content-collapsed"},t))},t.prototype.initialize=function(){var n=this,i=this,t=$(h("div","information-header")).appendTo(this.getElement()).click(function(){n._updateCollapsedState(!n._collapsed)});this._$collapseIndicator=$(h("div","icon collapse-indicator")).appendTo(t);this._$caption=$(h("div","information-caption")).appendTo(t).text(this._options.caption);this._$content=$(h("div","information-content")).appendTo(this.getElement());this._updateCollapsedState(this._collapsed)},t.prototype.appendDetailHeaderContent=function(n){$(h("div","detail-header")).appendTo(this._$content).append(n)},t.prototype.appendDetailContent=function(n){$(h("div","detail-content")).appendTo(this._$content).append(n)},t.prototype.appendCodeContent=function(n){$(h("div","code-content")).appendTo(this._$content).append(n)},t.prototype.appendDetailHeaderHtml=function(n){$(h("div","detail-header")).appendTo(this._$content).html(n)},t.prototype.appendDetailHtml=function(n){$(h("div","detail-content")).appendTo(this._$content).html(n)},t.prototype.appendCodeHtml=function(n){$(h("div","code-content")).appendTo(this._$content).html(n)},t.prototype._updateCollapsedState=function(n){n?(this._$collapseIndicator.removeClass(this._options.expandedIconClass),this._$collapseIndicator.addClass(this._options.collapsedIconClass),this._$content.hide()):(this._$collapseIndicator.removeClass(this._options.collapsedIconClass),this._$collapseIndicator.addClass(this._options.expandedIconClass),this._$content.show());this._collapsed=n},t}(i.Control);t.InformationAreaControlO=v;p=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(v);t.InformationAreaControl=p;w=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initialize=function(){var t=this,n=this.getElement(),r;n.hide();this._processOptions();r=$("<div>").appendTo(n);this._messageArea=i.Enhancement.enhance(l,r,{closeable:!1,fillVertical:!0});this._toasting=!1;this._bind(n,"mouseover",function(){t._delayedFunction.cancel();n.stop(!0);n.fadeIn(0)});this._bind(n,"mouseout",function(){t._delayedFunction=e.delay(t,t._toastTime,function(){n.fadeOut(t._fadeOutTime,function(){t._toasting=!1})})})},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"toast-notification"},t))},t.prototype._processOptions=function(){var n=this._getOptions(),t=this.getElement();t.width(n.width);t.css("min-height",n.minHeight);this._fadeInTime=n.fadeInTime;this._fadeOutTime=n.fadeOutTime;this._toastTime=n.toastTime},t.prototype._getOptions=function(){return $.extend(this._getDefaultOptions(),this._options)},t.prototype._getDefaultOptions=function(){return{width:280,fadeInTime:1e3,fadeOutTime:1e3,toastTime:5e3}},t.prototype.toast=function(n,t){var r=this,i;t===void 0&&(t=c.Info);this._ensureNoActiveToast();this._toasting=!0;this._messageArea.setMessage(n,t);i=this.getElement();i.fadeIn(this._fadeInTime);this._delayedFunction=e.delay(this,this._toastTime,function(){i.fadeOut(r._fadeOutTime,function(){r._toasting=!1})})},t.prototype._ensureNoActiveToast=function(){this._toasting&&(this.getElement().stop().hide(),this._delayedFunction.cancel())},t}(i.BaseControl);t.ToastNotification=w});
define("VSS/SDK/Host",["require","exports","VSS/Context","VSS/Contributions/Services","VSS/Service","VSS/VSS"],function(n,t,i,r,u,f){var e=function(){function n(n){this._serviceOptions=n}return n.prototype.getContribution=function(n){return u.getService(r.ExtensionService).getContribution(n)},n.prototype.getContributionsForTarget=function(n){return u.getService(r.ExtensionService).getContributionsForTarget(n)},n.prototype.getServiceContribution=function(n){var t=this;return this.getContribution(n).then(function(n){return $.extend({getInstance:function(i,r){return t.getBackgroundContributionInstance(n,i,r)}},n)})},n.prototype.getServiceContributions=function(n){var t=this;return this.getContributionsForTarget(n).then(function(n){return $.map(n,function(n){return $.extend({getInstance:function(i,r){return t.getBackgroundContributionInstance(n,i,r)}},n)})})},n.prototype.getBackgroundContributionInstance=function(n,t,r){var u=this;return f.requireModules(["VSS/Contributions/Controls"]).spread(function(f){return f.getBackgroundInstance(n,t||n.id,$.extend(r,{hostManagementServiceOptions:u._serviceOptions}),i.getPageContext().webContext)})},n}();t.HostManagementService=e});
define("VSS/Utils/Accessibility",["require","exports","VSS/Diag","VSS/Utils/Core"],function(n,t,i,r){function f(n,t){var u,r,f;if(t===void 0&&(t=!1),n)for(i.log(i.LogVerbosity.Info,"announce ("+(t?"assertive":"polite")+"): "+n),u=t?"utils-accessibility-announce-assertive":"utils-accessibility-announce-polite",r=document.getElementById(u),r||(r=document.createElement("div"),r.id=u,r.className="visually-hidden",r.setAttribute("aria-live",t?"assertive":"polite"),document.body.appendChild(r)),f=document.createElement("p"),f.textContent=n,r.appendChild(f);r.children.length>h;)r.removeChild(r.children[0])}var h=10,e=1e3,u,o,s;t.announce=f,function(n){n[n.Idle=0]="Idle";n[n.WaitingForStartAnnouncement=1]="WaitingForStartAnnouncement";n[n.Running=2]="Running";n[n.WaitingForEndAnnouncement=3]="WaitingForEndAnnouncement"}(u||(u={}));o=function(){function n(n){this._state=u.Idle;this._options=n}return n.prototype.update=function(){var n=this._options.getActiveCount();switch(this._state){case u.Idle:n>0&&(this._startAnnounceTimer(this._options.announceStartDelay,this._options.announceStartMessage,u.Running),this._state=u.WaitingForStartAnnouncement);break;case u.WaitingForStartAnnouncement:n===0&&(this._cancelAnnounceTimer(),this._state=u.Idle);break;case u.Running:n===0&&(this._startAnnounceTimer(this._options.announceEndDelay,this._options.announceEndMessage,u.Idle),this._state=u.WaitingForEndAnnouncement);break;case u.WaitingForEndAnnouncement:n>0&&(this._cancelAnnounceTimer(),this._state=u.Running)}},n.prototype._startAnnounceTimer=function(n,t,i){var u=this;this._announceDelay&&this._cancelAnnounceTimer();this._announceDelay=r.delay(this,n!==undefined?n:e,function(){f(t);u._state=i;u._announceDelay=null})},n.prototype._cancelAnnounceTimer=function(){this._announceDelay.cancel();this._announceDelay=null},n}();t.MultiProgressAnnouncer=o;s=function(){function n(n){this._startAnnounced=!1;this._completed=!1;this._options=n;this._start()}return n.forPromise=function(t,i){var r=new n(i);t.then(function(){r.announceCompleted()},function(){r.announceError()})},n.prototype._start=function(){var n=this;this._announceDelay=r.delay(this,this._options.announceStartDelay!==undefined?this._options.announceStartDelay:e,function(){f(n._options.announceStartMessage);n._startAnnounced=!0})},n.prototype.announceCompleted=function(){this._completed||(this._completed=!0,this._startAnnounced?f(this._options.announceEndMessage):this._announceDelay.cancel())},n.prototype.announceError=function(){this._completed||(this._completed=!0,f(this._options.announceErrorMessage))},n}();t.ProgressAnnouncer=s});
define("VSS/Controls/StatusIndicator",["require","exports","VSS/Controls","VSS/Diag","VSS/Locations","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Accessibility","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h){var l=o.delegate,p=function(n){function t(){n.apply(this,arguments);this._active=!1}return __extends(t,n),t.getActiveCount=function(){for(var i,r=0,n=0,u=t._allIndicators;n<u.length;n++)i=u[n],i.isActive()&&i._options.announceProgress!==!1&&r++;return r},t.prototype.isActive=function(){return this._active&&this._element.is(":visible")},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"status-indicator"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._options.center===!0&&this.getElement().addClass("center");this._throttleMinTime=this._options.throttleMinTime||100;this._bindEvents();t._allIndicators.push(this)},t.prototype._dispose=function(){var i=t._allIndicators.indexOf(this);i>=0&&t._allIndicators.splice(i,1);t._announcer.update();this._clearTimeout();n.prototype._dispose.call(this)},t.prototype.start=function(n){this._clearTimeout();$.extend(this._options,n);this._start()},t.prototype.delayStart=function(n){this._delayStart&&this._delayStart.cancel();this._delayStart=o.delay(this,n,this._start)},t.prototype.complete=function(){this._delayStart&&(this._delayStart.cancel(),this._delayStart=null);this._clearTimeout();this.hideElement();this._active=!1;t._announcer.update()},t.prototype.error=function(n){this._lastError=n;this._clearTimeout();this.hideElement()},t.prototype.setMessage=function(n){var t=this.getElement().find("#indicator_message");t.text(n)},t.prototype.showElement=function(){this.getElement().css("display","")},t.prototype.hideElement=function(){this.getElement().css("display","none")},t.prototype._draw=function(){var n=this.getElement(),t;if(this.hideElement(),n.empty(),this._statusDiv=$("<div />").appendTo(n).addClass("status").attr("aria-busy","true"),this._options.center){var r=$("<table />").appendTo(this._statusDiv),u=$("<tr />").appendTo(r),i=$("<td />").appendTo(u);this._image=$("<span />").appendTo(i);t=i}else this._statusDiv.addClass("status-inline"),n.addClass("inline"),this._image=$("<span />").appendTo(n),t=n;this._setImageClass();this._options.message&&$("<span id='indicator_message' />").appendTo(t).text(this._options.message)},t.prototype._start=function(){this._statusDiv?this._setImageClass():this._draw();this._active=!0;this.showElement();t._announcer.update()},t.prototype._onClick=function(){this._lastError&&alert(this._lastError)},t.prototype._setImageClass=function(){this._image.removeClass();this._options.imageClass?(this._image.addClass("icon"),this._image.addClass(this._options.imageClass)):this._image.addClass("status-progress")},t.prototype._bindEvents=function(){var n=this._options.eventTarget||window;this._options.statusStartEvent&&this._bind(n,this._options.statusStartEvent,l(this,this._startHandler),!0);this._options.statusCompleteEvent&&this._bind(n,this._options.statusCompleteEvent,l(this,this.complete),!0);this._options.statusErrorEvent&&this._bind(n,this._options.statusErrorEvent,l(this,this.error),!0);this._bind("click",l(this,this._onClick))},t.prototype._error=function(n,t,i,r){this._lastError=r;this.hideElement()},t.prototype._startHandler=function(n,t){this.delayExecute("start",this._throttleMinTime,!0,function(){this.start(n,t)})},t.prototype._clearTimeout=function(){this.cancelDelayedFunction("start")},t.enhancementTypeName="tfs.statusIndicator",t._allIndicators=[],t._announcer=new e.MultiProgressAnnouncer({announceStartMessage:f.ContentLoading,announceEndMessage:f.ContentLoaded,getActiveCount:t.getActiveCount}),t}(i.Control),v,w,c,y,a;t.StatusIndicatorO=p;v=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(p);t.StatusIndicator=v;i.Enhancement.registerJQueryWidget(v,"statusIndicator");w=function(){function n(n,t){this._$rootElement=$(n);this._options=t||{};this._initialize()}return n.prototype.beginOperation=function(n){var t=this.getCancellableOperation();this._cancelable=t;$.isFunction(this._options.beginOperationCallback)&&this._options.beginOperationCallback();this._waitControl.startWait(t);o.delay(this,100,function(){n(t)})},n.prototype.createWaitControl=function(n){return i.create(a,this._$rootElement[0]._element,n)},n.prototype.getCancellableOperation=function(){return new o.Cancelable(this)},n.prototype.getWaitControl=function(){return this._waitControl},n.prototype.endOperation=function(){this._waitControl.endWait();$.isFunction(this._options.endOperationCallback)&&this._options.endOperationCallback()},n.prototype.isCancelled=function(){return this._cancelled},n.prototype.cancelOperation=function(){this._options&&this._options.cancellable&&(this._cancelled=!0);this.endOperation()},n.prototype._initialize=function(){this._state={message:this._options&&this._options.message?this._options.message:f.DefaultWaitMessage,target:this._$rootElement[0]._element,cancellable:this._options&&this._options.cancellable,showDelay:this._options&&this._options.showDelay!==null?this._options.showDelay:null};this._waitControl=this.createWaitControl(this._state)},n}();t.LongRunningOperation=w,function(n){n[n.NotStarted=0]="NotStarted";n[n.Waiting=1]="Waiting";n[n.Ending=2]="Ending";n[n.Ended=3]="Ended";n[n.Cancelling=4]="Cancelling";n[n.Cancelled=5]="Cancelled"}(t.WaitingState||(t.WaitingState={}));c=t.WaitingState;y=function(n){function t(t){n.call(this,t);this._state=c.NotStarted}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({image:u.urlHelper.getVersionedContentUrl("big-progress.gif"),showDelay:a.DefaultShowDelay},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this)},t.prototype.startWait=function(n){this._canStartWait()&&(this._context={instanceId:"waitControl_"+a._instanceIdSeed++,cancellable:n,options:{wait:this._options}},this._startWait())},t.prototype.endWait=function(){this._canEndWait()&&(this._state=c.Ending,this._tryEndWait())},t.prototype.cancelWait=function(){this._canCancelWait()&&(this._state=c.Cancelling,this._tryCancelWait())},t.prototype.setMessage=function(n){if(this._context){var t=this._context.options.wait;t.messageElement&&(t.messageElement.find(".wait-message-text").text(n),this._resizeWait(),t.cancellable&&h.tryFocus(t.messageElement.find("#"+t.cancelLinkId)))}},t.prototype.isCancelled=function(){return this._state===c.Cancelled},t.prototype._canStartWait=function(){return this._state===c.NotStarted||this._state===c.Ended||this._state===c.Cancelled},t.prototype._canEndWait=function(){return this._context&&(this._state===c.Waiting||this._state===c.Ending)},t.prototype._canCancelWait=function(){return this._context&&this._context.options.wait.cancellable&&(this._state===c.Waiting||this._state===c.Cancelling)},t.prototype._startWait=function(){var n=this._context.options.wait;this._state=c.Waiting;n.showDelay===null&&(n.showDelay=a.DefaultShowDelay);n.target||(n.entireWindow=!0,n.target=$("body"),n.extraStyles="height:100%; width:100%;");n.target.children(".wait-element").hide();n.target.children(".wait-box").hide();n.showDelay?this._context.showTimer=o.delay(this,n.showDelay,this._showWait):this._showWait()},t.prototype._tryEndWait=function(){var n=this._context.options.wait;this._state!==c.Ending||n.minLifeSpanBlocking||(this._state=c.Ended,this._reset())},t.prototype._tryCancelWait=function(){var t=this._context.options.wait,i=t.cancelCallback,n=this._context.cancellable;this._state!==c.Cancelling||t.minLifeSpanBlocking||(this._state=c.Cancelled,this._reset(),i&&i(),n&&n.cancel&&$.isFunction(n.cancel)&&n.cancel())},t.prototype._reset=function(){this._unbindKeydownEvent();this._removeWaitElement();this._originalFocusElement&&(this._originalFocusElement.focus(),this._originalFocusElement=null);this._removeShowTimer();this._context=null},t.prototype.updateWaitElements=function(n){n.messageElement=n.target.children(".wait-box").first()},t.prototype._showWait=function(){var t="",n=this._context.options.wait,f=n.extraStyles||"",i=this,u;n.image&&(t+=s.format('<img class="wait-image" src="{0}" />',n.image));u=this._getWaitMessage(n);u&&(t+=s.format('<div class="wait-message">{0}<\/div>',u));t.length>0&&(n.target.prepend(s.format('<div class="wait-box">{0}<\/div>',t)),this.updateWaitElements(n));n.backgroundColor&&(f+=s.format("background-color:{0};",n.backgroundColor));n.target.prepend(s.format('<div class="wait-element" style="{0}"><\/div>',f));n.element=n.target.children(".wait-element").first();this._resizeWait();$(window).bind(this._getResizeEventId(this._context.instanceId),l(this,this._resizeWait));n.cancellable&&(this._bindKeydownEvent(n.cancelLinkId),$("#"+n.cancelLinkId).click(l(this,this._handleCancelEvent)),this._originalFocusElement=$(document.activeElement),$("#"+n.cancelLinkId).focus());n.minLifetime||(n.minLifetime=a.MinLifeTime);n.minLifeSpanBlocking=!0;o.delay(this,n.minLifetime,function(){n.minLifeSpanBlocking=!1;i._state===c.Ending?i._tryEndWait():i._state===c.Cancelling&&i._tryCancelWait()})},t.prototype.getWaitingState=function(){return this._state},t.prototype.getWaitingContext=function(){return this._context},t.prototype._resizeWait=function(){var n,t,i;if(n=this._context.options.wait,n.entireWindow||(n.element.css("margin-top",-parseInt(n.target.css("padding-top"),10)),n.element.css("margin-left",-parseInt(n.target.css("padding-left"),10)),n.element.height(n.target.outerHeight()-2),n.element.width(n.target.outerWidth()-2)),n.messageElement){t=parseInt(n.element.css("margin-top"),10);i=parseInt(n.element.css("margin-left"),10);(!t||isNaN(t))&&(t=0);(!i||isNaN(i))&&(i=0);var e=n.element.outerHeight(),f=n.element.outerWidth(),o=n.messageElement.outerHeight(),u=n.messageElement.outerWidth();u>f&&(u=f-4,n.messageElement.outerWidth(u));n.messageElement.css("top",n.element.position().top+(e-o)/2+t);n.messageElement.css("left",n.element.position().left+(f-u)/2+i)}},t.prototype._onKeyDown=function(n){var t=h.KeyCode;if(n.keyCode===t.ESCAPE)return this._handleCancelEvent(n),!1},t.prototype._handleCancelEvent=function(){return this._unbindKeydownEvent(),this.cancelWait(),!1},t.prototype._bindKeydownEvent=function(n){this._keyDownEventHandler||(this._keyDownEventHandler=l(this,this._onKeyDown),$("#"+n).keydown(this._keyDownEventHandler))},t.prototype._unbindKeydownEvent=function(){if(this._context){var n=this._context.options.wait;this._keyDownEventHandler&&n.cancelLinkId&&($("#"+n.cancelLinkId).unbind("keydown",this._keyDownEventHandler),this._keyDownEventHandler=null)}},t.prototype._removeWaitElement=function(){function t(n){n.element&&(n.element.remove(),n.element=null)}function i(n){n.messageElement&&(n.messageElement.remove(),n.messageElement=null)}if(this._context){var n=this._context.options.wait;n.element&&(n.fade!==!1?(n.element.fadeOut("fast",function(){t(n)}),n.messageElement.fadeOut("fast",function(){i(n)})):(t(n),i(n)),$(window).unbind(this._getResizeEventId(this._context.instanceId)))}},t.prototype._removeShowTimer=function(){this._context&&this._context.showTimer&&(this._context.showTimer.cancel(),delete this._context.showTimer)},t.prototype._getResizeEventId=function(n){return"resize."+n},t.prototype._getWaitMessage=function(n){var i,t;return i="",n.cancellable&&(n.cancelLinkId="cancelLink_"+this._context.instanceId,i=s.format(n.cancelTextFormat||f.CancelWaitAdvice,s.format('<a href="" class="wait-link" tabindex="0" id="{0}">ESC<\/a>',n.cancelLinkId))),t="",n.message?(t=s.format('<span class="wait-message-text">{0}<\/span>',n.message),t=n.cancellable?s.format(this.getWaitMessageFormatString(),t,i):t):n.cancellable&&(t=i),t},t.prototype.getWaitMessageFormatString=function(){return this._options.messageFormat||"{0}({1})"},t._instanceIdSeed=1,t.DefaultShowDelay=250,t.MinLifeTime=100,t}(i.Control);t.WaitControlO=y;a=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(y);t.WaitControl=a});
define("VSS/Contributions/Controls",["require","exports","q","VSS/Authentication/Services","VSS/Context","VSS/Common/Contracts/Platform","VSS/Common/Constants/Platform","VSS/Contributions/Services","VSS/Controls","VSS/Diag","VSS/FeatureAvailability/Services","VSS/Locations","VSS/Controls/Notifications","VSS/Resources/VSS.Resources.Platform","VSS/SDK/Host","VSS/SDK/Shim","VSS/SDK/XDM","VSS/Service","VSS/Controls/StatusIndicator","VSS/Utils/Core","VSS/Utils/File","VSS/Utils/String","VSS/Utils/UI","VSS/Resources/VSS.Resources.Platform","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt){function pt(n,t,i,r,u,f){return r===void 0&&(r=null),f===void 0&&(f=null),u||(u="__contributedControlInstance"+yt++,i=$.extend({},i,{contributedControlInstanceId:u})),ct(n,t,i||{},r,null,null,"uri",!1,f).then(function(n){return n.getRegisteredInstance(u)})}function ct(n,t,i,r,f,e,s,h,c){r===void 0&&(r=null);e===void 0&&(e=null);s===void 0&&(s="uri");h===void 0&&(h=!1);c===void 0&&(c=null);r||(r=u.getDefaultWebContext());e||(e=r);var l=function(t){return o.ExtensionHelper.resolveUriTemplateProperty(t,e,s).then(function(r){var u=t.properties[o.ContributionReservedProperties.FallbackBaseUriProperty];return u?o.ExtensionHelper.resolveUriTemplateProperty(t,e,s,u).then(function(u){return et(n,r,t,i,f,h,c,u)}):et(n,r,t,i,f,h,c)})};return typeof t=="string"?b.getService(o.ExtensionService,r).getContribution(t).then(function(n){return l(n)}):l(t)}function et(n,t,i,r,u,f,e,o){return f===void 0&&(f=!1),e===void 0&&(e=null),o===void 0&&(o=null),ot(n,i,t,o,r,u,!1,f,e)}function lt(n,t,i,r){t===void 0&&(t=null);i===void 0&&(i=null);r===void 0&&(r="uri");t||(t=u.getDefaultWebContext());i||(i=t);var f=function(n){return o.ExtensionHelper.resolveUriTemplateProperty(n,i,r).then(function(t){var u=n.properties[o.ContributionReservedProperties.FallbackBaseUriProperty];return u?o.ExtensionHelper.resolveUriTemplateProperty(n,i,r,u).then(function(i){return ot(null,n,t,i,null,null,!0,!1,null)}):ot(null,n,t,null,null,null,!0,!1,null)})};return typeof n=="string"?b.getService(o.ExtensionService,t).getContribution(n).then(function(n){return f(n)}):f(n)}function wt(n,t,r,u,f,e,o,s){u===void 0&&(u=null);o===void 0&&(o=null);s===void 0&&(s="uri");var h=lt(n,u,o,s).then(function(n){return n.getRegisteredInstance(t,r)});return f>0&&(h=i.timeout(h,f,e)),h}function ot(n,t,i,r,u,f,e,h,c){var a=o.ExtensionHelper.isContributionTrusted(t),l=!1;if(a&&t.properties.content)l=!0;else if(!i)throw new Error('No uri was specified for contribution "'+t.id+'". Cannot create extension host.');return e?vt.getHost(i,r,t,l,u,f):l?new ht(t,u,n):s.create(st,n,{uri:i,fallbackUri:r,contribution:t,interactive:!t.properties.external,initialConfig:u,postContent:f,contributionHostBehavior:c})}var ft,ut,at,vt;(function(n){n[n.Default=0]="Default";n[n.FixedHeight=2]="FixedHeight";n[n.FixedWidth=4]="FixedWidth"})(t.ResizeOptions||(t.ResizeOptions={}));ft=t.ResizeOptions,function(n){n.SLOW_LOAD_WARNING="external-content-host-slow-load-warning";n.EXTENSION_MESSAGE_RESIZED="external-content-host-message-resized";n.EXTENSION_HOST_RESIZED="external-content-host-resized"}(ut=t.ExternalContentHostEvents||(t.ExternalContentHostEvents={}));var st=function(n){function t(i){n.call(this,i);this._usingFallback=!1;this.setEnhancementOptions({coreCssClass:"external-content-host"});this._contributions=[];this._contributionHostBehavior={showErrorIndicator:!0,showLoadingIndicator:!0,slowWarningDurationMs:t.DEFAULT_SLOW_LOAD_DURATION,resizeOptions:ft.Default}}return __extends(t,n),t.prototype.getLoadPromise=function(){return this._loadedDeferred.promise},t.prototype.initialize=function(){var t=this,n;this._srcUri=this._options.uri;c.FeatureAvailabilityService.isFeatureEnabled(e.WebPlatformFeatureFlags.UseGalleryCdn)&&this._options.fallbackUri&&this._isGalleryCdnDisabled()?(this._srcUri=this._options.fallbackUri,this._usingFallback=!0):this._deleteFallbackCookie();n=this._options.contributionHostBehavior;n&&(n.showErrorIndicator!==undefined&&n.showErrorIndicator!==null&&(this._contributionHostBehavior.showErrorIndicator=n.showErrorIndicator),n.showLoadingIndicator!==undefined&&n.showLoadingIndicator!==null&&(this._contributionHostBehavior.showLoadingIndicator=n.showLoadingIndicator),n.slowWarningDurationMs!==undefined&&n.slowWarningDurationMs!==null&&(this._contributionHostBehavior.slowWarningDurationMs=n.slowWarningDurationMs),n.resizeOptions!==undefined&&n.resizeOptions!==null&&(this._contributionHostBehavior.resizeOptions=n.resizeOptions));this._$container=$("<div />").addClass("external-content-host-container").appendTo(this._element);this._loadedDeferred=i.defer();u.getPageContext().webAccessConfiguration.isHosted||!tt.BrowserCheckUtils.isLessThanOrEqualToIE9()||c.FeatureAvailabilityService.isFeatureEnabled(e.WebPlatformFeatureFlags.VisualStudioServicesContributionUnSecureBrowsers,!1)?this._getInDomPromise().then(function(){t._finishInitialization()}):this._showExtensionMessage(a.MessageAreaType.Warning,it.ExtensionsNotAvailableOnpremOldIE,!1,null,!1)},t.prototype._finishInitialization=function(){var n=this,i,r="externalContentHost"+s.getId();this._options.postContent&&(i=$("<form />").attr("method","post").attr("target",r).attr("action",this._srcUri).appendTo(this._$container),$("<input />").attr("type","hidden").attr("name","requestJson").attr("value",JSON.stringify(this._options.postContent)).appendTo(i));this._$iframe=$("<iframe frameborder='0' src=\"javascript:''\" />").addClass("external-content-iframe").attr("id",r).attr("name",r).appendTo(this._$container);this._options.interactive&&(this._$iframe.hide(),this._$iframe.addClass("loading"),this._contributionHostBehavior.showLoadingIndicator&&(this._$statusContainer=$("<div />").addClass("status-container").appendTo(this._$container),this._statusControl=s.BaseControl.createIn(k.StatusIndicator,this._$statusContainer,{center:!0,imageClass:"big-status-progress",message:v.ExternalControlLoading}),this._statusControl.start()),this._contributionHostBehavior.slowWarningDurationMs>0&&this.delayExecute("slowLoadTimeout",this._contributionHostBehavior.slowWarningDurationMs,!0,function(){n._disposed||n._loadFailed||n._receivedLoadedEvent||(n._shouldAttemptFallback()?n._loadFallback():n._showExtensionMessage(a.MessageAreaType.Warning,v.ExternalContentSlowLoadFormat,!0))}));this._$iframe.load(function(){n._options.interactive?n._receivedHandshake||n._receivedLoadedEvent||n._loadFailed||n._disposed||n.delayExecute("waitForHandshake",t.MAX_WAIT_FOR_HANDSHAKE_EVENT,!0,function(){this._receivedHandshake||this._receivedLoadedEvent||this._loadFailed||this._disposed||(this._shouldAttemptFallback()?this._loadFallback():this._handleLoadError(null))}):n._loadedDeferred.resolve(null)});u.getPageContext().webAccessConfiguration.isHosted||!this._isSameOrigin(this._srcUri)||c.FeatureAvailabilityService.isFeatureEnabled(e.WebPlatformFeatureFlags.VisualStudioServicesContributionUnSecureBrowsers,!1)&&tt.BrowserCheckUtils.isLessThanOrEqualToIE9()||(this._$iframe.attr("sandbox","allow-forms allow-modals allow-pointer-lock allow-popups allow-scripts allow-top-navigation"),this._sandboxedIframe=!0);this._options.postContent?i[0].submit():this._$iframe.attr("src",this._srcUri);this._options.interactive&&(this._xdmChannel=null,this.ensureXdmChannelIntialized())},t.prototype._shouldAttemptFallback=function(){return!this._usingFallback&&this._options.fallbackUri&&c.FeatureAvailabilityService.isFeatureEnabled(e.WebPlatformFeatureFlags.UseGalleryCdn)},t.prototype._loadFallback=function(){this._enableFallbackCookie();this._usingFallback=!0;this._srcUri=this._options.fallbackUri;this._$iframe.remove();this._hideLoadingIndicator();this._finishInitialization()},t.prototype._isGalleryCdnDisabled=function(){var n=this._getCookie("GALLERY-CDN");return n&&n==="disabled"},t.prototype._enableFallbackCookie=function(){var n,t;u.getPageContext().webAccessConfiguration.isHosted&&(n=this._getCookie("GALLERY-CDN"),n||(t=3600,this._setFallbackCookie(t,"disabled")))},t.prototype._deleteFallbackCookie=function(){if(u.getPageContext().webAccessConfiguration.isHosted){var n=this._getCookie("GALLERY-CDN");n&&this._setFallbackCookie(0,"")}},t.prototype._setFallbackCookie=function(n,t){if(u.getPageContext().webAccessConfiguration.isHosted){var i="";window.location.protocol.indexOf("https")!==-1&&(i=";secure");document.cookie="GALLERY-CDN="+t+";max-age="+n+";path=/"+i}},t.prototype._getCookie=function(n){var t,i;return u.getPageContext().webAccessConfiguration.isHosted&&document.cookie.length>0&&(t=document.cookie.indexOf(n+"="),t!==-1)?(t=t+n.length+1,i=document.cookie.indexOf(";",t),i===-1&&(i=document.cookie.length),decodeURIComponent(document.cookie.substring(t,i))):""},t.prototype._isSameOrigin=function(n){var t=nt.format("{0}//{1}",window.location.protocol,window.location.host).toLowerCase();return n&&n.toLowerCase().indexOf(t)===0&&(t.length===n.length||n[t.length]===":"||n[t.length]==="/")},t.prototype._handleLoadSuccess=function(){this._receivedLoadedEvent=!0;this._hideLoadingIndicator();this._loadedDeferred.resolve(null)},t.prototype._handleLoadError=function(n){if(this._loadFailed=!0,this._hideLoadingIndicator(),this._loadedDeferred.reject(n),this._contributionHostBehavior.showErrorIndicator){var t=n&&n.message?n.message:n;this._showExtensionMessage(a.MessageAreaType.Error,v.ExternalContentErrorFormat,!1,t)}},t.prototype._hideLoadingIndicator=function(){this._$iframe.removeClass("loading");this._statusControl&&(this._statusControl.dispose(),this._$statusContainer.remove(),this._statusControl=null,this._$statusContainer=null)},t.prototype._getExtensionUrl=function(){if(!this._galleryUrlPromise){var n=this._options.contribution,t=i.defer();this._galleryUrlPromise=t.promise;rt.using(["VSS/Gallery/RestClient"],function(i){l.beginGetServiceLocation(i.GalleryHttpClient.serviceInstanceId,f.ContextHostType.Deployment).then(function(i){var r=u.getPageContext().webAccessConfiguration.isHosted?i:g.combinePaths(i,"_gallery");t.resolve(g.combinePaths(r,"items/"+o.ExtensionHelper.getPublisherId(n)+"."+o.ExtensionHelper.getExtensionId(n)))})})}return this._galleryUrlPromise},t.prototype._showExtensionMessage=function(n,t,i,r,u){var f=this,c,l;u===void 0&&(u=!0);var h=b.getService(o.ExtensionService).getExtensionForContribution(this._options.contribution),y=nt.format(v.ExtensionDisplayNameFormat,h.extensionName,h.publisherName),e=$("<div />");$("<span />").appendTo(e).text(nt.format(t,y));u&&this._getExtensionUrl().then(function(n){var t=$("<span />").addClass("help-text").appendTo(e).html(v.ExternalContentErrorLearnMoreContent);t.find("a").attr("href",n).attr("target","_blank");f._handleMessageAreaResize()});this._showingErrorDetails=!!r;this._showingErrorDetails&&(c=$("<div />").text(r));l={type:n,header:e,content:c};this._messageArea&&this._messageArea.dispose();this._messageArea=s.Enhancement.enhance(a.MessageAreaControl,$("<div />").prependTo(this._element),{closeable:i,showIcon:!0,expanded:!!r,showDetailsLink:!1,message:l});this._handleMessageAreaResize();this._messageArea._bind(a.MessageAreaControl.EVENT_DISPLAY_COMPLETE,function(){f._handleMessageAreaResize();f._fire(ut.EXTENSION_MESSAGE_RESIZED,[f])});this._messageArea._bind(a.MessageAreaControl.EVENT_DISPLAY_CLEARED,function(){f._messageArea=null;f._handleMessageAreaResize();f._fire(ut.EXTENSION_MESSAGE_RESIZED,[f])});this._fire(ut.EXTENSION_MESSAGE_RESIZED,[this]);this._errorResizeDelegate||(this._errorResizeDelegate=function(){f._handleMessageAreaResize()},$(window).bind("resize",this._errorResizeDelegate))},t.prototype.dispose=function(){n.prototype.dispose.call(this);this._errorResizeDelegate&&$(window).unbind("resize",this._errorResizeDelegate)},t.prototype._handleMessageAreaResize=function(){var n="0";this._messageArea&&(n=this._messageArea._element.outerHeight()+(this._showingErrorDetails?20:0)+"px");this._$container.css("padding-top",n);this._$statusContainer&&this._$statusContainer.css("top",n)},t.prototype.getXdmChannel=function(){return this.ensureXdmChannelIntialized(),this._xdmChannel},t.prototype.ensureXdmChannelIntialized=function(){if(!this._xdmChannel){var n=b.getService(o.ExtensionService).getExtensionForContribution(this._options.contribution);this._xdmChannel=w.channelManager.addChannel(this._$iframe[0].contentWindow,this._srcUri);this._xdmChannel.getObjectRegistry().register("VSS.HostControl",this.getHostControl());this._xdmChannel.getObjectRegistry().register("vss.hostManagement",new y.HostManagementService({baseUri:this._usingFallback&&n.fallbackBaseUri?n.fallbackBaseUri:n.baseUri,publisherId:n.publisherId,extensionId:n.extensionId,version:n.version,registrationId:n.registrationId}))}},t.prototype.getRegisteredInstance=function(n,t){var r=this;return this._loadedDeferred.promise.then(function(){return i.Promise(function(i,u){var f,s=!1,o,e;r.getXdmChannel().getRemoteObjectProxy(n,t).then(function(n){s=!0;f&&(f.cancel(),f=null);i(n)},function(n){s=!0;f||u(n)});o=r._options.contribution.id.split(".");e=n.split(".");o.length>=2&&e.length>=2&&o[0]===e[0]&&o[1]===e[1]&&(f=d.delay(r,250,function(){var n=e.slice(2).join(".");r.getXdmChannel().getRemoteObjectProxy(n,t).then(function(n){f&&(f=null,i(n))},function(n){f=null;s&&u(n)})}))})})},t.prototype.reuseHost=function(n){var t=this;this._loadedDeferred.promise.then(function(){t._contributions.indexOf(n)<0&&($.isFunction(t._extensionReusedCallback)&&t._extensionReusedCallback(n),t._contributions.push(n))})},t.prototype.getHostControl=function(){var n=this;return{resize:function(t,i){(n._contributionHostBehavior.resizeOptions&ft.FixedHeight)==0&&n._$iframe.height(i);(n._contributionHostBehavior.resizeOptions&ft.FixedWidth)==0&&n._$iframe.width(t);p.VSS.resize();var r={height:i,width:t,host:n};n._fire(ut.EXTENSION_HOST_RESIZED,r)},initialHandshake:function(i){var f,s;n._receivedHandshake=!0;n._$iframe.show();i&&(i.notifyLoadSucceeded&&window.setTimeout(function(){n._handleLoadSuccess()},0),n._extensionReusedCallback=i.extensionReusedCallback);var e=n._options.contribution,r=b.getService(o.ExtensionService).getExtensionForContribution(e),h=u.getPageContext();if(n._contributions.push(e),f={pageContext:h,initialConfig:n._options.initialConfig,extensionContext:{extensionId:r.extensionId,publisherId:r.publisherId,version:r.version,baseUri:n._usingFallback&&r.fallbackBaseUri?r.fallbackBaseUri:r.baseUri},contribution:e},n._sandboxedIframe&&r.publisherId){f.sandboxedStorage={};try{s=window.localStorage.getItem(t.SANDBOXED_STORAGE_SETTINGS_PREFIX+r.publisherId);s&&(f.sandboxedStorage=JSON.parse(s))}catch(c){}}return f},notifyLoadSucceeded:function(){n._handleLoadSuccess()},notifyLoadFailed:function(t){n._handleLoadError(t)},getAccessToken:function(){var t=b.getService(o.ExtensionService).getExtensionForContribution(n._options.contribution),i=!o.ExtensionHelper.isContributionTrusted(n._options.contribution);return r.getToken(t.registrationId,null,null,i)},getAppToken:function(){var t=b.getService(o.ExtensionService).getExtensionForContribution(n._options.contribution);return r.getAppToken(t.registrationId)},updateSandboxedStorage:function(n){var i,r;n&&this._sandboxedIframe&&window.localStorage&&(i=b.getService(o.ExtensionService).getExtensionForContribution(this._options.contribution),i&&i.publisherId&&(r=JSON.stringify(n),r.length>25e4?h.logWarning("Failed to update sandboxed storage for extension publisher "+i.publisherId+". The overall storage size "+r.length+" exceeds the maximum limit of "+t.SANDBOXED_STORAGE_SIZE_LIMIT+"."):window.localStorage.setItem(t.SANDBOXED_STORAGE_SETTINGS_PREFIX+i.publisherId,r)))}}},t.DEFAULT_SLOW_LOAD_DURATION=1e4,t.MAX_WAIT_FOR_HANDSHAKE_EVENT=5e3,t.EXTENSION_FLAGS_TRUSTED=2,t.SANDBOXED_STORAGE_SETTINGS_PREFIX="extension-data:",t.SANDBOXED_STORAGE_SIZE_LIMIT=25e4,t}(s.Control),ht=function(){function n(n,t,i){this._loadContribution(n,t,i)}return n.prototype._loadContribution=function(n,t,i){var r=this,u=n.properties.content||{},f=u.require||[];t||(t={});this._loadPromise=this._getRequiredModules(f).then(function(){var e=u.initialize,f,o,n;if(e){if(i&&(f=t.ownsContainer===!0?i:$('<div class="internal-content-host" />').appendTo(i)),o={$container:f,container:f?f[0]:undefined,options:t,registerInstance:r._registerLocalInstance.bind(r)},n=p.VSS.getRegisteredObject(e,o),n&&$.isFunction(n.then))return n.then(function(n){t.contributedControlInstanceId&&p.VSS.register(t.contributedControlInstanceId,n)});n&&t.contributedControlInstanceId&&p.VSS.register(t.contributedControlInstanceId,n)}})},n.prototype._registerLocalInstance=function(n,t){this._localRegistry||(this._localRegistry=w.createObjectRegistry());this._localRegistry.register(n,t)},n.prototype._getRequiredModules=function(n){if(!n||!n.length)return i.resolve(null);var t=i.defer();return rt.using(n,function(){t.resolve(null)}),t.promise},n.prototype.getLoadPromise=function(){return this._loadPromise},n.prototype.getRegisteredInstance=function(n,t){var i=this;return this._loadPromise.then(function(){var r;return i._localRegistry&&(r=i._localRegistry.getInstance(n,t)),r||(r=p.VSS.getRegisteredObject(n,t)),r})},n}(),yt=0;t.createContributedControl=pt;t.createExtensionHost=ct;t.createExtensionHostForContribution=et;t.getBackgroundHost=lt;t.getBackgroundInstance=wt;at=function(){function n(){this._hosts={}}return n.prototype.getHostsContainer=function(){return this._hostsContainer||(this._hostsContainer=$("<div/>").addClass("vs-app-hosts-container").prependTo(document.body)),this._hostsContainer},n.prototype.getHost=function(n,t,i,r,u,f){if(!n&&!r)throw new Error(nt.format("Could not resolve the uri for contribution {0}",i.id));var o=(r?"int.":"ext.")+(n||"").toLowerCase()+(t||"").toLowerCase(),e=this._hosts[o];return e?(e.reuseHost(i),e):this.createBackgroundHost(o,n,t,i,r,u,f)},n.prototype.createBackgroundHost=function(n,t,i,r,u,f,e){if(u)return new ht(r,f,this.getHostsContainer());var o=s.create(st,this.getHostsContainer(),{uri:t,fallbackUri:i,contribution:r,interactive:!0,initialConfig:f,postContent:e});return this._hosts[n]=o,o},n}();vt=new at});
define("VSS/Controls/Header",["require","exports","VSS/Contributions/Controls","VSS/Contributions/Services","VSS/Controls","q","VSS/Service","VSS/VSS","VSS/LoaderPlugins/Css!VSS/Controls/Header"],function(n,t,i,r,u,f,e,o){var h=".left-section",a=".center-section",c=".right-section",v=".justified-section",l=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t)},t.prototype.renderContributions=function(){var n=this;e.getService(r.ExtensionService).getContributionsForTarget(this._options.contributionId,this._options.elementContributionType).then(function(t){t=n.filterContributions(t);var i=n.groupContributionsByAlignment(t),r=[n.renderContributedSection(i.left,h),n.renderContributedSection(i.center,a),n.renderContributedSection(i.right,c),n.renderContributedSection(i.justified,v),];return f.all(r)},o.handleError).then(function(){n._element.attr("aria-busy")&&n._element.attr("aria-busy","false")})},t.prototype.filterContributions=function(n){return n},t.prototype.groupContributionsByAlignment=function(n){for(var i={},r=0,u=n;r<u.length;r++){var f=u[r],e=f.properties.align||"center",t=i[e];t||(t=[],i[e]=t);t.push(f)}return i},t.prototype.renderContributedSection=function(n,t){var r=this.getElement().find(" > .header-table > tbody > tr > "+t),u,e,h,o,s,c;if(n&&n.length>0){for(n.sort(function(n,t){var i=typeof n.properties.order=="number"?n.properties.order:Number.MAX_VALUE,r=typeof t.properties.order=="number"?t.properties.order:Number.MAX_VALUE;return i-r}),r.hide(),u=[],e=0,h=n;e<h.length;e++)o=h[e],s=r.find("#"+o.id.replace(/\./g,"-")),s.length>0?(s.appendTo(r),u.push(i.createContributedControl(s,o,{headerContext:this._options.context,ownsContainer:!0}))):(c=$("<div />").addClass("temp-placeholder").appendTo(r),u.push(i.createContributedControl(c,o,{headerContext:this._options.context})));return r.show(),f.allSettled(u).then(function(n){n.forEach(function(n){n.state==="rejected"&&console.error(n.reason)});r.children(".temp-placeholder").children().unwrap()})}r.hide()},t}(u.Control),s;t.ContributableHeader=l;s=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);var t=this.getElement();this._options.supportsContribution?this.renderContributions():(this.renderLeftSection(t.find(h)),this.renderRightSection(t.find(c)))},t.prototype.renderLeftSection=function(n){this._options.brandIcon&&$("<span />").addClass("bowtie-icon vsts-brand-icon bowtie-"+this._options.brandIcon).appendTo(n);this._options.brandName&&$("<span />").addClass("brand-name").text(this._options.brandName).appendTo(n)},t.prototype.renderRightSection=function(n){this._options.userDisplayName&&$("<span />").addClass("user-name").text(this._options.userDisplayName).appendTo(n)},t}(l);t.Header=s;u.Enhancement.registerEnhancement(s,".webplatform-header")});
define("VSS/Bundling",["require","exports","VSS/Ajax","VSS/Context","VSS/Utils/Core","VSS/LoaderPlugins/Css","VSS/Diag","q","VSS/Utils/Array","VSS/Utils/File","VSS/Utils/String","VSS/Utils/Url","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){function y(){var i,t,o,n,r,s,u,f,e;if(!w)for(w={},i=document.getElementsByTagName("script"),t=0,o=i.length;t<o;t++)n=i[t],r=n.getAttribute("data-includedscripts"),r&&(s=r.split(";"),u=n.getAttribute("data-bundlename"),u&&(w[u]=s)),f=n.getAttribute("data-bundlelength"),f&&(e=parseInt(f),nt+=e,k[n.getAttribute("src")]=e)}function lt(n,t){if(t==="")return!0;var i=r.getScriptModuleOwner(n);return i?c.equals(i,t,!0):!1}function at(n,t){return y(),(w[n]||[]).filter(function(n){return lt(n,t)})}function d(){var i,t,o,n,r,s,u,f,e;if(!b)for(b={},i=document.getElementsByTagName("link"),t=0,o=i.length;t<o;t++)n=i[t],r=n.getAttribute("data-includedstyles"),r&&(s=r.split(";"),u=n.getAttribute("data-bundlename"),u&&(b[u]=s)),f=n.getAttribute("data-bundlelength"),f&&(e=parseInt(f),tt+=e,it[n.getAttribute("href")]=e)}function vt(n){return d(),b[n]||[]}function yt(n,t){y();t&&(nt+=t,k[n]=t)}function pt(n){y();var t=!1;return $.each(k,function(i){if(c.equals(n,i,!0))return t=!0,!1}),t}function wt(){return y(),nt}function bt(n,t){d();t&&(tt+=t,it[n]=t)}function kt(){return d(),tt}function dt(n){return y(),d(),k[n]||it[n]}function gt(n,t){for(var r=h.getPathParts(n),e=r.length,u=h.getPathParts(t),l=u.length,o,s,f,i=0;i<e;i++)if(o=r[i],s=u[i],c.ignoreCaseComparer(o,s)!==0)break;return i>0?(f=i===e?"*":r.slice(0,i).map(function(){return"-"}).join(""),l>i?""+f+u.slice(i).join("/")+"/":f):t+"/"}function ft(n){var f=[],t,i,e,r,u;for(n=(n||[]).filter(function(n){return n.charAt(0)!=="/"&&!l.isAbsoluteUrl(n)}),n.sort(function(n,t){var r=h.getDirectoryName(n),u=h.getDirectoryName(t),i=c.ignoreCaseComparer(r,u);return i===0?c.ignoreCaseComparer(n,t):i}),t=null,i=0,e=n;i<e.length;i++)r=e[i],u=h.getDirectoryName(r),u&&t?f.push(""+gt(t,u)+h.getFileName(r)):f.push(r),t=u;return f}function rt(n,t){return n&&n.length>0?(t&&(n=ft(n)),encodeURIComponent(n.join(";"))):null}function ni(n,t,u){var v=r.getPageContext(),g=v.webAccessConfiguration.paths.rootPath||"/",nt=v.webAccessConfiguration.paths.staticContentVersion||"",f,tt=[],y,ot,w,s,h,st,b,it,ht,ut,k,ct,d,ft,lt,et;if(t&&(!c.equals(t,v.serviceInstanceId,!0)||r.isExtensionFrame())){if(y=r.getPathsForService(t),y){if(nt=y.staticContentVersion,!nt)return o.resolve(null);f=r.getContributedServiceRootUrl(t);g=l.combineUrl(f,y.rootPath)}r.isExtensionFrame()||(ot=r.getContributionPathsForService(t),tt=Object.keys(v.moduleLoaderConfig.contributionPaths||{}).filter(function(n){return ot.indexOf(n)<0}))}if(w=!l.isAbsoluteUrl(g),s=g+"_public/_Bundling/DynamicBundles?scripts="+rt(n,w),s+="&v="+encodeURIComponent(nt),tt.length>0&&(s+="&excludePaths="+encodeURIComponent(tt.join(";"))),u!==a.DynamicModuleExcludeOptions.NoExcludes){for(h=[],st=p.getBundlesToExclude(u),b=0,it=st;b<it.length;b++)ht=it[b],h.push.apply(h,at(ht,t));for(ut=rt(h,w),ut&&(s+="&exclude="+ut),k=[],ct=p.getBundlesToExclude(u,!0),d=0,ft=ct;d<ft.length;d++)lt=ft[d],k.push.apply(k,vt(lt));et=rt(k,w);et&&(s+="&excludeCss="+et)}return i.issueRequest(s,{type:"GET",data:"json"}).then(function(n){return f&&(n.scripts&&n.scripts.forEach(function(n){n.uri=l.combineUrl(f,n.uri)}),n.styles&&n.styles.forEach(function(n){n.uri=l.combineUrl(f,n.uri);n.fallbackThemeUri=l.combineUrl(f,n.fallbackThemeUri)})),n})}function ti(n,t){var f=r.getPageContext(),i={},u;return f.webAccessConfiguration.isHosted?n.forEach(function(n){var t=r.getScriptModuleOwner(n);t&&(t=t.toLowerCase(),i[t]||(i[t]=[]),i[t].push(n))}):i[""]=n,u=[],$.each(i,function(n,i){u.push(ni(i,n,t))}),o.allSettled(u).then(function(n){return et(n)})}function et(n){for(var f,t,i={scripts:[],scriptsExcludedByPath:[],styles:[]},r=0,u=n;r<u.length;r++)f=u[r],t=f.value,t&&(t.scripts&&s.addRange(i.scripts,t.scripts),t.scriptsExcludedByPath&&s.addRange(i.scriptsExcludedByPath,t.scriptsExcludedByPath),t.styles&&s.addRange(i.styles,t.styles));return i}function ii(){if(v.length!==0){var n=[].concat(v);v=[];ot(n)}}function ot(n){var i={},h={},u,c,f,s,v;n.forEach(function(n){var r=n.loadOptions,f=r&&typeof r.excludeOptions=="number"?r.excludeOptions:a.DynamicModuleExcludeOptions.AllPageBundles,t,u,e;for(h[f]=!0,t=0,u=n.moduleNames;t<u.length;t++)e=u[t],i[e]=f});var r={initialUsings:n,pendingUsings:[]},l=Object.keys(i),t=l.filter(function(n){return!requirejs.specified(n)});t.forEach(function(n){g[n]=r});u=[];for(c in h)f=parseInt(c,10),s=t.filter(function(n){return i[n]===f}),s.length>0&&u.push(ti(s,f));v=o.allSettled(u).then(function(n){var i=et(n);if(i)return st(i,null).then(function(){ht(r,!0,t)});ht(r,!1,t)})}function ri(n,t){return st(n,t)}function st(t,i){var r=o.defer(),u=[];return t.styles&&t.styles.length&&t.styles.forEach(function(n){var t=n.uri;i&&(t=l.combineUrl(i,n.uri));u.push(f.injectStylesheet(t,n.fallbackThemeUri,n.cssFiles));bt(t,n.contentLength)}),o.allSettled(u).then(function(){var o=[],u,s,f,e;if(t.scripts&&t.scripts.length)for(u=0,s=t.scripts.length;u<s;u++)f=t.scripts[u],e=i?l.combineUrl(i,f.uri):f.uri,pt(e)||(o.push(e),yt(e,f.contentLength));o.length>0?n(o,function(){var n,i;t.scriptsExcludedByPath&&t.scriptsExcludedByPath.length?(n=ct(t.scriptsExcludedByPath),n.length?(i={moduleNames:n,completed:function(){r.resolve(null)}},ot([i])):r.resolve(null)):r.resolve(null)}):r.resolve(null)}),r.promise}function ht(n,t,i){i.forEach(function(n){delete g[n]});n.initialUsings.forEach(function(n){n.completed()});n.pendingUsings.forEach(function(n){t?ut(n.moduleNames,n.loadOptions).then(function(){n.completed()}):n.completed()})}function ct(n){return(n||[]).filter(function(n){return requirejs.specified(n)?!1:typeof r.getScriptModuleOwner(n)=="undefined"?!1:!0})}function ui(t,i){return ut(t,i).then(function(){return o.Promise(function(r){n(t,function(){if(typeof i=="function"){var n=i;n.apply(this,arguments)}r(arguments)})})})}function ut(n,t){var i,f,h,s,l,c;if(!r.getPageContext().diagnostics.bundlingEnabled||(i=ct(n),i.length===0))return o.resolve(null);for(f=o.defer(),h={moduleNames:n,completed:f.resolve,loadOptions:t},s=0,l=i.length;s<l;s++)if(c=g[i[s]],c)return c.pendingUsings.push(h),f.promise;return v.push(h),u.delay(this,0,ii),f.promise}var p;(function(n){function t(t,i){i===void 0&&(i=!1);var r=[];return t>=a.DynamicModuleExcludeOptions.CommonModules&&r.push(i?n.CommonCss:n.CommonScript),t>=a.DynamicModuleExcludeOptions.CommonAndAreaModules&&r.push(i?n.AreaCss:n.AreaScript),t>=a.DynamicModuleExcludeOptions.AllPageBundles&&r.push(i?n.ViewCss:n.ViewScript),r}n.CommonScript="common";n.AreaScript="area";n.ViewScript="view";n.CommonCss="commoncss";n.AreaCss="areacss";n.ViewCss="viewcss";n.getBundlesToExclude=t})(p||(p={}));var w,b,v=[],g={},nt=0,tt=0,k={},it={};t.getBundledScriptContentSize=wt;t.getBundledCssContentSize=kt;t.getBundleSize=dt;t.compressPaths=ft;t.injectBundles=ri;t.requireModules=ui;t.loadModules=ut});
define("VSS/Events/Action",["require","exports","VSS/Diag","VSS/Service"],function(n,t,i,r){function f(){return r.getLocalService(o)}var e=Math.pow(2,32),o=function(){function n(){this._actionWorkers={}}return n.prototype.registerActionWorker=function(n,t,r){r!==undefined;var u=this._actionWorkers[n];u||(this._actionWorkers[n]=u=[]);u.push({worker:t,order:r||(r===0?0:100)});u.sort(function(n,t){return n.order-t.order})},n.prototype.unregisterActionWorker=function(n,t){var r,u;r=this._actionWorkers[n];r&&(u=-1,$.each(r,function(n,i){if(i.worker===t)return u=n,!1}),u>-1&&r.splice(u,1),r.length===0&&delete this._actionWorkers[n])},n.prototype.performAction=function(n,t){function u(n){var t=r&&r[f++];if(t)return t.worker.call(this,n,u)}var r=this._actionWorkers[n],f=0;return u(t)},n.prototype.clearActionWorkers=function(){this._actionWorkers={}},n.MaxOrder=e,n}(),u;t.ActionService=o,function(n){n.ACTION_WINDOW_OPEN="window-open";n.ACTION_WINDOW_NAVIGATE="window-navigate";n.ACTION_WINDOW_RELOAD="window-reload";n.ACTION_WINDOW_UNLOAD="window-unload"}(u=t.CommonActions||(t.CommonActions={}));t.getService=f;f().registerActionWorker(u.ACTION_WINDOW_OPEN,function(n){var t=null;t=typeof n.features!="undefined"?window.open(n.url,n.target||"_blank",n.features):window.open(n.url,n.target||"_blank");t&&(t.opener=null)});f().registerActionWorker(u.ACTION_WINDOW_NAVIGATE,function(n){window.location.href=n.url});f().registerActionWorker(u.ACTION_WINDOW_RELOAD,function(){window.location.reload()})});
define("VSS/Controls/Menus",["require","exports","q","VSS/Context","VSS/Contributions/Controls","VSS/Contributions/Services","VSS/Controls","VSS/Diag","VSS/Events/Action","VSS/Events/Handlers","VSS/Resources/VSS.Resources.Platform","VSS/Service","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/UI","VSS/VSS","VSS/Telemetry/Services","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){function lt(n){var t;return n&&(t=n.state|b.None,n.disabled&&(t=t|b.Disabled),n.hidden&&(t=t|b.Hidden),n.toggled&&(t=t|b.Toggled)),t}function dt(n){var t=new a.StableSorter(function(n,t){var i=n.rank?n.rank:9999,r=t.rank?t.rank:9999;return i-r});return t.sort(n,!1)}var k=v.delegate,ft=y.domElem,g=y.KeyCode,bt=p.handleError,kt=p.getErrorMessage,ht,tt,nt,b,d,at,it,rt,yt,ut,et,ot,ct,pt,st,vt,wt;t.BLUR_CLOSE_TIMEOUT=25,function(n){function t(n){return Boolean(n)&&n.which===2}function i(n){return Boolean(n)&&$(n.target).is("ul.menu")}n.isMiddleClick=t;n.targetIsMenu=i}(ht||(ht={})),function(n){function t(t){return t==="vertical"?n.Vertical:n.Horizontal}n.Horizontal=0;n.Vertical=1;n.parse=t}(tt||(tt={})),function(n){function t(t){switch(t){case"static":return n.Static;case"popup":return n.Popup;case"dropdown":return n.DropDown;case"chevron":return n.Chevron}return n.Normal}n.None=0;n.Normal=1;n.Static=2;n.Popup=3;n.DropDown=4;n.Chevron=5;n.SubMenu=6;n.parse=t}(nt||(nt={})),function(n){n[n.None=0]="None";n[n.Disabled=1]="Disabled";n[n.Hidden=2]="Hidden";n[n.Toggled=4]="Toggled"}(t.MenuItemState||(t.MenuItemState={}));b=t.MenuItemState,function(n){function t(t){switch(t){case"right-bottom":return n.RightBottom;case"left-bottom":return n.LeftBottom;case"left-top":return n.LeftTop}return n.RightJustify}n.RightBottom=0;n.RightJustify=1;n.LeftBottom=2;n.LeftTop=3;n.parse=t}(d||(d={}));at=function(){function n(){this._commandStates={}}return n.prototype.getCommandState=function(n,t){var i=this._commandStates&&this._commandStates[n];return $.isFunction(i)?i.call(t,n,t):i},n.prototype.updateCommandStates=function(n){var t=this;n&&$.each(n,function(n,i){t._commandStates[i.id]=lt(i)})},n.prototype.executeCommand=function(n){this._fireEvent(this._executeEvent,this,n)},n.prototype.attachExecuteCommand=function(n){this.attachEvent(this._executeEvent,n)},n.prototype.detachExecuteCommand=function(n){this.detachEvent(this._executeEvent,n)},n.prototype.fire=function(n,t,i){return this._fireEvent(n,t,i)},n.prototype._fireEvent=function(n,t,i){var r;if(this._events&&(this._events.invokeHandlers(n,t,i,function(n){if(n===!1)return r=!0,!0}),r))return!1},n.prototype.attachEvent=function(n,t){this._events||(this._events=new h.NamedEventCollection);this._events.subscribe(n,t)},n.prototype.detachEvent=function(n,t){this._events&&this._events.unsubscribe(n,t)},n}();p.initClassPrototype(at,{_executeEvent:"execute-command",_commandStates:null});t.menuManager=new at;it=function(n){function t(t){n.call(this,t);this._type=nt.parse(this._options.type);this._children=[]}return __extends(t,n),t.prototype.getOwner=function(){return this._parent?this._parent.getOwner():this},t.prototype.getParent=function(){return this._parent},t.prototype.getParentMenu=function(){return undefined},t.prototype.getContextInfo=function(){return this._options.contextInfo},t.prototype.getActionArguments=function(){var n=this._options.arguments||this.actionArguments;return typeof n=="string"?{url:n}:$.isFunction(n)?n.call(this,this.getOwner().getContextInfo()):n},t.prototype.getMenuType=function(){return this._type},t.prototype.updateCommandStates=function(n){this._updateCommandStates(n)},t.prototype.isMenuBar=function(){return this._type===nt.Static},t.prototype._fireUpdateCommandStates=function(n){(n=n||this,typeof this._options.updateCommandStates!="function"||this._options.updateCommandStates.call(n,n)!==!1)&&this._parent&&this._parent._fireUpdateCommandStates(n)},t.prototype._clear=function(){for(var t=this._children.length,n=0;n<t;n++)this._children[n]._clear(),this._children[n].dispose();this._children=[]},t.prototype._updateCommandStates=function(n){var t=this;this._commandStates||(this._commandStates={});n&&$.each(n,function(n,i){t._commandStates[i.id]=lt(i)})},t.prototype._updateContributedMenuItems=function(n){this._children&&this._children.forEach(function(t){t._updateContributedMenuItems(n)})},t}(e.Control);t.MenuBase=it;p.initClassPrototype(it,{_type:null,_parent:null,_children:null,_commandStates:null,actionArguments:null});rt=function(n){function i(t){n.call(this,t);this._isPinFocused=!1;this._quenchMouseLeave=!1;this._blockHoverOpenSubMenu=!1;this._isHidden=!1;this._item=this._options.item||{};this.setEnhancementOptions({coreCssClass:this._item.href?"menu-item-container":"menu-item",tagName:"li"});try{this.actionArguments=this._item.arguments}catch(i){}this._align=d.parse(this._options.align)}return __extends(i,n),i.getScopedCommandId=function(n,t){return t?t+"-"+n:n},i.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t)},i.prototype.getParentMenu=function(){return this._parent instanceof ut&&this._parent},i.prototype.getCommandId=function(){return i.getScopedCommandId(this._item.id,this._item.scope)},i.prototype.getAction=function(){var n=this._item.idIsAction;return n===!1?this._item.action:this._item.action||this.getCommandId()||this._item.href},i.prototype.hasAction=function(){var n=this.getAction();return n!==null&&typeof n!="undefined"},i.prototype.hasSubMenu=function(){return!this.isDefault()&&this._item.childItems},i.prototype.isDecorated=function(){return this._item.decorated===!0},i.prototype.isDefault=function(){return this._type===nt.None},i.prototype.isSeparator=function(){return this._item.separator===!0},i.prototype.isLabel=function(){return this.isSeparator()&&this._item.isLabel},i.prototype.isSelected=function(){return this._item.selected===!0},i.prototype.getCommandState=function(n,i){var r=null;return n=n||this._item.id,i=i||this,typeof this._options.getCommandState=="function"&&(r=this._options.getCommandState.call(this,n,i)),(r===null||typeof r=="undefined")&&this._parent&&$.isFunction(this._parent.getCommandState)&&(r=this._parent.getCommandState(n,i)),(r===null||typeof r=="undefined")&&(r=t.menuManager.getCommandState(n,i)),(r===null||typeof r=="undefined")&&this._item.id===n&&(r=lt(i._item)),$.isFunction(r)&&(r=r.call(this,n,this)),r},i.prototype.getIndex=function(){return this._index},i.prototype.setIndex=function(n){this._index=n},i.prototype.setIsHidden=function(n){this._isHidden=n;this._updateState()},i.prototype.isHidden=function(){if(this.isPinnable()&&this._parent&&this._parent.getMenuPinningOptions()){var n=this._parent.getMenuPinningOptions();if(n.hidePinnedItems&&this._isPinned&&!this._item.pinningOptions.neverHide||n.hideUnpinnedItems&&!this._isPinned&&!this._item.pinningOptions.neverHide)return!0}return Boolean((this.getCommandState()&b.Hidden)===b.Hidden||this._type===nt.None||this.isSeparator()&&this._item.hidden||this._isHidden)},i.prototype.isEnabled=function(){return this.isHidden()?!1:this.isSeparator()?void 0:(this.getCommandState()&(b.Disabled|b.Hidden))===b.None},i.prototype.isToggled=function(){var n=!1;return this.isSeparator()||this.isHidden()||(n=(this.getCommandState()&b.Toggled)===b.Toggled),n},i.prototype.isPinnable=function(){return this._item.pinningOptions&&this._item.pinningOptions.isPinnable},i.prototype.isPinned=function(){return this._isPinned},i.prototype.initialize=function(){var f=this,t,r,u,i;n.prototype.initialize.call(this);this.isPinnable()&&(t=this.getParentMenu(),r=t&&t.getMenuPinningOptions(),r&&r.isPinningSource?(u=t.getParentMenu(),i=a.first(u._menuItems,function(n){return n._item&&n._item.id===f._item.id}),this._isPinned=i&&i.isPinnable()?i._isPinned:!!this._item.pinningOptions.isPinned):this._isPinned=!!this._item.pinningOptions.isPinned);this._decorate()},i.prototype.update=function(n){this._clear();this._item=n;this._item.decorated=!1;this._element.empty();this._unbind("click mouseenter mouseleave mousedown mouseup keydown");this._decorate()},i.prototype.updateItems=function(n){this._clear();this._item.childItems=n},i.prototype._decorate=function(){var n=this._element,i;this._item.href&&(n=$('<a class="menu-item" tabindex="-1"/>').appendTo(n),n.attr("href",this._item.href));this._$menuItemElement=n;var a=this.getOwner()._options.showIcon===!0,h=this.hasSubMenu(),r,v=this._item.showText!==!1,p=this._item.showHtml!==!1,o,u,f,t,c=!1,l=!1,s=!1;n.attr({id:"mi_"+e.getId(),tabindex:"-1"});this._element.attr({role:"menuitem",tabindex:"-1"});this.isDecorated()?t=n.children(".drop").eq(0):(r=this._item.title,r||this._item.encoded||this._item.setDefaultTitle===!1||(r=this._item.text),n.addClass(this._options.cssCoreClass).addClass(this._options.cssClass),r&&(this._item.setTitleOnlyOnOverflow?y.tooltipIfOverflow(n[0],{titleText:r,titleTarget:this._element[0]}):this._element.attr("title",r)),this._item.id&&n.attr("command",this._item.id),this._item.cssClass&&n.addClass(this._item.cssClass),this._item.hidden&&n.addClass("invisible"),this.isSeparator()?(n.addClass("menu-item-separator"),n.attr("role","separator"),o=this._createSeparatorElement(),this._item.text&&(o.text(this._item.text),o.removeClass("separator"),o.addClass("text-separator")),n.append(o)):(a&&!this._item.noIcon&&(typeof this._item.icon=="string"&&this._item.icon.match(/^https?:\/\//)?this._item.icon=this._getExternalIcon.bind(this,this._item.icon):typeof this._item.icon=="string"&&this._item.icon.match(/^css:\/\//)&&(this._item.icon=this._item.icon.substr(6)),i=this._createIconElement(),$.isFunction(this._item.icon)?i.append(this._item.icon.call(this,i)):this._item.icon&&i.addClass(this._item.icon),i.hasClass("bowtie-icon")&&i.removeClass("icon"),n.append(i),c=!0),v&&(u=this._createTextElement(),this._item.encoded?u[0].innerHTML=this._item.text||"":typeof this._item.text=="string"?u.text(this._item.text):$.isFunction(this._item.text)&&u.text(this._item.text.call(this)||""),this._item.textClass&&u.addClass(this._item.textClass),l=!0,n.append(u)),p&&(s=!0,f=this._createHtmlElement(),this._item.html instanceof jQuery?f.append(this._item.html):typeof this._item.html=="string"?f.html(this._item.html):$.isFunction(this._item.html)?f.html(this._item.html.call(this)||""):s=!1,this._item.htmlClass&&f.addClass(this._item.htmlClass),n.append(f)),s||l||!c||n.addClass("icon-only"),h&&(this._element.attr("aria-haspopup","true"),this._item.hideDrop||(t=this._createDropElement(),this.getElement().css("display")!=="inline-block"?n.prepend(t):n.append(t),n.addClass("drop-visible"))),this.isPinnable()&&!this._item.pinningOptions.hidePin&&(n.addClass("pin-visible"),this._pinElement=$("<i class='pin bowtie-icon' />"),this._pinElement.click(this._onPinClick.bind(this)),this._pinElement.attr({id:n.attr("id")+"_pin",role:"button",tabindex:"-1"}),n.append(this._pinElement))));this._updateState();n.toggleClass("selected",this.isSelected());this.isDefault()||this.isSeparator()?this.isSeparator()&&this._bind("click",function(n){n.stopPropagation()}):(this._bind("click",k(this,this._onClick)),this._bind("mouseenter",k(this,this._onMouseEnter)),this._bind("touchstart",k(this,this._onTouchStart)),this._bind("mouseleave",k(this,this._onMouseLeave)),this._bind("mousedown",k(this,this._onMouseDown)),this._bind("mouseup",k(this,this._onMouseUp)),this._bind("keydown",this._onKeyDown.bind(this)),h&&t&&t.length>0&&this._bind(t,"click",k(this,this._onDropClick)));this.getOwner()._options.markUnselectable===!0&&y.makeElementUnselectable(n[0])},i.prototype._getExternalIcon=function(n){return $("<img/>").attr("src",n)},i.prototype.select=function(n,t){n===void 0&&(n=!1);t===void 0&&(t=!0);this._parent._selectItem(this,n,t);this._parent._clearTimeouts()},i.prototype.focusPin=function(n){n===void 0&&(n=!0);this._isPinFocused=n;this._pinElement&&(this._pinElement.toggleClass("focus",this._isPinFocused),n&&y.tryFocus(this._pinElement))},i.prototype.deselect=function(){this._parent._selectItem(null)},i.prototype.escaped=function(){this.select()},i.prototype.execute=function(n){n;var t=this.getOwner();return this.collapse({immediate:!0}),t.escaped(),this.deselect(),t.isMenuBar()&&n&&n.keepHighlight&&this.showHoverHighlight(),t._proceedBlur(),this.hasAction()?this.executeAction($.extend({},t.getActionArguments(),this.getActionArguments()),n?n.e:null):void 0},i.prototype.executeAction=function(n,i){var r=this.getAction(),o=this.getOwner(),c=r==="navigate"&&n.url||this._item.href,e,u,f;if(r){if(n.telemetry&&n.telemetry.area&&n.telemetry.feature&&w.publishEvent(new w.TelemetryEventData(n.telemetry.area,n.telemetry.feature,{CommandId:this.getCommandId()||"Unknown",GroupId:this._item.groupId})),e=i&&i.ctrlKey,!$.isFunction(r)||c&&e){if(c){try{u=n.url;u||(u=this._item.href);f=null;n.target&&(f=n.target);e&&(f="_blank");f?s.getService().performAction(s.CommonActions.ACTION_WINDOW_OPEN,{url:u,target:n.target}):s.getService().performAction(s.CommonActions.ACTION_WINDOW_NAVIGATE,{url:u})}catch(i){}return!1}return o?o.executeAction(new h.CommandEventArgs(r,n,this)):t.menuManager.executeCommand(new h.CommandEventArgs(r,n,this))}return r.apply(this,[n,i])}},i.prototype.collapse=function(n){for(var t=this._parent,i=n&&n.immediate===!0;t;)$.isFunction(t.hide)&&t.hide({immediate:i}),t=t._parent;this.getOwner().ownFocus()},i.prototype.setFocus=function(n){n===void 0&&(n=!0);var t=this._$menuItemElement;!t||this.isSeparator()||this.isDefault()||t.addClass("focus");t&&y.tryFocus(this._element)},i.prototype.removeFocus=function(){var n=this._$menuItemElement;!n||this.isSeparator()||this.isDefault()||n.removeClass("focus");this.focusPin(!1)},i.prototype.showHoverHighlight=function(){this._highlightHover=!0;this._updateState()},i.prototype.showPressedHighlight=function(){this.hasSubMenu()&&this.getSubMenu()._visible||(this._highlightPressed=!0,this._updateState())},i.prototype.removePressedHighlight=function(){this._highlightPressed&&(this._highlightPressed=!1,this._updateState())},i.prototype.removeHighlight=function(){this._highlightHover=!1;this._highlightPressed=!1;this._updateState()},i.prototype.updateTitle=function(n){var t;typeof n=="string"?t=n:this._item&&$.isFunction(this._item.attr("title"))&&(t=this._item.text.call(this));t&&(this._$menuItemElement.attr("title",t),this._options.item&&(this._options.item.title=t))},i.prototype.updateText=function(n){var t;typeof n=="string"?t=n:this._item&&$.isFunction(this._item.text)&&(t=this._item.text.call(this));t&&this._$menuItemElement.children("span.text").text(t)},i.prototype.getSubMenu=function(){var n=null,t;return this.hasSubMenu()&&(this._children.length===0?(t=this._parent&&this._parent._parent&&this._parent._parent._element||this._$menuItemElement,n=e.create(ut,t,$.extend({},this._options,this._item.childOptions,{earlyInitialize:!1,items:this._item.childItems,type:"submenu",cssCoreClass:"menu sub-menu",tagName:"ul"})),n._element.addClass("menu"),n._element.attr("data-parent",this._$menuItemElement.attr("id")),n._parent=this,n._type=nt.SubMenu,this._children.push(n)):n=this._children[0]),n},i.prototype.tryShowSubMenu=function(n){var t=n&&n.immediate;return!this.isDefault()&&this.isEnabled()&&this.getSubMenu()?(this.showSubMenu({immediate:t}),!0):!1},i.prototype.showSubMenu=function(n){var i=n&&n.immediate===!0,r=n?n.showTimeout:undefined,u=n?n.callback:undefined,t=this.getSubMenu(),f=this._item.splitDropItem?this._item.splitDropItem:this,e=(n&&n.setFocus)!==!1;this._closeSubmenuOnMouseLeave=n&&n.closeOnMouseLeave;t.show({immediate:i,showTimeout:r,callback:u,element:f._$menuItemElement,align:this._align,setFocus:e})},i.prototype.hideSubMenu=function(n){var r=this,i,t;this.hasSubMenu()&&(i=n&&n.immediate===!0,t=this.getSubMenu(),t._parent===this&&t.hide({immediate:i,callback:function(){r._closeSubmenuOnMouseLeave=!1}}))},i.prototype.hideSiblings=function(n){this._parent.hideChildren(this,n)},i.prototype._attachMenuEvents=function(){},i.prototype._createIconElement=function(){return $(ft("span","icon menu-item-icon"))},i.prototype._createTextElement=function(){return $(ft("span","text"))},i.prototype._createHtmlElement=function(){return $(ft("span","html"))},i.prototype._createDropElement=function(){return $(ft("div","drop"))},i.prototype._createSeparatorElement=function(){return $(ft("div","separator"))},i.prototype._updateState=function(){var n=this._$menuItemElement,t;!n||this.isSeparator()||this.isDefault()||(t=(this._item.splitDrop||this._item.splitDropItem||{})._$menuItemElement,this.isEnabled()?(n.toggleClass("hover",this._highlightHover),n.toggleClass("pressed",this._highlightPressed),n.removeAttr("disabled"),n.removeClass("disabled"),t&&t.toggleClass("split-drop-hover",this._highlightHover)):(n.attr("disabled","disabled"),n.addClass("disabled"),n.removeClass("hover"),n.removeClass("pressed")),this._pinElement&&this._pinElement.toggleClass("focus",this._isPinFocused),n.toggleClass("toggle-on",this.isToggled()));n&&!this.isDefault()&&n.toggleClass("invisible",this.isHidden());this._pinElement&&(this._pinElement.toggleClass(i.PinnedIconClass,this._isPinned),this._pinElement.toggleClass(i.UnpinnedIconClass,!this._isPinned),this._pinElement.attr("title",this._isPinned?c.MenuItemUnpinButtonLabel:c.MenuItemPinButtonLabel))},i.prototype._updateContributedMenuItems=function(t){var i=[this._item],r=function(n,i,u){for(var f,o=!1,e=0,s=t;e<s.length;e++)if(f=s[e],n.id===f.id&&n.sourceExtensionId===f.sourceExtensionId){u[i]=f;o=!0;break}!o&&$.isArray(n.childItems)&&n.childItems.forEach(r)};i.forEach(r);i[0]!==this._item?this.update(i[0]):n.prototype._updateContributedMenuItems.call(this,t)},i.prototype._onTouchStart=function(n){!this.hasSubMenu()||!this.getParentMenu().openSubMenuOnHover||this._children&&this._children[0]&&this._children[0]._visible?this._onClick(n):(this._onMouseEnter(n),n.preventDefault())},i.prototype._onMouseEnter=function(n){var i,t,r,e,u,f;for(o.logTracePoint("MenuItem._onMouseEnter.start"),i=n.target;i&&i.tagName.toUpperCase()!=="UL";)i=i.parentElement;i===this._parent._element[0]&&(t=this.getOwner(),!this._blockHoverOpenSubMenu&&(t._active||t.openSubMenuOnHover)?(t.activate(),r=t._subMenuVisible,this.hideSiblings({immediate:this._options.immediateShowHide}),e=this._parent.isMenuBar()&&!(this._parent===t&&this._parent._active&&this._parent.getElement()[0].contains(document.activeElement)),this.select(e),(t!==this._parent||r||t.openSubMenuOnHover)&&(t._subMenuVisible=r,this.isEnabled()&&this.hasSubMenu()&&(u=this.getSubMenu(),u._parent===this&&(u._visible||(f=t.openSubMenuOnHover&&t===this._parent,this.showSubMenu({immediate:f&&!r?!1:this._options.immediateShowHide,showTimeout:f&&!r?200:undefined,closeOnMouseLeave:f,callback:function(){u.selectDefaultItem()},setFocus:!1})))))):this.showHoverHighlight())},i.prototype._onMouseLeave=function(n){var i=this.getOwner(),t;if(this._quenchMouseLeave){this._quenchMouseLeave=!1;n.stopPropagation();return}this._closeSubmenuOnMouseLeave&&this.hideSubMenu({immediate:!1,hideTimeout:200});i._active?i!==this._parent?this.hasSubMenu()?(t=this.getSubMenu(),t._parent===this?t._visible||(this.deselect(),t._clearTimeouts()):this.deselect()):this.deselect():this.hasSubMenu()&&this.getSubMenu()._visible||this.removeHighlight():this.removeHighlight()},i.prototype._onMouseDown=function(){this.showPressedHighlight()},i.prototype._onMouseUp=function(){this.removePressedHighlight()},i.prototype._onClick=function(n){var u=this,t,i,r;if(ht.targetIsMenu(n))return!1;if(!ht.isMiddleClick(n)){if(i=this.actionArguments,i||(i={}),i.clickArguments||(i.clickArguments={}),$.extend(i.clickArguments,n),this.isEnabled()){if(this.hasSubMenu()&&this._item.clickOpensSubMenu!==!1)t=this.getSubMenu(),this.select(),t._parent===this&&t._visible?(this.getOwner().activate(),this._options.clickToggles===!0?(t.hide({immediate:!0}),this._blockHoverOpenSubMenu=!0,r=function(){u._blockHoverOpenSubMenu=!1;u._unbind("mouseleave",r)},this._bind("mouseleave",r),this.select()):t.ownFocus()):(this.getOwner().activate(),this.hideSiblings({immediate:!0}),this.showSubMenu({immediate:!0}),t.selectDefaultItem());else if(this.hasAction())return this.select(),this.execute({e:n,keepHighlight:this._parent.getMenuType()!==nt.SubMenu})===!0}else this.getOwner().activate(),this.hideSiblings({immediate:!0}),this.select();return!1}},i.prototype._onDropClick=function(){var n;return this.isEnabled()&&(this.getOwner().activate(),this.hasSubMenu()&&(n=this.getSubMenu(),n._parent===this&&n._visible?this._options.clickToggles===!0?(n.hide({immediate:!0}),this.select()):n.ownFocus():(this.hideSiblings({immediate:!0}),this.showSubMenu({immediate:!0}),n.selectDefaultItem()))),!1},i.prototype._onPinClick=function(n){n.stopPropagation();n.preventDefault();this.toggleIsPinned()},i.prototype.toggleIsPinned=function(n,t){var o,v,s,y,r,h,c,p,k,l,w,i,b;n===void 0&&(n=!this._isPinned);this._isPinned=n;this._updateState();var u=this.getParentMenu(),a=u&&u.getMenuPinningOptions()||{},f=[],e;if(a.isPinningSource)e=u.getParentMenu(),f.push(e);else if(a.isPinningTarget)for(e=u,o=0,v=this._parent._menuItems;o<v.length;o++)i=v[o],i.hasSubMenu()&&(s=i.getSubMenu(),y=s&&s.getMenuPinningOptions(),y&&y.isPinningSource&&f.push(s));if(f.length>0){for(h=void 0,c=0,p=f;c<p.length;c++){for(k=p[c],l=0,w=k._menuItems;l<w.length;l++)i=w[l],i.isPinnable()&&i._item.pinningOptions.groupId===this._item.pinningOptions.groupId&&(h=i),i._item.id===this._item.id&&(r=i);if(r)break}r&&(r._isPinned=this._isPinned,r._updateState(),h&&r.getParentMenu().getMenuPinningOptions().pinItemsToEnd&&r.getParentMenu().moveMenuItemAfter(r,h))}if(a.closeOnPin&&(!t||t.unfocus)&&(this._quenchMouseLeave=!0,this._parent.selectLeft()),e.updateSourceMenu(this._item.pinningOptions.groupId),b=this._item.pinningOptions,b.onPinnedChanged)b.onPinnedChanged(this,this._isPinned,r)},i.prototype._onKeyDown=function(n){var t=function(){return!n.ctrlKey&&!n.altKey&&!n.shiftKey};switch(n.keyCode){case g.RIGHT:if(t()&&!this._isPinFocused&&this.isPinnable()&&!this._item.pinningOptions.hidePin)return this.focusPin(),!1;break;case g.LEFT:if(t()&&this._isPinFocused)return this.focusPin(!1),this.select(),!1;break;case g.ENTER:return this.isEnabled()&&(this._isPinFocused?this.toggleIsPinned():this.hasAction()?this.execute({e:n}):this.hasSubMenu()&&(this.hideSiblings({immediate:!0}),this.showSubMenu({immediate:!0}),this.getSubMenu().selectFirstItem())),!1}},i.enhancementTypeName="tfs.menu.item",i.PinnedIconClass="bowtie-unpin",i.UnpinnedIconClass="bowtie-pin-unpin",i}(it);t.MenuItem=rt;p.initClassPrototype(rt,{_item:null,_align:null,_index:0,_highlightHover:!1,_highlightPressed:!1});yt=function(){function n(n,t,i,r,u,e,o){this._menu=n;this._webContext=t;this._contributionIds=i;this._contributionType=r;this._contributionQueryOptions=u||f.ContributionQueryOptions.IncludeRecursiveTargets;this._getMenuActionContext=e;this._options=o||{}}return n.prototype._getContributions=function(){var n=this;return this._contributionsPromise||(this._contributionsPromise=this._contributionIds&&this._contributionIds.length?l.getService(f.ExtensionService).queryContributions(this._contributionIds,this._contributionQueryOptions,this._contributionType).then(function(t){var r=i.defer(),u=[];return t.forEach(function(t){var i=n._getContributionWithSource(t);i&&u.push(i)}),i.allSettled(u).then(function(n){var t=[];n.forEach(function(n){n.state==="rejected"&&console.error(n.reason);n.state==="fulfilled"&&n.value&&t.push(n.value)});r.resolve(t)},r.reject),r.promise}):i.resolve([])),this._contributionsPromise},n.prototype._getContributionWithSource=function(t){var r=t.id||"";return r&&f.ExtensionHelper.hasContent(t)?u.getBackgroundInstance(t,t.properties.registeredObjectId||r,this._webContext,this._webContext,n._contributionSourceTimeout,"Timed-out waiting for menu source provider for contribution: "+r).then(function(n){return{contribution:t,source:n}}):t.properties.targetUri?i.resolve({contribution:t}):null},n.prototype._makeThennable=function(n){return n&&$.isFunction(n.then)?n:i.resolve(n)},n.prototype._contributionToMenuItems=function(t,r){var e=this,f=t.contribution.id||"",u;return t.source?(u=i.defer(),$.isFunction(t.source.getMenuItems)?(r=$.extend({updateMenuItems:function(n){e._updateContributedMenuItems(n,t)}},r),this._makeThennable(t.source.getMenuItems(r)).then(function(n){n&&n.length?i.all(n.map(function(n){return e._updateContributedMenuFromSource(n,t.contribution,t.source)})).then(function(n){u.resolve(n)}):u.resolve(n)},u.reject)):this._getBasicMenuItemFromContribution(f,t.contribution,t.source).then(function(n){u.resolve([n])}),i.timeout(u.promise,n._contributionGetItemsTimeout,"Timed-out waiting for getMenuItems call from contribution: "+f)):t.contribution.properties.targetUri?this._getBasicMenuItemFromContribution(f,t.contribution,null).then(function(n){return[n]}):i.resolve([])},n._getMenuItemFromContributedMenuItem=function(t){var r={id:t.id,text:t.text,title:t.title,separator:t.separator,disabled:t.disabled,hidden:t.hidden,icon:t.icon,noIcon:t.noIcon,groupId:t.groupId,action:t.action,href:t.href,setDefaultTitle:!1};return t.pinningOptions&&(r.pinningOptions=t.pinningOptions),t.pinningMenuOptions&&(r.pinningMenuOptions=t.pinningMenuOptions),t.childItems&&($.isArray(t.childItems)?r.childItems=t.childItems.map(function(t){return n._getMenuItemFromContributedMenuItem(t)}):i.isPromise(t.childItems)&&(r.childItems=function(i,r,u){t.childItems.then(function(t){r((t||[]).map(function(t){return n._getMenuItemFromContributedMenuItem(t)}))},u)})),r},n.prototype._updateContributedMenuFromSource=function(t,u,e,o){var a=this,s,h,c;return o===void 0&&(o=!0),s=o?n._getMenuItemFromContributedMenuItem(t):t,s.action=this._getMenuAction(u,e,s.action),h=null,c=l.getService(f.ExtensionService).getExtensionForContribution(u),typeof s.icon=="string"&&(h=f.ExtensionHelper.resolveUriTemplate(s.icon,r.getDefaultWebContext(),c.baseUri)),s.isContribution=!0,s.sourceExtensionId=c.publisherId+"."+c.extensionId,s.title&&!s.text&&s.text!==""&&(this._options.defaultTextToTitle===!1&&s.icon?(s.showText=!1,s.showHtml=!1):s.text=s.title),o&&!s.groupId&&(s.groupId=u.properties.groupId),$.isArray(s.childItems)&&s.childItems.forEach(function(n){a._updateContributedMenuFromSource(n,u,e,!1)}),h?h.then(function(n){return s.icon=n,s}):i.resolve(s)},n.prototype._getBasicMenuItemFromContribution=function(n,t,i){var e=this,o=t.properties.text||null,u=t.properties.title||null,s=this._makeThennable("");return typeof t.properties.icon=="string"&&(s=f.ExtensionHelper.resolveUriTemplateProperty(t,r.getDefaultWebContext(),"icon")),s.then(function(r){var s={id:n,text:o,title:u,icon:r,groupId:t.properties.groupId,action:e._getMenuAction(t,i,null),isContribution:!0,sourceExtensionId:f.ExtensionHelper.getPublisherId(t)+"."+f.ExtensionHelper.getExtensionId(t)};return o===null&&u&&(e._options.defaultTextToTitle===!1&&r?(s.showText=!1,s.showHtml=!1):s.text=u),s})},n.prototype._getMenuAction=function(n,t,i){var r=this,u;return $.isFunction(i)?function(){f.ExtensionHelper.publishTraceData(n);i(r._getMenuActionContext())}:n.properties.targetUri?function(){var t=l.getService(f.ExtensionService).getExtensionForContribution(n),i=f.ExtensionHelper.resolveUriTemplate(n.properties.targetUri,r._getMenuActionContext(),t.baseUri);i.then(function(t){f.ExtensionHelper.publishTraceData(n,t);window.location.href=t})}:t&&$.isFunction(t.execute)?function(){f.ExtensionHelper.publishTraceData(n);t.execute(r._getMenuActionContext())}:u},n.prototype._updateContributedMenuItems=function(n,t){var r=this;i.all(n.map(function(n){return r._updateContributedMenuFromSource(n,t.contribution,t.source)})).then(function(n){r._menu.updateContributedMenuItems(n)})},n.prototype.getContributedMenuItems=function(n){var t=this;return this._getContributions().then(function(r){var u=[];return r.forEach(function(i){u.push(t._contributionToMenuItems(i,n))}),i.allSettled(u).then(function(n){var t=[];return n.forEach(function(n){n.value&&n.value.length&&n.value.forEach(function(n){t.push(n)})}),t})})},n._contributionSourceTimeout=5e3,n._contributionGetItemsTimeout=2e3,n}();ut=function(n){function i(t){n.call(this,t);this._mouseIsDown=!1;this._shouldSelectFirstItem=!1;this.setEnhancementOptions({role:"menu",coreCssClass:"menu"+(this._options.useBowtieStyle?" bowtie-menus":""),tagName:"ul"});this._menuItems=[];this._initializeItemsSource()}return __extends(i,n),i.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t);this.openSubMenuOnHover=t.alwaysOpenSubMenuOnHover},i.prototype.initialize=function(){n.prototype.initialize.call(this);this._options.suppressInitContributions||this.refreshContributedItems();this._decorate()},i.prototype._initializeItemsSource=function(){this._itemsSource=this._options.items},i.prototype._decorate=function(){this._element.addClass(this._options.cssCoreClass).addClass(this._options.cssClass).attr("tabindex","-1");this._bind("mousedown",k(this,this._onMouseDown));this._bind("keydown",this._onMenuKeyDown.bind(this));this._itemsSource=this.getGroupedItems();this._ensureChildren()},i.prototype.getItem=function(n){for(var i,t=0,r=this._menuItems.length;t<r;t++)if(i=this._menuItems[t],i&&n===i.getCommandId())return i;return null},i.prototype.getItems=function(){return this._menuItems},i.prototype.getItemByTag=function(n){for(var i,t=0,r=this._menuItems.length;t<r;t++)if(i=this._menuItems[t],i&&n===i._item.tag)return i;return null},i.prototype.getMenuItemSpecs=function(){return this._items},i.prototype.getParentMenu=function(){return this._parent&&this._parent._parent instanceof i&&this._parent._parent},i.prototype.getMenuPinningOptions=function(){var n=this._options.item;return n&&n.pinningMenuOptions?n.pinningMenuOptions:this._options.pinningMenuOptions},i.prototype.getCommandState=function(n,t){t=t||this;var i=null;return $.isFunction(this._options.getCommandState)&&(i=this._options.getCommandState.call(t,n,t)),(i===null||typeof i=="undefined")&&(i=this._commandStates&&this._commandStates[n]),(i===null||typeof i=="undefined")&&this._parent&&$.isFunction(this._parent.getCommandState)&&(i=this._parent.getCommandState(n,t)),$.isFunction(i)&&(i=i.call(t,n,t)),i},i.prototype.updateCommandStates=function(t){n.prototype.updateCommandStates.call(this,t);this._skipUpdateMenuItemStates||this._updateMenuItemStates()},i.prototype.updateItems=function(n){this._updateItems(n,!0)},i.prototype._updateItems=function(n,t){if(!this._disposed){var i=this._menuItems.length;this._updateItemsWithContributions(n,this._contributedItems||[]);t&&this._refreshContributedMenuItems();i===0&&this._menuItems.length>0&&this._visible&&this._parent&&this._parent._element&&this._parent._element[0]===document.activeElement&&this.selectFirstItem()}},i.prototype._updateItemsWithContributions=function(n,t){this._disposed||(this._fire("menuUpdatingContributedItems",{source:this,existingItems:n,contributedItems:t}),n||(n=[]),$.isArray(n)&&(n=$.grep(n,function(n){return!n.isContribution}),t&&t.length&&(n=n.concat(t))),this._contributedItems=t,this._updateCombinedSource(n),this._fire("menuContributedItemsUpdated",{source:this,existingItems:n,contributedItems:t}))},i.prototype._updateCombinedSource=function(n){var t,i,r;if(!this._disposed){if(i=!1,this._element[0].contains(document.activeElement)&&document.activeElement instanceof HTMLLIElement&&this._parent instanceof it&&(i=!0,t=this._selectedItem&&this._selectedItem.getCommandId(),this._parent.focus()),this._asyncLoadingDelay||this._contributedItemsDelay){this._menuUpdateNeeded=!0;this._itemsSource=n;this.getOwner().focus();return}this._clear();this._itemsSource=n;this._initialized&&(this._menuUpdateNeeded=!1,this._itemsSource=this.getGroupedItems(),this._ensureChildren(),this.updateMenuItemStates(),$.isFunction(this._positioningRoutine)&&this._positioningRoutine.call(this),i&&(r=t&&this.getItem(t),r?r.select():this.selectFirstItem()),this._shouldSelectFirstItem&&(this._shouldSelectFirstItem=!1,this.selectFirstItem()))}},i.prototype.getGroupedItems=function(){var n,t,i;if(!$.isArray(this._itemsSource)||(n=[],t={__ungrouped__:[]},this._itemsSource.forEach(function(n){n.groupId&&(!n.separator||n.separator&&n.text)?t[n.groupId]?t[n.groupId].push(n):t[n.groupId]=[n]:t.__ungrouped__.push(n)}),t.__ungrouped__.length===this._itemsSource.length))return this._itemsSource;for(i=null,t.__ungrouped__=t.__ungrouped__.reduce(function(n,t,r,u){return t.separator&&!t.text&&(i&&i.separator||n.length===0||r===u.length-1)||n.push(t),i=t,n},[]),$.each(t,function(t,i){if(t==="__ungrouped__")return!0;Array.prototype.push.apply(n,i);n.push({separator:!0,isGroupSeparator:!0})}),(t.__ungrouped__.length===0||this._options.doNotSeparateUngroupedItems)&&n.splice(n.length-1,1),Array.prototype.push.apply(n,t.__ungrouped__);n.length>0&&n[n.length-1].separator;)n.splice(n.length-1,1);return n},i.prototype.appendItems=function(n){$.isArray(n)&&n.length&&this.updateItems((this._itemsSource||[]).slice(0).concat(n))},i.prototype.appendItem=function(n){this._createChildMenuItem(n);this._items.push(n)},i.prototype.moveMenuItemAfter=function(n,t){var i;if(n===t)return!0;var f=this._children.indexOf(n),r=this._menuItems.indexOf(n),e=this._items.indexOf(n._item),o=this._children.indexOf(t)+1,u=this._menuItems.indexOf(t)+1,s=this._items.indexOf(t._item)+1;if(f<0||r<0||e<0||o<0||u<0||s<0)return!1;for(a.reorder(this._children,f,o,1),a.reorder(this._menuItems,r,u,1),a.reorder(this._items,e,s,1),i=Math.min(r,u);i<this._menuItems.length;i++)this._menuItems[i].setIndex(i);return n._element.detach(),n._element.insertAfter(t._element),!0},i.prototype.removeItem=function(n){for(var i,t=0,r=this._children;t<r.length;t++)if(i=r[t],i instanceof rt&&i._item===n)return this.removeMenuItem(i);return!1},i.prototype.removeMenuItem=function(n){var t=this._children.indexOf(n),i=this._menuItems.indexOf(n),r=this._items.indexOf(n._item);return t<0||r<0?!1:(this._children.splice(t,1),i>=0&&this._menuItems.splice(i,1),this._items.splice(r,1),n.dispose(),!0)},i.prototype._updateAllSourceMenus=function(){var t=this,n=[];this._items.forEach(function(i){i.pinningOptions&&n.indexOf(i.pinningOptions.groupId)<0&&(n.push(i.pinningOptions.groupId),t.updateSourceMenu(i.pinningOptions.groupId))})},i.prototype.updateSourceMenu=function(n){var i=this.getMenuPinningOptions()||{},r,t;i.isPinningTarget&&i.hideEmptySourceMenu&&(r=a.first(this._menuItems,function(t){return t._item&&t._item.pinningOptions&&t._item.pinningOptions.groupId===n&&!t.isPinned()}),t=a.first(this._menuItems,function(t){var r=t.getSubMenu(),i=r&&r.getMenuPinningOptions();return i&&i.isPinningSource&&i.groupId===n}),t)&&t.setIsHidden(!r)},i.prototype._enhance=function(t){n.prototype._enhance.call(this,t);this._enhanceChildren()},i.prototype._getMenuItemType=function(){return rt},i.prototype.getMenuItemOptions=function(n,t){return $.extend({earlyInitialize:!1,item:n,align:this.getMenuItemAlignment(),overflow:this._options.overflow},t)},i.prototype._getFirstMenuItem=function(){return this._getNextEnabledItem(0)},i.prototype._selectItem=function(n,t,i){if((t===void 0&&(t=!1),i===void 0&&(i=!0),this._selectedItem&&this._selectedItem!==n&&(this._selectedItem.removeHighlight(),this._selectedItem.removeFocus()),this._selectedItem=n,n)&&(n.showHoverHighlight(),!t)){var r=this.getOwner();r._focusItem=n;this._selectedItem.setFocus(i)}},i.prototype.selectDefaultItem=function(){y.tryFocus(this._element)},i.prototype.selectFirstItem=function(){var n=this._getFirstMenuItem();return n?(this._selectItem(n),!0):(this._shouldSelectFirstItem=!0,!1)},i.prototype.selectNextItem=function(){var t=0,r=this._menuItems,i=this._selectedItem,n;return r.length>0&&(i&&(t=i.getIndex()+1),n=this._getNextEnabledItem(t),n)?(n.select(),!0):!1},i.prototype.selectPrevItem=function(){var t=-1,r=this._menuItems,i=this._selectedItem,n;return r.length>0&&(i&&(t=i.getIndex()-1),n=this._getPrevEnabledItem(t),n)?(n.select(),!0):!1},i.prototype.selectDown=function(){if(this._menuItems.length>0){var n=this._getNextVisibleItem(this._selectedItem?this._selectedItem.getIndex()+1:0,{rollOver:!0});if(n)return n.select(),this._ensureVisible(n),!0}return!1},i.prototype.selectUp=function(){if(this._menuItems.length>0&&this._selectedItem){var n=this._getPrevVisibleItem(this._selectedItem?this._selectedItem.getIndex()-1:0,{rollOver:!0});if(n)return n.select(),this._ensureVisible(n),!0}return!1},i.prototype.selectRight=function(){return this._selectedItem&&this._selectedItem.tryShowSubMenu({immediate:!0})?(this._selectedItem.getSubMenu().selectFirstItem(),!0):this.getOwner()!==this?this.getOwner().selectRight({redirected:!0}):void 0},i.prototype.selectLeft=function(){return this._parent&&this._parent._parent!==this.getOwner()?(this.hide({immediate:!0}),this._parent.select(),!0):this.getOwner()!==this?this.getOwner().selectLeft({redirected:!0}):void 0},i.prototype.show=function(n){var f=n&&n.immediate===!0,e=n?n.showTimeout:undefined,t=n&&n.callback,i=n?n.element:null,r=n?n.align:d.RightJustify,u=(n&&n.setFocus)!==!1;if(!i)throw new Error("options.element is required.");return f?(this._showPopup(i,r,u),t&&t()):this._startShowTimeout(i,r,u,e||this.getOwner()._options.showTimeout,t),!0},i.prototype.hide=function(n){var i=n&&n.immediate===!0,r=n?n.hideTimeout:undefined,t=n?n.callback:undefined;i?(this._hidePopup(),t&&t()):this._startHideTimeout(r||this.getOwner()._options.hideTimeout,t)},i.prototype.hideChildren=function(n,t){var i,f,r,u=this._children,e=t&&t.immediate===!0,o=n&&n._item&&n._item.splitDrop;if($.isArray(u))for(i=0,f=u.length;i<f;i++)r=u[i],r!==n&&r!==o&&r.hideSubMenu({immediate:e})},i.prototype.escape=function(){return this.hide({immediate:!0}),this._parent&&this._parent.escaped(),!0},i.prototype.ownFocus=function(){this._selectItem(this._selectedItem)},i.prototype.attach=function(n){this._parent!==n&&this._visible&&this.hide({immediate:!0});this._parent=n},i.prototype.getMenuItemAlignment=function(){return"right-justify"},i.prototype.updateMenuItemStates=function(){try{this._skipUpdateMenuItemStates=!0;this._fireUpdateCommandStates(this)}finally{this._skipUpdateMenuItemStates=!1}this._updateMenuItemStates()},i.prototype.executeAction=function(n){var i;return $.isFunction(this._options.executeAction)&&(i=this._options.executeAction.call(this,n)),i!==!1&&(i=t.menuManager.executeCommand(n)),i},i.prototype._ensureVisible=function(n){if(n&&n.getElement()){var f=n.getElement(),t=this.getElement(),r=f.outerHeight(!0),i=n.getIndex()*r,u=i+r;i<t.scrollTop()?t.scrollTop(i):u-t.height()>t.scrollTop()&&t.scrollTop(u-t.height())}},i.prototype._getItems=function(){var n=this,i,t=!1;return this._items||(this._itemsSource?$.isFunction(this._itemsSource)?(i=this._itemsSource.call(this,this.getOwner().getContextInfo(),function(i){n._asyncLoadingDelay&&(n._asyncLoadingDelay.cancel(),n._asyncLoadingDelay=null);n._items=i||[];t?n._disposed||n._updateItems(n._items,!1):t=!0},function(i){n._asyncLoadingDelay&&(n._asyncLoadingDelay.cancel(),n._asyncLoadingDelay=null);n._items=[{text:kt(i),icon:"icon-tfs-build-failed"}];t?n._disposed||n._updateItems(n._items,!1):t=!0;bt(i)}),t||(t=!0,i||(i=[],this._asyncLoadingDelay=v.delay(this,200,function(){n._asyncLoadingDelay=null;n._updateItems([{text:c.MenuItemsLoading}],!1)})),this._items=i)):this._items=this._itemsSource:this._items=[]),this._items},i.prototype._clear=function(){this._element[0].contains(document.activeElement)&&y.tryFocus(this._element);n.prototype._clear.call(this);this._menuItems=[];this._items=null;this._childrenCreated=!1},i.prototype._createChildMenuItem=function(n,t){var i,r;return r=this.getMenuItemOptions(n,n?n.extraOptions:undefined),i=t?e.Enhancement.enhance(this._getMenuItemType(),t,r):e.BaseControl.createIn(this._getMenuItemType(),this._element,r),i._parent=this,this._children.push(i),i._item.separator||(i.setIndex(this._menuItems.length),this._menuItems.push(i)),n.splitDropOptions&&(n.childItems||n.splitDropOptions.childItems)&&this._createSplitDropMenuItem(n,i),i.initialize(),i},i.prototype._createSplitDropMenuItem=function(n,t){var i=$.extend(n.splitDropOptions,{splitDropItem:t,childItems:n.splitDropOptions.childItems||n.childItems,showText:!1,showHtml:!1,toggled:n.toggled,disabled:n.disabled,noIcon:n.splitDropOptions.noIcon!==undefined?n.splitDropOptions.noIcon:!0,cssClass:n.splitDropOptions.cssClass||"split-drop",splitDropOptions:null});n.splitDrop=this._createChildMenuItem(i);n.childItems=null;t._element.addClass("split-drop-item")},i.prototype._ensureChildren=function(){var t=this,n;this._childrenCreated||($.each(this._getItems(),function(n,i){t._createChildMenuItem(i)}),this._childrenCreated=!0,n=this.getMenuPinningOptions(),n&&n.isPinningTarget&&this._updateAllSourceMenus())},i.prototype._enhanceChildren=function(){var n=this,t=this._getItems();this._element.children("li").each(function(i,r){n._createChildMenuItem($.extend({},t[i],{decorated:!0}),$(r))});this._childrenCreated=!0},i.prototype._getNextVisibleItem=function(n,t){return this._getNextItem(function(n){return!n.isHidden()},n,t)},i.prototype._getNextEnabledItem=function(n,t){return this._getNextItem(function(n){return n.isEnabled()},n,t)},i.prototype._getNextItem=function(n,t,i){function f(t,i){for(var f,r=t;r<=i;r++)if(f=u[r],n(f))return f;return null}var e=i&&i.rollOver===!0,r,u=this._menuItems;return(t=t||0,r=f(t,u.length-1),r)?r:e&&(r=f(0,t),r)?r:null},i.prototype._getPrevVisibleItem=function(n,t){return this._getPrevItem(function(n){return!n.isHidden()},n,t)},i.prototype._getPrevEnabledItem=function(n,t){return this._getPrevItem(function(n){return n.isEnabled()},n,t)},i.prototype._getPrevItem=function(n,t,i){function f(t,i){for(var f,r=i;r>=t;r--)if(f=u[r],n(f))return f;return null}var e=i&&i.rollOver===!0,r,u=this._menuItems;return(t=t||0,r=f(0,t),r)?r:e&&(r=f(t,u.length-1),r)?r:null},i.prototype._ensurePopup=function(){this._ensureInitialized()&&(this._popupElement=this._element);this._ensureChildren()},i.prototype._getPopupAlign=function(n){switch(n){case d.RightJustify:return["left-top","right-top"];case d.RightBottom:return["right-top","right-bottom"];case d.LeftTop:return["left-bottom","left-top"]}return["left-top","left-bottom"]},i.prototype._showPopup=function(n,t,r){var f=this,u;this._clearTimeouts();this._ensurePopup();this._pinElement=n;v.delay(this,300,function(){f._attachAncestorScroll(n)});this.updateMenuItemStates();u=this._getPopupAlign(t);this._element.show();this._positioningRoutine=function(){var f,e,o,t,r;(this._options.alignToMarkerVertical||this._options.alignToMarkerHorizontal)&&($.isFunction(this._options.getAlignmentMarkers)?(o=this._options.getAlignmentMarkers.call(this,this._element,n),f=o.elementAlignmentMarker,e=o.baseAlignmentMarker):(f=this._element.find(".alignment-marker").first(),e=n.find(".alignment-marker:not(.sub-menu .alignment-marker)").first()));t=this._options.overflow;t||(r=this._parent&&this._parent._parent,t=!(r instanceof i)||r instanceof st||r instanceof ot?"fit-flip":"flip-flip");y.Positioning.position(this._element,n,{elementAlign:u[0],baseAlign:u[1],overflow:t,supportScroll:!0,scrollByMarker:this._options.scrollByMarker,alignToMarkerHorizontal:this._options.alignToMarkerHorizontal,alignToMarkerVertical:this._options.alignToMarkerVertical,elementAlignmentMarker:f,baseAlignmentMarker:e})};this._positioningRoutine.call(this);this._visible=!0;this.getOwner()._updateSubMenuVisibleState();r&&this.ownFocus()},i.prototype._hidePopup=function(){this._visible&&this._options.item.dynamic&&this._clear();this._clearTimeouts();this._visible=!1;this._pinElement&&(this._detachAncestorScroll(this._pinElement),this._pinElement=null);this._popupElement&&this._popupElement.hide();delete this._positioningRoutine;this.hideChildren(null,{immediate:!0});this.getOwner()._updateSubMenuVisibleState()},i.prototype._updateMenuItemStates=function(){function e(){t&&t.isHidden()===r&&t.update($.extend(t._item,{separator:!0,hidden:!r}))}for(var n,f=this._children,t,r=!1,i=0,u=f.length;i<u;i++)n=f[i],n.isSeparator()&&!n.isLabel()?(e(),t=n,r=!1):(t&&!n.isHidden()&&(r=!0),n._updateState(),n.updateText());e()},i.prototype._startShowTimeout=function(n,t,i,r,u){var f=this;this._clearTimeouts();this.delayExecute("show",r,!0,function(){f.isDisposed()||(f._showPopup(n,t,i),u&&u())})},i.prototype._startHideTimeout=function(n,t){var i=this;this._clearTimeouts();this.delayExecute("hide",n,!0,function(){i._hidePopup();t&&t()})},i.prototype._clearTimeouts=function(){this.cancelDelayedFunction("show");this.cancelDelayedFunction("hide")},i.prototype._attachAncestorScroll=function(n){this._bind($(n).parents(),"scroll",k(this,this._onParentScroll))},i.prototype._detachAncestorScroll=function(n){this._unbind($(n).parents(),"scroll")},i.prototype._dispose=function(){this._pinElement&&this._detachAncestorScroll(this._pinElement);this._asyncLoadingDelay&&(this._asyncLoadingDelay.cancel(),this._asyncLoadingDelay=null);this._contributedItemsDelay&&(this._contributedItemsDelay.cancel(),this._contributedItemsDelay=null);n.prototype._dispose.call(this)},i.prototype._onParentScroll=function(){y.BrowserCheckUtils.isEdge()&&this._mouseIsDown||this._hidePopup()},i.prototype._onMouseDown=function(){var n=this;this._blockBlurUntilTimeout();y.BrowserCheckUtils.isEdge()&&(this._mouseIsDown=!0,this._bind(window.document,"mouseup",function(){n._mouseIsDown=!1;n._unbind(window.document,"mouseup")},!0))},i.prototype._onMenuKeyDown=function(n){var t=function(){return!n.ctrlKey&&!n.altKey&&!n.shiftKey};switch(n.keyCode){case g.DOWN:if(t())return this.selectDown(),!1;break;case g.UP:if(t())return this.selectUp(),!1;break;case g.RIGHT:if(t())return this.selectRight(),!1;break;case g.LEFT:if(t())return this.selectLeft(),!1;break;case g.ESCAPE:if(this.escape())return!1}},i.prototype._blockBlurUntilTimeout=function(){this._blockBlur=!0;this.delayExecute("blockBlur",200,!0,function(){this._blockBlur=!1})},i.prototype.refreshContributedItems=function(){var n=this;!this._menuContributionProvider&&this._options.contributionIds&&(this._menuContributionProvider=new yt(this,r.getDefaultWebContext(),this._options.contributionIds,this._options.contributionType,this._options.contributionQueryOptions,this._getContributionContext.bind(this),this._contributionProviderOptions),this._contributedItemsDelay=v.delay(this,100,function(){n._contributedItemsDelay=null;n._updateItems(n._items,!1)}));this._refreshContributedMenuItems()},i.prototype._refreshContributedMenuItems=function(){var n=this;this._menuContributionProvider&&(this._contributionPromise=this._menuContributionProvider.getContributedMenuItems(this._getContributionContext()).then(function(t){n._contributedItemsDelay&&(n._contributedItemsDelay.cancel(),n._contributedItemsDelay=null);(n._menuUpdateNeeded||t&&t.length)&&n._updateItemsWithContributions(n._itemsSource,t)}))},i.prototype.updateContributedMenuItems=function(n){var t=this;this._contributionPromise.then(function(){var i=[];(function r(n){Array.prototype.push.apply(i,n);n.forEach(function(n){n.childItems&&n.childItems.length>0&&r(n.childItems)})})(n);i=i.filter(function(n){return!!n.id});t._updateContributedMenuItems(i)})},i.prototype._getContributionContext=function(){var n=this._options.contextInfo?$.extend({},this._options.contextInfo.item):{};return $.isFunction(n.getContributionContext)?n=n.getContributionContext():$.isFunction(this._options.getContributionContext)&&(n=this._options.getContributionContext()),n},i.enhancementTypeName="tfs.menu.menu",i}(it);t.Menu=ut;p.initClassPrototype(ut,{_items:null,_itemsSource:null,_menuItems:null,_selectedItem:null,_focusItem:null,_childrenCreated:!1,_popupElement:null,_visible:!1,_active:!1,_blockBlur:!1,_skipUpdateMenuItemStates:!1,_positioningRoutine:null,_pinElement:null});et=function(n){function i(t){n.call(this,t);this._focusing=!1;this.setEnhancementOptions({role:"menu"});this._align=d.parse(this._options.align)}return __extends(i,n),i.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({markUnselectable:!0,showIcon:!0,showTimeout:500,hideTimeout:500},t))},i.prototype.setShowIcon=function(n){this._options.showIcon=n},i.prototype.initialize=function(){n.prototype.initialize.call(this);this._fire("menuInitialized",{menu:this})},i.prototype._decorate=function(){n.prototype._decorate.call(this);this._element.attr("tabIndex",this._options.inTabOrder===!1?"-1":"0");this._bind(this._element,"keydown",this._onKeyDown.bind(this));this._bind(this._element,"focus",this._onFocus.bind(this));this._element[0].addEventListener("blur",this._onChildBlur.bind(this),!0);this._element[0].addEventListener("focus",this._onChildFocus.bind(this),!0)},i.prototype.getMenuItemAlignment=function(){return this._options.popupAlign||n.prototype.getMenuItemAlignment.call(this)},i.prototype.getMenuItemOptions=function(t,i){return n.prototype.getMenuItemOptions.call(this,t,$.extend({immediateShowHide:!0,clickToggles:!0,type:"static"},i))},i.prototype.escape=function(){return!1},i.prototype.escaped=function(){},i.prototype.isActive=function(){return this._active},i.prototype.activate=function(n){if(n===void 0&&(n=!0),!this._activating){this._activating=!0;try{this._clearBlurTimeout();this._active=!0;n&&y.tryFocus(this._focusElement);$.isFunction(this._options.onActivate)&&this._options.onActivate.call(this)}finally{this._activating=!1}}},i.prototype._hide=function(){this._active&&(this.hide({immediate:!0}),this.ownFocus())},i.prototype._blur=function(){this._clearBlurTimeout();this.hide({immediate:!0});this._disposed||this._selectItem(null);this._active=!1;$.isFunction(this._options.onDeactivate)&&this._options.onDeactivate.call(this);this._disposed||this._options.inTabOrder===!1||this._element.attr("tabindex","0")},i.prototype._updateSubMenuVisibleState=function(){var n,u,t,i=this._menuItems,r;if(this._subMenuVisible=!1,$.isArray(i))for(n=0,u=i.length;n<u;n++)if(t=i[n],t.hasSubMenu()&&(r=t.getSubMenu(),r._parent===t&&r._visible)){this._subMenuVisible=!0;break}},i.prototype._onKeyDown=function(n){if(n.keyCode===g.TAB)this._immediateBlur=!0;else if(n.keyCode===g.F10&&n.shiftKey)return this._onContextMenu(n)},i.prototype._onFocus=function(){this._focusing||(this._focusing=!0,this.activate(!1),!this._selectedItem||this._selectedItem.getIndex()<0||!this._selectedItem._element?this.selectFirstItem():this._selectedItem.select(),this._focusing=!1)},i.prototype._onChildFocus=function(){this._element.attr("tabindex","-1")},i.prototype._onChildBlur=function(){var n=this;v.delay(this,t.BLUR_CLOSE_TIMEOUT,function(){n._disposed||n._element[0].contains(document.activeElement)&&document.hasFocus()||(n._options.inTabOrder!==!1&&n._element.attr("tabindex","0"),n._immediateBlur?(n._immediateBlur=!1,n._blur()):n._blockBlur?n._startBlurTimeout():n._blur())})},i.prototype._proceedBlur=function(){this._canBlur=!0},i.prototype._startBlurTimeout=function(){this.delayExecute("blur",y.Constants.BlurTimeout,!0,function(){this._canBlur?(this._canBlur=!1,this._blur()):this.activate()})},i.prototype._clearBlurTimeout=function(){this.cancelDelayedFunction("blur")},i.prototype._onParentScroll=function(){this._hide()},i.prototype._onResize=function(){this._hide()},i.prototype._onContextMenu=function(){return this.showSubMenuOnFocusedItem()},i.prototype.showSubMenuOnFocusedItem=function(){var n=this._focusItem;return n&&n.tryShowSubMenu({immediate:!0}),!1},i}(ut);t.MenuOwner=et;p.initClassPrototype(et,{_focusItem:null,_focusElement:null,_activating:!1,_subMenuVisible:!1,_align:null,_canBlur:!1,_immediateBlur:!1});ot=function(n){function t(t){n.call(this,t);this.setEnhancementOptions({role:"menubar",coreCssClass:"menu-bar"+(this._options.useBowtieStyle?" bowtie-menus":"")});this._orientation=tt.parse(this._options.orientation);this._type=nt.Static;this._contributionProviderOptions={defaultTextToTitle:!1}}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t)},t.prototype.getMenuItemAlignment=function(){return this._orientation===tt.Horizontal?"left-bottom":"right-justify"},t.prototype.selectUp=function(t){return this._orientation===tt.Vertical?n.prototype.selectUp.call(this):n.prototype.selectLeft.call(this,t)},t.prototype.selectDown=function(t){return this._orientation===tt.Vertical?n.prototype.selectDown.call(this):n.prototype.selectRight.call(this,t)},t.prototype.selectLeft=function(){if(this._orientation===tt.Vertical)return n.prototype.selectLeft.call(this);var t=this._subMenuVisible;return(this.hideChildren(null,{immediate:!0}),n.prototype.selectUp.call(this),t&&(this._subMenuVisible=!0,this._selectedItem.tryShowSubMenu({immediate:!0})))?(this._selectedItem.getSubMenu().selectFirstItem(),!0):!1},t.prototype.selectRight=function(){if(this._orientation===tt.Vertical)return n.prototype.selectRight.call(this);var t=this._subMenuVisible;return(this.hideChildren(null,{immediate:!0}),n.prototype.selectDown.call(this),t&&(this._subMenuVisible=!0,this._selectedItem.tryShowSubMenu({immediate:!0})))?(this._selectedItem.getSubMenu().selectFirstItem(),!0):!1},t.tryActivate=function(n){var t=this._getMenuBar(n);return t?(t.focus(),!0):!1},t.tryShowSubMenu=function(n){var t=this._getMenuBar(n);return t?(t.focus(),v.delay(this,0,function(){t.showSubMenuOnFocusedItem()}),!0):!1},t.prototype.focus=function(){this.activate()},t._getMenuBar=function(n){var t=$(n);return e.Enhancement.getInstance(ct,t)},t.enhancementTypeName="tfs.menu.menubar",t}(et);t.MenuBarO=ot;ct=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(ot);t.MenuBar=ct;p.initClassPrototype(ot,{_orientation:tt.Horizontal});pt=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.escaped=function(){n.prototype.escaped.call(this);this._parent.escaped()},t}(rt);st=function(n){function t(t){n.call(this,$.extend({inTabOrder:!1},t));this.setEnhancementOptions({coreCssClass:"menu-popup"+(this._options.useBowtieStyle?" bowtie-menus":""),hidden:!0});this._type=nt.Popup;this._hidden=this._options.hidden===!0;this._onHide=this._options.onHide}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t)},t.prototype._getMenuItemType=function(){return pt},t.prototype._decorate=function(){n.prototype._decorate.call(this);this._hidden===!0&&this._element.addClass("invisible")},t.prototype.popup=function(n,t){var r=this;if(this._escapeFocusReceiver=n,this._popupPinElement=t,this._floating=!0,this._active)this.escaped();else{var i=null,f=!1,u=function(){i&&(i.cancel(),i=null);r._active||f||(r.activate(),r._showPopupMenu(),f=!0)};this._contributionPromise?(this._contributionPromise.then(u),i=v.delay(this,500,u)):u()}},t.prototype._showPopupMenu=function(){var i=this._getFirstMenuItem(),n=i.getSubMenu(),t=this._options.setFocus!==!1;n&&(n.show({immediate:!0,element:this._popupPinElement,align:this._align,setFocus:t}),t&&n.selectDefaultItem())},t.prototype._updateItemsWithContributions=function(n,t){if(this._contributedItems=t,n&&n.length>0&&n[0].childItems){var i=$.grep(n[0].childItems,function(n){return!n.isContribution});n[0].childItems=i.concat(t)}else n=[{childItems:t}];this._updateCombinedSource(n)},t.prototype._updateCombinedSource=function(t){n.prototype._updateCombinedSource.call(this,t);this._active&&this._showPopupMenu()},t.prototype.selectUp=function(){return!0},t.prototype.selectDown=function(t){var i=t&&t.redirected;return!i&&this._align!==d.RightJustify?n.prototype.selectRight.call(this):!1},t.prototype.selectFirstItem=function(){var t=this._getFirstMenuItem(),n=t.getSubMenu();return n._visible?n.selectFirstItem():!1},t.prototype.selectLeft=function(){return!0},t.prototype.selectRight=function(t){var i=t&&t.redirected;return!i&&this._align===d.RightJustify?n.prototype.selectRight.call(this):!1},t.prototype.escaped=function(){this._floating&&(this._floating=!1,this._escapeFocusReceiver&&(this._escapeFocusReceiver.focus(),this._escapeFocusReceiver=null,$.isFunction(this._options.onPopupEscaped)&&this._options.onPopupEscaped.call(this)))},t.prototype._hidePopup=function(){this._onHide&&this._onHide(this._escapeFocusReceiver);n.prototype._hidePopup.call(this)},t.enhancementTypeName="tfs.menu.popup",t}(et);t.PopupMenuO=st;vt=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(st);t.PopupMenu=vt;p.initClassPrototype(st,{_align:d.RightJustify,_floating:!1,_hidden:!1,_escapeFocusReceiver:null});wt=function(n){function i(t){n.call(this,t)}return __extends(i,n),i.prototype.initialize=function(){var t=this._element.data();n.prototype.initialize.call(this);this._bind(t.commandAction||"click",k(this,this.onCommandExecute));t.commandCompleteEvent&&this._bind(window,t.commandCompleteEvent,k(this,this.onCommandComplete))},i.prototype.onCommandExecute=function(){var n=this._element.data();return n.commandName&&(this._element.prop("disabled",!0),t.menuManager.executeCommand(new h.CommandEventArgs(n.commandName,n.commandArg,this))),!1},i.prototype.onCommandComplete=function(){this._element.removeAttr("disabled")},i}(e.BaseControl);e.Enhancement.registerEnhancement(ct,".menu-bar.enhance");e.Enhancement.registerEnhancement(vt,".menu-popup.enhance");e.Enhancement.registerEnhancement(wt,".single-command");t.sortMenuItems=dt;p.tfsModuleLoaded("VSS.UI.Controls.Menus",t)});
define("TfsCommon/Scripts/Controls/CollapsibleMenu",["require","exports","VSS/Controls/Menus","VSS/Utils/Array"],function(n,t,i,r){(function(n){n[n.Unchanged=1]="Unchanged";n[n.Collapsed=2]="Collapsed";n[n.Expanded=3]="Expanded"})(t.CollapsibleMenuRefitResult||(t.CollapsibleMenuRefitResult={}));var u=t.CollapsibleMenuRefitResult,f=function(n){function t(t){n.call(this,t);this._menuItemWidths={};this._orphanedChildItems={};this._stableSorter=new r.StableSorter(function(n,t){return(n.rank||0)-(t.rank||0)})}return __extends(t,n),t.prototype.initialize=function(){var f=this,i=this._options.items,t,u;if(this._moreMenuItem=i&&r.first(i,function(n){return n.id===f._options.moreItemId}),t=this._moreMenuItem,!t)throw new Error("Could not find 'more' item.");u=t.hidden;t.hidden=!1;t.neverCollapse=!0;t.childItems||(t.childItems=[]);n.prototype.initialize.call(this);this.measureItems();t.hidden=u;this.updateItems(i);this.refit()},t.prototype.refit=function(n){var e,w,r,v;n===void 0&&(n=!0);var y=this.getMenuItemSpecs().length,o=this._moreMenuItem,f=o.childItems||[],s=this._options,h=this.getElement(),i=0,t=[],p=[];for(e=0;e<f.length;++e)w=f[e],w.neverCollapse&&p.push(e);if(this.moveItems(p,!1),r=this._options.getAvailableWidth(),h.width()<=r){do{if(i=this.getNextMovableItemIndex(f,!0,t),i==null)break;var c=f[i],b=c.id,l=this._menuItemWidths[b];if(!l)break;this.shouldAccountForSeparator(c)&&(l+=13);t.length+1===f.length&&(l-=this._moreItemWidth);r-=l;t.push(i)}while(h.width()<=r);t.length>0&&h.width()>r&&t.pop();this.moveItems(t,!1)}else{do{if(i=this.getNextMovableItemIndex(this.getMenuItemSpecs(),!1,t),i==null)break;var c=this.getMenuItemSpecs()[i],k=c.id,a=this._menuItemWidths[k];if(!a)break;this.shouldAccountForSeparator(c)&&(a+=13);o.hidden&&t.length===0&&(a-=this._moreItemWidth);r+=a;t.push(i)}while(h.width()>r);this.moveItems(t,!0)}return v=this.getMenuItemSpecs().length,v===y?u.Unchanged:v>y?(n&&s.expandOutOfMoreAnimationClass&&this.getItem(o.id).getElement().addClass(s.expandOutOfMoreAnimationClass),u.Expanded):(n&&s.collapseToMoreAnimationClass&&this.getItem(o.id).getElement().addClass(s.collapseToMoreAnimationClass),u.Collapsed)},t.prototype.shouldAccountForSeparator=function(n){for(var r,t=0,i=this.getMenuItemSpecs();t<i.length;t++)if(r=i[t],r!==n&&r.groupId===n.groupId)return!1;return!0},t.prototype.moveItems=function(n,t){var e,i,o;if(t===void 0&&(t=!0),n.length!==0){var f=this._moreMenuItem.childItems,u=this.getMenuItemSpecs();for(e=0;e<n.length;++e)i=n[e],t?(typeof this._options.collapseTransform=="function"&&this._options.collapseTransform(u[i]),u[i].removeChildrenOnCollapse&&(this._orphanedChildItems[u[i].id]=u[i].childItems,delete u[i].childItems),f.push(u[i])):(i=n[e],typeof this._options.expandTransform=="function"&&this._options.expandTransform(f[i]),this._orphanedChildItems[f[i].id]&&(f[i].childItems=this._orphanedChildItems[f[i].id]),u.push(f[i]));o=t?u:f;r.removeAllIndexes(o,n);r.removeWhere(o,function(n){return n.isGroupSeparator});this.sortItemSpecs(u);this._moreMenuItem.hidden=f.length===0;this.updateItems(u)}},t.prototype.sortItemSpecs=function(n){var i,r,t;for(this._stableSorter.sort(n),i=0,r=n;i<r.length;i++)t=r[i],t.id===this._options.moreItemId&&t.childItems&&t.childItems.length>0&&this._stableSorter.sort(t.childItems)},t.prototype.measureItems=function(){var n=this;this.getItems().forEach(function(t){var i=t.getElement().outerWidth(!0);t._item.id===n._options.moreItemId&&(n._moreItemWidth=i);n._menuItemWidths[t._item.id]=i})},t.prototype.getNextMovableItemIndex=function(n,t,i){var f,u,r;for(i===void 0&&(i=[]),r=0;r<n.length;++r)i.indexOf(r)>=0||n[r].neverCollapse!==!0&&!n[r].separator&&(u===undefined||(t?u>=n[r].collapseOrder:u<=n[r].collapseOrder))&&(u=n[r].collapseOrder,f=r);return f==null?null:f},t}(i.MenuBarO);t.CollapsibleMenu=f});
define("VSS/Events/Page",["require","exports","VSS/Diag"],function(n,t,i){function e(){return u}var f,r,u;(function(n){n.PageInteractive="page-interactive";n.InitialScriptsLoaded="initial-scripts-loaded"})(f=t.CommonPageEvents||(t.CommonPageEvents={}));r=function(){function n(){this._firedEvents={};this._eventCallbacks={};this._globalCallbacks=[]}return n.prototype.subscribe=function(n,t){t&&(n==="*"?this._subscribeAll(t):this._subscribeEvent(n,t))},n.prototype._subscribeEvent=function(n,t){var r=this._firedEvents[n],i;r?t(r):(i=this._eventCallbacks[n],i||(i=[],this._eventCallbacks[n]=i),i.push(t))},n.prototype._subscribeAll=function(n){var t=this._firedEvents;for(var i in t)t.hasOwnProperty(i)&&n(t[i]);this._globalCallbacks.push(n)},n.prototype.unsubscribe=function(n,t){var i,r;t&&(i=n==="*"?this._globalCallbacks:this._eventCallbacks[n]||[],r=i.indexOf(t),r>=0&&i.splice(r,1))},n.prototype.fire=function(n,t){var r,u,f;if(this._firedEvents[n]){i.logWarning("Event "+n+" already fired. Page events can be fired only once.");return}var e=this._eventCallbacks,o={name:n,args:t},s=[].concat(e[n]||[],this._globalCallbacks);for(r=0,u=s;r<u.length;r++)f=u[r],f&&f(o);delete e[n];this._firedEvents[n]=o;i.logInfo("Page event fired: "+n)},n.prototype.clear=function(){this._firedEvents={};this._eventCallbacks={};this._globalCallbacks=[]},n}();u=new r;t.getService=e});
define("TfsCommon/Scripts/Navigation/Common",["require","exports","VSS/Contributions/Services","VSS/Events/Services","VSS/Service","VSS/Utils/String","VSS/LoaderPlugins/Css!TfsCommon/Navigation/Common"],function(n,t,i,r,u,f){function c(n){return{headerContext:n.options.headerContext}}function s(n,t){var r=null,f;return n||(f=u.getService(i.WebPageDataService),n=f.getPageData(o.HeaderContextContributionId)),n&&n.rightMenu&&(r=n.rightMenu[t]),r}function l(n,t){var i=s(n,t);return i?i.actions:null}function a(n){return n.filter(function(n){return Boolean(n)}).map(function(n){if(n.separator)return{separator:!0};var t={text:n.text,setDefaultTitle:!1,noIcon:!0};return n.cta===!0&&(t.cssClass="cta"),n.commandId?t.id=n.commandId:n.url&&(t.action="navigate",t.arguments={url:n.url},n.targetSelf||(t.arguments.target="_blank")),t})}function y(n){r.getService().fire(h.SELECTED_HUB_CHANGED,this,{selectedHubId:n})}function p(n,t){return{builtIn:!1,groupId:null,id:t||null,isSelected:!1,name:n||null,uri:null,order:0}}function w(n){return f.ignoreCaseComparer(n,o.L1HubSelectorContributionId)===0}function b(n){return f.ignoreCaseComparer(n,o.L2HubsContributionId)===0}var e,o,v,h;t.getHeaderOptions=c;t.getRightMenuItem=s;t.getRightMenuItemAction=l;t.actionsToMenuItem=a;e="ms.vss-tfs-web",function(n){n.HeaderElementContributionType="ms.vss-web.header-element";n.HubsProviderContributionType="ms.vss-web.hubs-provider";n.L1HubSelectorContributionId=e+".header-level1-hub-selector";n.L1HubGroupActionType=e+".hub-group-action";n.L2HubsContributionId=e+".header-level2-hubs";n.L2HubActionsContributionId=e+".header-level2-hub-actions";n.L2CustomHubGroupActionType=e+".custom-hub-group-action";n.L2CustomHubActionType=e+".custom-hub-action";n.L2HubActionType=e+".hub-actions-menu";n.L2BarContributionId=e+".header-level2-bar";n.HubGroupActionContributionType=e+".hub-group-action";n.HeaderContextContributionId=e+".navigation-context-data-provider"}(o=t.Constants||(t.Constants={})),function(n){n.HubSelectorReady="hub-selector-ready";n.ProjectSelectorReady="project-selector-ready"}(v=t.PageEventConstants||(t.PageEventConstants={})),function(n){n.SELECTED_HUB_CHANGED="selected-hub-changed"}(h=t.Events||(t.Events={}));t.triggerSelectedHubChangedEvent=y;t.getDefaultHub=p;t.isLevel1Hubs=w;t.isLevel2Hubs=b});
define("VSS/Settings",["require","exports","VSS/Diag","VSS/VSS"],function(n,t,i,r){(function(n){n[n.Global=0]="Global";n[n.Project=1]="Project";n[n.Team=2]="Team"})(t.LocalSettingsScope||(t.LocalSettingsScope={}));var u=t.LocalSettingsScope,f=function(){function n(n){this._webContext=n}return n.prototype.write=function(n,t,f){f===void 0&&(f=u.Global);var e=this._getScopedKey(n,f);if(e)try{window.localStorage.setItem(e,JSON.stringify({v:t}))}catch(o){i.logError("Failed to write to local storage: "+r.getErrorMessage(o))}},n.prototype.read=function(n,t,f){var o,e;if(t===void 0&&(t=undefined),f===void 0&&(f=u.Global),o=this._getScopedKey(n,f),o)try{if(e=window.localStorage.getItem(o),e&&typeof e=="string")return JSON.parse(e).v}catch(s){i.logWarning("Failed to read from local storage: "+r.getErrorMessage(s))}return t},n.prototype._getScopedKey=function(t,r){var f=this._webContext;switch(r){case u.Global:return n.GLOBAL_SETTING_KEY+"/"+t;case u.Project:return f.project?n.PROJECT_SETTING_KEY+"/"+f.project.id+"/"+t:(i.logWarning("Project scope requested for key '"+t+"' but no project scope in context."),null);case u.Team:return f.team?n.TEAM_SETTING_KEY+"/"+f.team.id+"/"+t:(i.logWarning("Team scope requested for key '"+t+"' but no team scope in context."),null);default:return null}},n.GLOBAL_SETTING_KEY="global",n.PROJECT_SETTING_KEY="project",n.TEAM_SETTING_KEY="team",n}();t.LocalSettingsService=f});
define("TfsCommon/Scripts/Navigation/HubCollection",["require","exports","VSS/Context","VSS/Locations","VSS/Service","VSS/Settings","VSS/Utils/Array","VSS/Utils/String","VSS/Utils/Url"],function(n,t,i,r,u,f,e,o,s){function w(n){c();var t=h.hubGroups||[];return t.filter(function(t){return h.pinningPreferences.unpinnedHubGroupIds.indexOf(t.id)===-1&&!t.hidden&&(n&&!t.nonCollapsible||!n&&t.nonCollapsible)&&!!t.uri})}function b(){c();var n=h.hubGroups||[];return n.filter(function(n){return!n.builtIn&&!n.hidden&&!!n.uri&&h.pinningPreferences.unpinnedHubGroupIds.indexOf(n.id)>=0&&v()!==n.id})}function k(){c();var t=h.hubGroups||[],n=e.first(t,function(n){return n.id===h.selectedHubGroupId});return!n||n.builtIn||h.pinningPreferences.unpinnedHubGroupIds.indexOf(n.id)===-1?undefined:n}function a(n,t,i,r){t===void 0&&(t=!1);i===void 0&&(i=!1);r===void 0&&(r=!1);var u=h.allHubs||[];return u.filter(function(u){return o.defaultComparer(n,u.groupId)===0&&(!t||Boolean(u.builtIn))&&!(i&&Boolean(u.builtIn))&&(!u.hidden||r)})}function d(n){var t=h.hubGroups||[];return e.first(t,function(t){return o.ignoreCaseComparer(n,t.id)===0})}function y(n){c(n);var t=a(n,!1,!0).sort(function(n,t){return n.order-t.order}),i=h.pinningPreferences.pinnedHubs[n],u=h.pinningPreferences.unpinnedHubs[n],f=t.filter(function(n){return i.indexOf(n.id)>=0&&!n.hidden}),e=t.filter(function(n){return u.indexOf(n.id)>=0&&!n.hidden}),o=t.filter(function(n){return i.indexOf(n.id)===-1&&u.indexOf(n.id)===-1&&!n.hidden}),r={};return i.forEach(function(n,t){r[n]=t}),f.sort(function(n,t){return r[n.id]-r[t.id]}),{pinnedHubs:f.concat(o),unpinnedHubs:e}}function g(){return a(h.selectedHubGroupId,!0,!1)}function nt(){var n=y(h.selectedHubGroupId),t=n.unpinnedHubs.filter(function(n){return n.isSelected});return{pinnedHubs:n.pinnedHubs.concat(t),unpinnedHubs:n.unpinnedHubs.filter(function(n){return!n.isSelected})}}function v(){return h.selectedHubGroupId}function p(){return h.selectedHubId}function tt(n){return o.defaultComparer(n.id,h.selectedHubGroupId)===0}function it(n){return o.defaultComparer(n.id,h.selectedHubId)===0}function rt(n){return!h.pinningPreferences||!h.pinningPreferences.pinnedHubGroupIds?!1:h.pinningPreferences.pinnedHubGroupIds.indexOf(n.id)!==-1}function ut(n){return!h.pinningPreferences||!h.pinningPreferences.unpinnedHubGroupIds?!1:h.pinningPreferences.unpinnedHubGroupIds.indexOf(n.id)!==-1}function ft(n){c();h.pinningPreferences.pinnedHubGroupIds.push(n.id);e.remove(h.pinningPreferences.unpinnedHubGroupIds,n.id)}function et(n){c();h.pinningPreferences.unpinnedHubGroupIds.push(n.id);e.remove(h.pinningPreferences.pinnedHubGroupIds,n.id)}function ot(n){var t=h.pinningPreferences&&h.pinningPreferences.unpinnedHubs[n.groupId]||[];return t.indexOf(n.id)===-1}function st(n){c(n.groupId);h.pinningPreferences.pinnedHubs[n.groupId].push(n.id);e.remove(h.pinningPreferences.unpinnedHubs[n.groupId],n.id)}function ht(n){c(n.groupId);e.remove(h.pinningPreferences.pinnedHubs[n.groupId],n.id);h.pinningPreferences.unpinnedHubs[n.groupId].push(n.id)}function ct(n,t,r,e){var o;n===void 0&&(n=!1);t===void 0&&(t=!1);r===void 0&&(r=!1);e===void 0&&(e=!1);var c=u.getLocalService(f.LocalSettingsService),a=v(),h=i.getPageContext().navigation;c.write(l+"/"+a,p());n&&i.getDefaultWebContext().team&&(o={controller:h.currentController},t&&(o.action=h.currentAction,r&&(o.parameters=h.currentParameters?h.currentParameters.split("/"):undefined,e&&(o.query=s.getQueryParameters(window.location.href)))),c.write(l+"/"+a+"/urlInfo",o,f.LocalSettingsScope.Team))}function lt(n,t){t===void 0&&(t=h.allHubs);for(var i=0;i<t.length;++i)if(t[i].id===n)return t[i];return null}function at(n){var h=i.getPageContext().navigation,o=a(n.id,!1,!1,!0),s=u.getLocalService(f.LocalSettingsService),c=s.read(l+"/"+n.id,null),e=lt(c,o),t;return(i.getDefaultWebContext().team&&(t=s.read(l+"/"+n.id+"/urlInfo",{},f.LocalSettingsScope.Team)),t&&t.controller&&e)?r.urlHelper.getMvcUrl({controller:t.controller,action:t.action,parameters:t.parameters,queryParams:t.query,level:h.topMostLevel}):(e||(e=o[0]),e)?e.uri:null}function c(n){h.pinningPreferences||(h.pinningPreferences={});h.pinningPreferences.pinnedHubGroupIds||(h.pinningPreferences.pinnedHubGroupIds=[]);h.pinningPreferences.unpinnedHubGroupIds||(h.pinningPreferences.unpinnedHubGroupIds=[]);h.pinningPreferences.pinnedHubs||(h.pinningPreferences.pinnedHubs={});h.pinningPreferences.unpinnedHubs||(h.pinningPreferences.unpinnedHubs={});n&&(h.pinningPreferences.pinnedHubs[n]||(h.pinningPreferences.pinnedHubs[n]=[]),h.pinningPreferences.unpinnedHubs[n]||(h.pinningPreferences.unpinnedHubs[n]=[]))}var h=i.getHubsContext()||{},l="LastUsedHubs";t.getHubGroupsForL1Bar=w;t.getHubGroupsForMoreMenu=b;t.getActiveHubGroupForMenu=k;t.getHubsByGroupId=a;t.getHubGroupById=d;t.getPinnedHubsByGroupId=y;t.getBuiltinHubsForSelectedHubGroup=g;t.getContributedHubsForSelectedHubGroup=nt;t.getSelectedHubGroupId=v;t.getSelectedHubId=p;t.isSelectedHubGroup=tt;t.isSelectedHub=it;t.isHubGroupPinned=rt;t.isHubGroupUnpinned=ut;t.pinHubGroup=ft;t.unpinHubGroup=et;t.isHubPinned=ot;t.pinHub=st;t.unpinHub=ht;t.rememberSelectedHubDetails=ct;t.getHubGroupUrl=at});
define("TfsCommon/Scripts/Navigation/Utils",["require","exports","q","VSS/Contributions/Controls","VSS/Contributions/Services","VSS/Service","TfsCommon/Scripts/Navigation/Common"],function(n,t,i,r,u,f,e){function o(n,t,u,f){return r.getBackgroundInstance(n,n.properties.registeredObjectId||n.id).then(function(t){if(!t)throw new Error("Provider not found for the contribution "+n.id);return i(t.getContainerHub({contributionId:u,refreshDelegate:f}))}).then(function(n){var u,i,r,f;if(n){if(typeof n.order!="number"&&$.isArray(n.children))for(n.order=Number.MAX_VALUE,u=n.children,i=0,r=u;i<r.length;i++)f=r[i],n.order=Math.min(f.order,n.order);t.push(n)}return n},function(n){window.console&&window.console.warn(n.message)})}function s(n,t,r){var s=[],h=f.getService(u.ExtensionService).queryContributions([n],u.ContributionQueryOptions.IncludeAll|u.ContributionQueryOptions.LocalOnly,e.Constants.HubsProviderContributionType);return h.then(function(n){for(var e,l,h=[],f=0,c=n;f<c.length;f++)e=c[f],u.ExtensionHelper.hasContent(e)&&(l=o(e,s,t,r),h.push(l));return i.allSettled(h).then(function(){return s})})}t.getHubsFromProviders=s});
define("VSS/Settings/RestClient",["require","exports","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r){"use strict";function h(n){return window.VSS&&window.VSS.VssSDKRestVersion&&o[window.VSS.VssSDKRestVersion]?i.getClient(o[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):i.getClient(f,undefined,undefined,undefined,n)}var e=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t.prototype.setEntriesForScope=function(n,t,i,r){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Settings",locationId:"4cbaafaf-e8af-4570-98d1-79ee99c56327",resource:"Entries",routeTemplate:"_apis/{area}/{scopeName}/{scopeValue}/{resource}/{userScope}/{*key}",routeValues:{userScope:t,scopeName:i,scopeValue:r},apiVersion:this.entriesApiVersion,data:n})},t.prototype.removeEntriesForScope=function(n,t,i,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Settings",locationId:"4cbaafaf-e8af-4570-98d1-79ee99c56327",resource:"Entries",routeTemplate:"_apis/{area}/{scopeName}/{scopeValue}/{resource}/{userScope}/{*key}",routeValues:{userScope:n,scopeName:t,scopeValue:i,key:r},apiVersion:this.entriesApiVersion})},t.prototype.getEntriesForScope=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Settings",locationId:"4cbaafaf-e8af-4570-98d1-79ee99c56327",resource:"Entries",routeTemplate:"_apis/{area}/{scopeName}/{scopeValue}/{resource}/{userScope}/{*key}",responseIsCollection:!0,routeValues:{userScope:n,scopeName:t,scopeValue:i,key:r},apiVersion:this.entriesApiVersion})},t.prototype.setEntries=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Settings",locationId:"cd006711-163d-4cd4-a597-b05bad2556ff",resource:"Entries",routeTemplate:"_apis/{area}/{resource}/{userScope}/{*key}",routeValues:{userScope:t},apiVersion:this.entriesApiVersion_cd006711,data:n})},t.prototype.removeEntries=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Settings",locationId:"cd006711-163d-4cd4-a597-b05bad2556ff",resource:"Entries",routeTemplate:"_apis/{area}/{resource}/{userScope}/{*key}",routeValues:{userScope:n,key:t},apiVersion:this.entriesApiVersion_cd006711})},t.prototype.getEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Settings",locationId:"cd006711-163d-4cd4-a597-b05bad2556ff",resource:"Entries",routeTemplate:"_apis/{area}/{resource}/{userScope}/{*key}",responseIsCollection:!0,routeValues:{userScope:n,key:t},apiVersion:this.entriesApiVersion_cd006711})},t}(r.VssHttpClient),u,f,s,o;t.CommonMethods3To3_1=e;u=function(n){function t(t,i){n.call(this,t,i);this.entriesApiVersion=this.entriesApiVersion_cd006711="3.1-preview.1"}return __extends(t,n),t}(e);t.SettingsHttpClient3_1=u;f=function(n){function t(t,i){n.call(this,t,i);this.entriesApiVersion=this.entriesApiVersion_cd006711="3.0-preview.1"}return __extends(t,n),t}(e);t.SettingsHttpClient3=f;s=function(n){function t(t,i){n.call(this,t,i)}return __extends(t,n),t}(u);t.SettingsHttpClient=s;o={"3.1":u,"3.0":f};t.getClient=h});
define("TfsCommon/Scripts/Navigation/SettingsService",["require","exports","VSS/Contributions/Services","VSS/Service","VSS/Settings/RestClient"],function(n,t,i,r,u){var f=function(n){function t(){n.call(this);this.initializeSettings()}return __extends(t,n),t.prototype.initializeSettings=function(){var n=r.getService(i.WebPageDataService);this._prefs=n.getPageData(t.DATA_PROVIDER_ID)||{};this._prefs[t.USER_KEY]||(this._prefs[t.USER_KEY]={})},t.prototype.setUserSetting=function(n,i){this._prefs[t.USER_KEY][n]=i;var f={};return f[t.PREFIX+n]=i,r.getClient(u.SettingsHttpClient).setEntries(f,"me")},t.prototype.getUserSetting=function(n,i){var r=this._prefs[t.USER_KEY][n];return r!==undefined&&r!==null?r:i},t.DATA_PROVIDER_ID="ms.vss-tfs-web.navigation-settings-data-provider",t.PREFIX="Navigation/",t.USER_KEY="user",t}(r.VssService);t.SettingsService=f});
define("TfsCommon/Scripts/Resources/TFS.Resources.TfsCommon",["require","exports"],function(require,exports){var e=exports;e.UnpinnedHubsMenuTitle="More ...";e.NewTeamProjectText="New team project";e.ProjectSelectorLabel="Project Selector";e.NavigationContextMenuDefaultLabelTitle="Select a project";e.NavigationContextMenuDefaultLabel="Projects";e.KeyboardShortcutDescription_ShowShortcuts="Show shortcuts";e.SettingsMenuTitle="Settings";e.NewTeamText="New team";e.NavigationContextMenuTeamLabelTitleFormat="Team \u0027{0}\u0027 in Project \u0027{1}\u0027";e.KeyboardShortcutDescription_GoHome="Go home";e.KeyboardShortcutDescription_GoCode="Go to code";e.KeyboardShortcutDescription_GoWork="Go to work";e.KeyboardShortcutDescription_GoTest="Go to test";e.NavigationTourProjectSelectorTitle="Quickly get to recent projects";e.KeyboardShortcutDescription_Search="Search";e.UnpinMenuItemText="Unpin";e.NavigationTourHomeHubGroupTitle="Get started";e.NavigationTourWelcomeTitle="Getting around is now easier";e.MoreHubsMenuTitle="More ...";e.KeyboardShortcutDescription_GoSettings="Go to settings";e.NavigationTourProjectSelectorText="Use the project selector to quickly jump to recent projects and teams, jump home, create new projects, and more.";e.NavigationContextMenuTeamLabelFormat="{0} / {1}";e.AccountSettings="Account Settings";e.UnpinnedItemsSeparatorText="Unpinned items";e.NavigationTourHomeHubGroupText="Your favorite areas and the most common activities are now just a click away in the new hub drop-down menus. Start exploring today!";e.KeyboardShortcutDescription_ProjectsAndTeams="Projects and teams";e.NavigationContextMenuProjectLabelTitleFormat="Project \u0027{0}\u0027";e.KeyboardShortcutDescription_GoBuild="Go to build";e.RecentProjectsTeamsLabel="Recent projects/teams";e.NavigationTourMoreHubGroupTitle="Other stuff";e.KeyboardShortcutDescription_FocusPrevious="Focus previous section";e.KeyboardShortcutGroup_Global="Global";e.KeyboardShortcutDescription_FocusNext="Focus next section";e.BrowseAllTeams="Browse all";e.PinMenuItemText="Pin";e.NavigationTourCloseButton="Close";e.NavigationTourSettingsHubGroupTitle="Settings in one place";e.MoreMenuItemTitle="More items";e.NavigationContextMenuHostedBackTo="Account home";e.NavigationTourWelcomeButton="Show me";e.NavigationTourWelcomeText="We\u0027ve made it easier to get around, navigate to your favorite projects, and do common activities. Take a moment to explore and see what\u0027s new.";e.NavigationTourMoreHubGroupText="Discover other hubs under More that you can pin to the main navigation bar.";e.NavigationTourNextButton="Next";e.NavigationContextMenuOnPremBackTo="Server home";e.MoreItemsSeparatorText="More items";e.NavigationTourSettingsHubGroupText="Admins can easily access project and team settings from within the main web experience.";e.ProjectWithCollectionLabel="{0} ({1})";e.NavigationTourSettingsHubGroupHostedText="Admins can easily access account, project and team settings from within the main web experience.";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("TfsCommon/Scripts/Navigation/L1.HubSelector",["require","exports","VSS/Bundling","TfsCommon/Scripts/Controls/CollapsibleMenu","VSS/Context","VSS/Contributions/Services","VSS/Controls","VSS/Events/Page","TfsCommon/Scripts/Navigation/Common","TfsCommon/Scripts/Navigation/HubCollection","TfsCommon/Scripts/Navigation/Utils","TfsCommon/Scripts/Navigation/SettingsService","q","TfsCommon/Scripts/Resources/TFS.Resources.TfsCommon","VSS/SDK/Shim","VSS/Service","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/UI","VSS/VSS","VSS/LoaderPlugins/Css!TfsCommon/Navigation/L1.HubSelector"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){function ut(){p.getService(f.ExtensionService).getLoadedContributionsOfType(s.Constants.HubsProviderContributionType).then(function(n){for(var u,e,t=[],r=0,o=n;r<o.length;r++)u=o[r],f.ExtensionHelper.hasInternalContent(u)&&(e=u.properties.content.require,e&&w.addRange(t,e));t.length&&i.loadModules(t,{excludeOptions:d.DynamicModuleExcludeOptions.CommonModules})});p.getService(f.ExtensionService).getLoadedContributionsOfType(s.Constants.HubGroupActionContributionType)}var rt=8,tt=function(n,t){return n.order-t.order},g=function(n){var t={id:n.id,text:n.name,setDefaultTitle:!1,hidden:n.hidden,disabled:n.disabled};return n.icon&&(t.icon=n.icon),n.isDefault&&(t.cssClass="hub-default"),n.uri&&(t.href=n.uri),t},nt=function(){return{cssClass:"second-level-menu",alignToMarkerVertical:!0,scrollByMarker:!0,getAlignmentMarkers:function(n,t){return{elementAlignmentMarker:n,baseAlignmentMarker:t.closest(".sub-menu")}}}},it=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({contributionId:s.Constants.L1HubSelectorContributionId},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this.attachEvents();ut();var t=u.getHubsContext()||{};t.selectedHubGroupId==="ms.vss-work-web.work-hub-group"?h.rememberSelectedHubDetails(!0,!0,!0):h.rememberSelectedHubDetails();this.initializeHubGroupCollapsing();this.renderHubGroups();o.getService().fire(s.PageEventConstants.HubSelectorReady)},t.prototype.attachEvents=function(){this._bind("menuUpdatingContributedItems",this.onContributedItemsUpdating.bind(this))},t.prototype.hubGroupToMenuItem=function(n){var r=this,u=this,e=h.getHubGroupUrl(n),i=h.isSelectedHubGroup(n),t={id:n.id,text:n.name,setDefaultTitle:!1,childItems:function(n,t,i){u.getHubGroupItems(this.getParent(),function(n){var i=n.filter(function(n){return!n.separator});t(i.length>1?n:null)},i)},hideDrop:!0,noIcon:!n.icon,selected:i,extraOptions:{contributionIds:[n.id],contributionType:s.Constants.L1HubGroupActionType,contributionQueryOptions:f.ContributionQueryOptions.IncludeAll|f.ContributionQueryOptions.LocalOnly},pinningMenuOptions:{isPinningTarget:!0,hideUnpinnedItems:!0,pinItemsToEnd:!0,hideEmptySourceMenu:!0},clickOpensSubMenu:!1,href:e,neverCollapse:i};return n.icon&&(t.noIcon=!1,t.icon=n.icon,t.showText=!1,t.title=t.text),n.builtIn&&n.id&&(t.cssClass=n.id.replace(/\./g,"-")),n.builtIn||n.hidden||(t.pinningOptions={isPinnable:!0,isPinned:!h.isHubGroupUnpinned(n),neverHide:t.selected,hidePin:!0,onPinnedChanged:function(t,i,u){r.onHubGroupPinnedChanged(n,i,t,u)}}),t},t.prototype.renderHubGroups=function(){var o=this,n=h.getHubGroupsForL1Bar(!0).map(function(n){return o.hubGroupToMenuItem(n)}),c=h.getHubGroupsForL1Bar(!1).map(function(n){return o.hubGroupToMenuItem(n)}),l=this.getMoreMenuItems(),p={id:"more",title:v.MoreMenuItemTitle,cssClass:"more-item",childItems:l,hidden:l.length===0,hideDrop:!0,showHtml:!1,showText:!1,icon:"bowtie-icon bowtie-ellipsis",collapseOrder:null,clickOpensSubMenu:!1,idIsAction:!1,pinningMenuOptions:{isPinningSource:!0,hidePinnedItems:!0},rank:9999999800},w,u=s.getRightMenuItemAction(this._options.headerContext,"adminSettings"),f,i,a,t,y;u&&u.default&&(w=u.default.url);f=h.getActiveHubGroupForMenu();f&&(i=this.hubGroupToMenuItem(f),i.pinningOptions&&(i.pinningOptions.neverHide=!0),n.push(i));a=1;t=1;n.forEach(function(n){n.collapseOrder=n.collapseOrder===undefined?a++:n.collapseOrder;n.rank?t=n.rank+1:n.rank=t++});t=9999999901;c.forEach(function(n){n.rank?t=n.rank+1:n.rank=t++});n.push(p);n.push({separator:!0,rank:9999999900});n=n.concat(c);y={items:n,cssClass:"hubs-menubar l1-menubar",pinningMenuOptions:{isPinningTarget:!0,hideUnpinnedItems:!0,pinItemsToEnd:!0},useBowtieStyle:!0,alwaysOpenSubMenuOnHover:!0,moreItemId:"more",getAvailableWidth:this.getAvailableWidth.bind(this),collapseToMoreAnimationClass:"balloon",collapseTransform:this.collapseTransform,expandTransform:this.expandTransform};this.getElement().find(".hubs-menubar").remove();this._menuBar=e.create(r.CollapsibleMenu,this.getElement(),y)},t.prototype.collapseTransform=function(n){n.hideDrop=!1;n.extraOptions=nt();n.noIcon=!1;n.pinningOptions?n.pinningOptions.neverHide=!0:n.pinningOptions={neverHide:!0}},t.prototype.expandTransform=function(n){n.noIcon=!0;delete n.extraOptions;n.hideDrop=!0},t.prototype.getAvailableWidth=function(){var n=this._element.closest("td.center-section"),t=n.prev(),i=n.next(),r=t.width()+i.width();return this._element.closest(".main-container")[0].scrollWidth-r},t.prototype.getMoreMenuItems=function(){var t=this,i=1e7,n=h.getHubGroupsForMoreMenu().map(function(n){var r={id:n.id,text:n.name,setDefaultTitle:!1,rank:i++,pinningOptions:{isPinnable:!0,isPinned:!h.isHubGroupUnpinned(n),onPinnedChanged:function(i,r,u){t.onHubGroupPinnedChanged(n,r,i,u)}}};return n.uri&&(r.arguments={url:n.uri},r.action="navigate"),r});return n.length>0&&n.unshift({separator:!0,text:v.UnpinnedItemsSeparatorText,setDefaultTitle:!1,rank:9999999,cssClass:"with-text"}),this.fixIconSpacing(n),n},t.prototype.getHubGroupItems=function(n,t,i){var e=this;if(n){var r=n.getCommandId(),u=this.getContributedHubItems(r),f=function(){e.getHubGroupMenuItems(r,u,f).then(function(t){n.getSubMenu().updateItems(t)})};this.getHubGroupMenuItems(r,u,f).then(t,i)}else i(new Error("Hubs cannot be loaded because container hub group cannot be found."))},t.prototype.getHubGroupMenuItems=function(n,t,i){var r=this;return this.getBuiltInHubItems(n,i).then(function(i){var u=i;return i.length===0&&(u=r.getBuiltInHubs(n).map(g)),u.length>0&&t.length>0&&u.push({separator:!0}),u=u.concat(t),r.addPinMenuItem(n,u),r.fixIconSpacing(u),u})},t.prototype.getPinMenuItemSpec=function(n){return{id:"pin",text:n?v.UnpinMenuItemText:v.PinMenuItemText,icon:n?"bowtie-icon bowtie-unpin":"bowtie-icon bowtie-pin-unpin",setDefaultTitle:!1,action:function(){var n=this,t=n._parent._parent;t.toggleIsPinned(undefined,{unfocus:!1})}}},t.prototype.addPinMenuItem=function(n,t){var i=h.getHubGroupById(n),r;i.builtIn||(r=!h.isHubGroupUnpinned(i),t.push.apply(t,[{separator:!0},this.getPinMenuItemSpec(r)]))},t.prototype.fixIconSpacing=function(n){if(n.length>0){var t=n.filter(function(n){return!!n.icon}).length>0;n.forEach(function(n){n.separator||(n.noIcon=!t)})}},t.prototype.getBuiltInHubs=function(n){var t=h.getHubsByGroupId(n,!0,!1);return t.sort(tt),t},t.prototype.getBuiltInHubItems=function(n,t){var u=this,i=a.defer(),r=this.getBuiltInHubs(n);return c.getHubsFromProviders(n,this._options.contributionId,t).then(function(n){n.length>0?(r=r.concat(n),i.resolve(r)):i.resolve([])},i.reject),i.promise.then(function(n){var a,i,e,t,r,o,s,p,h,c,y,l,f;for(n.sort(tt),a=[],i=[],e=0;e<n.length;e+=1)if(t=n[e],t.targetHubId)a.push(t);else if($.isArray(t.children)){for(r=t.children,r.sort(tt),t.beforeSeparator&&i.push({separator:!0,text:t.name,setDefaultTitle:!1,cssClass:t.name?"with-text":""}),o=Math.min(rt,r.length),s=0;s<o;s+=1)i.push(g(r[s]));r.length>o&&(p=r.slice(o),h={text:v.MoreHubsMenuTitle,setDefaultTitle:!1,childItems:p.map(g),extraOptions:nt(),cssClass:"with-text"},u.fixIconSpacing(h.childItems),h.childItems.unshift({separator:!0,text:v.MoreItemsSeparatorText,setDefaultTitle:!1,cssClass:"with-text"}),i.push(h));t.afterSeparator&&i.push({separator:!0})}else i.push(g(t));for(c=0,y=a;c<y.length;c++)l=y[c],l.children&&(f=w.first(i,function(n){return n.id===l.targetHubId}),f&&(u.addTargetHubsDelegate(l,f),f.action&&(f.clickOpensSubMenu=!1)));return i})},t.prototype.addTargetHubsDelegate=function(n,t){var i=this;t.childItems=function(t,r,u){var f=$.isFunction(n.children)?n.children():n.children;a(f).then(function(n){n.sort(tt);var t=n.map(g);i.fixIconSpacing(t);r(t)},function(n){u(n)})};t.extraOptions=nt()},t.prototype.hubToPinnableMenuItem=function(n,t,i){var u=this,r=g(n);return r.pinningOptions={isPinnable:!0,isPinned:h.isHubPinned(n),hidePin:i,onPinnedChanged:function(t,i){u.onHubPinnedChanged(t,n,i)}},r},t.prototype.getContributedHubItems=function(n){var r=this,c=u.getHubsContext(),f=h.getHubsByGroupId(n,!1,!0).sort(function(n,t){return n.order-t.order}),e=h.getPinnedHubsByGroupId(n),t=[],o=h.getHubGroupById(n),i,s;return t.push.apply(t,e.pinnedHubs.map(function(n){return r.hubToPinnableMenuItem(n,!0,!1)})),t.push.apply(t,e.unpinnedHubs.map(function(n){return r.hubToPinnableMenuItem(n,!1,!1)})),o&&o.builtIn&&t.length>0&&t.unshift({separator:!0}),f.length>0&&(i={text:v.UnpinnedHubsMenuTitle,setDefaultTitle:!1,pinningMenuOptions:{isPinningSource:!0,hidePinnedItems:!0,closeOnPin:!1},hideIfAllChildrenHidden:!0,extraOptions:nt()},i.childItems=[{separator:!0,text:v.UnpinnedItemsSeparatorText,setDefaultTitle:!1,cssClass:"with-text"}],(s=i.childItems).push.apply(s,f.map(function(n){return r.hubToPinnableMenuItem(n,h.isHubPinned(n),!1)})),this.fixIconSpacing(i.childItems),t.push(i)),t},t.prototype.onHubPinnedChanged=function(n,t,i){var r=u.getHubsContext();r&&r.pinningPreferences&&(i?h.pinHub(t):h.unpinHub(t),this.savePinnedSettings(r))},t.prototype.onHubGroupPinnedChanged=function(n,t,i,r){for(var e,s,c,f=0,o=[i,r];f<o.length;f++)e=o[f],e&&e.hasSubMenu()&&(s=e.getSubMenu().getItem("pin"),s&&s.update(this.getPinMenuItemSpec(t)));(c=u.getHubsContext(),c)&&(t?h.pinHubGroup(n):h.unpinHubGroup(n),this.savePinnedSettings(c),this.renderHubGroups(),this._menuBar.refit(!1))},t.prototype.savePinnedSettings=function(n){p.getLocalService(l.SettingsService).setUserSetting("PinningPreferences",n.pinningPreferences)},t.prototype.onContributedItemsUpdating=function(n,t){var f,r,u,i;if(t.contributedItems)for(f=t.contributedItems,r=0,u=f;r<u.length;r++)i=u[r],i.setDefaultTitle=!1,i.childItems&&i.id&&i.id.indexOf("hub-group-action")>=0&&(i.extraOptions||(i.extraOptions=nt()),i.action&&(i.clickOpensSubMenu=!1)),i.id&&i.id.indexOf("cta")>=0&&(i.cssClass="cta")},t.prototype.initializeHubGroupCollapsing=function(){var n=this;b.delay(this,0,function(){k.attachResize(document.body,b.throttledDelegate(n,50,n.onWindowResized,undefined,b.ThrottledDelegateOptions.NeverResetTimer))});this._bind(this.getElement().closest("tr.header-row"),"l1HeaderLayoutUpdated",function(){n._menuBar&&n._menuBar.refit()})},t.prototype.onWindowResized=function(){var n=$("#ms-vss-tfs-web-header-level1-project-selector");n.length!==0&&this._menuBar&&this._menuBar.refit()},t}(e.Control);t.HubSelector=it;y.registerContent("navbar.level1.hubSelector",function(n){e.Enhancement.enhance(it,n.$container.find(".hub-selector"),s.getHeaderOptions(n))})});
define("TfsCommon/Scripts/Navigation/L1.ProjectSelector",["require","exports","VSS/Controls","VSS/Events/Page","VSS/Controls/Menus","TfsCommon/Scripts/Navigation/Common","TfsCommon/Scripts/Resources/TFS.Resources.TfsCommon","VSS/SDK/Shim","VSS/VSS","VSS/LoaderPlugins/Css!TfsCommon/Navigation/L1.ProjectSelector"],function(n,t,i,r,u,f,e,o,s){var h=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"project-selector-nav-menu"},t))},t.prototype.getOptions=function(){return this._options},t.prototype.initialize=function(){n.prototype.initialize.call(this);var t=this;this.getItem("teams").updateItems(function(n,i,r){var u=this;s.using(["TfsCommon/Scripts/Navigation/TFS.Projects.Mru"],function(n){n.projectsMru.getMruTeamMenuItems(t.getOptions().headerOptions.headerContext).then(function(n){i(n);var r=t._element.width(),f=u._element.width();f<r&&u._element.width(r)},r)})});r.getService().fire(f.PageEventConstants.ProjectSelectorReady)},t}(u.MenuBar);t.ProjectSelector=h;o.registerContent("navbar.level1.projectSelector",function(n){i.Enhancement.enhance(h,n.$container.find(".l1-project-selector"),{headerOptions:f.getHeaderOptions(n),ariaLabel:e.ProjectSelectorLabel})})});
define("TfsCommon/Scripts/Navigation/L1.RightMenuBar",["require","exports","VSS/Context","VSS/Controls","VSS/Controls/Menus","TfsCommon/Scripts/Navigation/Common","VSS/SDK/Shim","VSS/VSS","VSS/LoaderPlugins/Css!TfsCommon/Navigation/L1.RightMenuBar"],function(n,t,i,r,u,f,e,o){var c="l1-send-a-smile",s="send-a-smile-positive",h="send-a-smile-negative",l=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({executeAction:this.onExecuteAction.bind(this),alwaysOpenSubMenuOnHover:!0},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this.getItem("l1-extensions").updateItems(this.getExtensionsMenuItems());i.getPageContext().webAccessConfiguration.isHosted&&this.getItem(c).updateItems(function(n,t){o.using(["Engagement/Resources/VSS.Resources.Engagement","Engagement/SendASmile/Utils"],function(n,i){var r=[{id:s,text:n.SendASmileSentimentSelectionPositive,setDefaultTitle:!1,icon:"bowtie-icon bowtie-feedback-positive-outline"},{id:h,text:n.SendASmileSentimentSelectionNegative,setDefaultTitle:!1,icon:"bowtie-icon bowtie-feedback-negative-outline"}];i.Utils.publishTelemetry(i.Telemetry.Area,i.Telemetry.Actions.PopUp);t(r)})});this.getItem("profile").updateItems(this.getProfileMenuItems());this.getItem("ellipsis").updateItems(this.getHelpMenuItems())},t.prototype.getRightMenubarActions=function(){var n=this._options;return f.getRightMenuItemAction(n.headerContext,"rightMenuBar")},t.prototype.getExtensionsMenuItems=function(){var t=this.getRightMenubarActions(),n=[];return n.push(t.market),n.push(t.gallery),n.push(t.extensions),f.actionsToMenuItem(n)},t.prototype.getProfileMenuItems=function(){var n=this.getRightMenubarActions(),t=[],i;return t.push(n.profile),t.push(n.alerts),t.push(n.security),t.push(n.usage),n.toggleNewNavFeature&&(t.push({separator:!0}),t.push(n.toggleNewNavFeature)),n.toggleNewAccountPageFeature&&t.push(n.toggleNewAccountPageFeature),t.push({separator:!0}),t.push(n.signInAs),t.push(n.signOut),n.profile&&(n.profile.targetSelf=!0),n.security&&(n.security.targetSelf=!0),n.usage&&(n.usage.targetSelf=!0),n.signInAs&&(n.signInAs.targetSelf=!0),n.signOut&&(n.signOut.targetSelf=!0,n.signOut.cta=!0),i=f.actionsToMenuItem(t),i.unshift(this.getProfileInfoItem()),i},t.prototype.getProfileInfoItem=function(){var u=f.getRightMenuItem(this._options.headerContext,"rightMenuBar"),e=u.properties.IdentityImageUri,n=i.getPageContext().webContext.user,t=n.name,r=n.uniqueName,o='\n<img src="'+e+'" class="profile-image" />\n<div class="profile-menu-name" title="'+t+'">'+t+'<\/div>\n<div class="profile-menu-unique-name" title="'+r+'">'+r+"<\/div>\n        ";return{id:"profileInfo",cssClass:"profile-info-item",html:o,disabled:!0}},t.prototype.getHelpMenuItems=function(){var n=this.getRightMenubarActions(),t=[];return t.push(n.welcome),t.push(n.msdn),t.push(n.gettingStarted),t.push(n.community),t.push(n.support),t.push(n.keyboardShortcuts),t.push(n.privacy),t.push(n.about),n.about&&(n.about.targetSelf=!0),f.actionsToMenuItem(t)},t.prototype.onExecuteAction=function(n){var t=this,i=n.get_commandName();switch(i){case h:case s:o.using(["Engagement/SendASmile/FeedbackService","Engagement/SendASmile/FeedbackForm","Engagement/SendASmile/Utils","VSS/LoaderPlugins/Css!VSS.Features.Engagement"],function(n,r,u){var f,o,e;t.feedbackService||(t.feedbackService=new n.FeedbackService);f=i===s?n.SentimentValues.positive:n.SentimentValues.negative;o=new r.ModalFeedbackForm(f,t.feedbackService);o.setup();e={};e[u.Telemetry.PropertyKeys.SentimentValue]=n.SentimentValues[f];u.Utils.publishTelemetry(u.Telemetry.Area,u.Telemetry.Actions.SentimentSelect,e)})}},t}(u.MenuBar);e.registerContent("navbar.level1.rightMenuBar",function(n){r.Enhancement.enhance(l,n.$container.find(".right-menu-bar"),f.getHeaderOptions(n))})});
define("TfsCommon/Scripts/Navigation/L2.Bar",["require","exports","VSS/Context","VSS/Controls","VSS/Controls/Header","TfsCommon/Scripts/Navigation/Common","VSS/SDK/Shim","VSS/LoaderPlugins/Css!TfsCommon/Navigation/L2.Bar"],function(n,t,i,r,u,f,e){var s="hub-bar",h='<table class="header-table" cellspacing="0" cellpadding="0">\n    <tr>\n        <td class="left-section"><\/td>\n        <td class="right-section"><\/td>\n    <\/tr>\n<\/table>',o=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this.getElement().children().length===0&&this.getElement().append(h);this.renderContributions()},t}(u.ContributableHeader);t.L2Bar=o;e.registerContent("navbar.level2.bar",function(n){var u=i.getHubsContext()||{},t;u.hubs&&u.hubs.length>1&&(t=n.$container.find("."+s),t.length>0?r.Enhancement.enhance(o,t):r.create(o,n.$container,{cssClass:s,contributionId:f.Constants.L2BarContributionId,elementContributionType:f.Constants.HeaderElementContributionType}))})});
define("TfsCommon/Scripts/Navigation/L2.CustomActions",["require","exports","VSS/Contributions/Controls","VSS/Contributions/Services","VSS/Controls","TfsCommon/Scripts/Navigation/Common","TfsCommon/Scripts/Navigation/HubCollection","VSS/SDK/Shim","VSS/Service","VSS/LoaderPlugins/Css!TfsCommon/Navigation/L2.CustomActions"],function(n,t,i,r,u,f,e,o,s){var c="custom-actions",h=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);var t=this._options,u=this.getElement();s.getService(r.ExtensionService).getContributionsForTarget(t.contributionId,t.contributionType).then(function(n){n.forEach(function(n){var t=u.find("#"+n.id.replace(/\./g,"-"));t.length>0?i.createContributedControl(t,n,{ownsContainer:!0}):i.createContributedControl(u,n)})})},t}(u.Control);t.CustomActions=h;o.registerContent("navbar.level2.customActions",function(n){var r=e.getSelectedHubGroupId(),t,i;r&&(t={contributionId:r,contributionType:f.Constants.L2CustomHubGroupActionType},i=n.$container.find("."+c),i.length>0?u.Enhancement.enhance(h,i,t):(t.cssClass=c,u.create(h,n.$container,t)))});o.registerContent("navbar.level2.customHubActions",function(n){var t=e.getSelectedHubId();t&&u.create(h,n.$container,{cssClass:"custom-hub-actions",contributionId:t,contributionType:f.Constants.L2CustomHubActionType})})});
define("TfsCommon/Scripts/Navigation/L2.HubActions",["require","exports","VSS/Controls","VSS/Controls/Menus","TfsCommon/Scripts/Navigation/Common","TfsCommon/Scripts/Navigation/HubCollection","VSS/SDK/Shim","VSS/LoaderPlugins/Css!TfsCommon/Navigation/L2.HubActions"],function(n,t,i,r,u,f,e){var o=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"hub-actions"},t))},t.prototype.initialize=function(){var e=this,t,f;n.prototype.initialize.call(this);t={items:[],cssClass:"hub-actions-menubar",contributionIds:this._options.contributionIds,contributionType:u.Constants.L2HubActionType,useBowtieStyle:!0};f=i.create(r.MenuBar,this.getElement(),t);f._bind("menuContributedItemsUpdated",function(){e._fire("l2HeaderLayoutUpdated")})},t}(i.Control);t.HubActions=o;e.registerContent("navbar.level2.hubActions",function(n){var t=f.getSelectedHubId(),r=f.getSelectedHubGroupId();(t||r)&&i.create(o,n.$container,{contributionIds:[t,r]})})});
define("TfsCommon/Scripts/Navigation/L2.HubList",["require","exports","TfsCommon/Scripts/Controls/CollapsibleMenu","VSS/Controls","VSS/Events/Services","TfsCommon/Scripts/Navigation/Common","TfsCommon/Scripts/Navigation/HubCollection","TfsCommon/Scripts/Navigation/Utils","TfsCommon/Scripts/Resources/TFS.Resources.TfsCommon","VSS/SDK/Shim","VSS/Utils/Core","VSS/Utils/UI","VSS/LoaderPlugins/Css!TfsCommon/Navigation/L2.HubList"],function(n,t,i,r,u,f,e,o,s,h,c,l){var a="currently-selected",y="hub-list",v=function(n){function t(){n.apply(this,arguments);this.popups={};this.nextCollapseOrder=0}return __extends(t,n),t.prototype.initialize=function(){var t=this;n.prototype.initialize.call(this);this.getBuiltInHubs().then(function(n){var i=t.getContributedHubs();t.renderHubs(n.concat(i.pinnedHubs),i.unpinnedHubs)});u.getService().attachEvent(f.Events.SELECTED_HUB_CHANGED,function(n,i){t.updateSelectedHub(i.selectedHubId)});this.initializeHubCollapsing()},t.prototype.getMenuItemFromHubId=function(n){var t=this.menuBar.getItem(n),i;return t||(i=this.menuBar.getItem("more"),t=i.getSubMenu().getItem(n)),t},t.prototype.updateSelectedHub=function(n){var t;n&&(t=this.getMenuItemFromHubId(n))&&(this.menuBar.getItems().forEach(function(n){n._item.cssClass=n._item.cssClass?n._item.cssClass.replace(a,""):"";n._item.neverCollapse=!1}),t._item.neverCollapse=!0,t._item.cssClass=a,this.menuBar.updateItems(this.menuBar.getMenuItemSpecs()),t.getParentMenu()!==this.menuBar&&this.menuBar.refit())},t.prototype.getBuiltInHubs=function(){var n=e.getBuiltinHubsForSelectedHubGroup();return o.getHubsFromProviders(e.getSelectedHubGroupId(),this._options.contributionId).then(function(t){return n.concat(t.reduce(function(n,t){return n.concat(t.children?t.children:t)},[]))})},t.prototype.getContributedHubs=function(){return e.getContributedHubsForSelectedHubGroup()},t.prototype.hubToMenuItem=function(n){var t={id:n.id,text:n.name,setDefaultTitle:!1,hideDrop:!0,noIcon:!0,cssClass:n.isSelected?a:"",href:n.uri,neverCollapse:n.isSelected,groupId:n.builtIn?"builtin":"contributed"};return n.order?(t.rank=n.order,t.collapseOrder=n.order,this.nextCollapseOrder=n.order+1):(t.rank=this.nextCollapseOrder,t.collapseOrder=this.nextCollapseOrder,this.nextCollapseOrder++),t},t.prototype.renderHubs=function(n,t){var o=this,c=function(n,t){return n.order-t.order},e,u,f,h;n.sort(c);e=n.map(function(n){return o.hubToMenuItem(n)});u={id:"more",cssClass:"more-item",title:s.MoreMenuItemTitle,hidden:!0,hideDrop:!0,showHtml:!1,showText:!1,icon:"bowtie-icon bowtie-ellipsis",collapseOrder:null,neverCollapse:!0,rank:9999999980,clickOpensSubMenu:!1,idIsAction:!1,childOptions:{overflow:"fit-flip"}};t.length>0&&(f=[{separator:!0,text:s.UnpinnedItemsSeparatorText,setDefaultTitle:!1,cssClass:"with-text",groupId:"contributed"}],f.push.apply(f,t.map(function(n){return o.hubToMenuItem(n)})),u.hidden=!1,u.childItems=f);e.push(u);h={items:e,cssClass:"hubs-menubar l2-menubar",useBowtieStyle:!0,moreItemId:"more",getAvailableWidth:this.getAvailableWidth.bind(this),collapseToMoreAnimationClass:"balloon",collapseTransform:this.collapseTransform,expandTransform:this.expandTransform,alwaysOpenSubMenuOnHover:!0,doNotSeparateUngroupedItems:!0};this.getElement().find(".hubs-menubar").remove();this.menuBar=r.create(i.CollapsibleMenu,this.getElement(),h)},t.prototype.getAvailableWidth=function(){var t=this._element.closest("td.left-section"),n=t.next(),i=n.next(),r=this._element.closest(".internal-content-host").siblings(".internal-content-host").toArray().map(function(n){return $(n).width()}).reduce(function(n,t){return n+t},0),u=n.width()+i.width()+r;return this._element.closest(".main-container")[0].scrollWidth-u},t.prototype.collapseTransform=function(n){n.hideDrop=!1;n.noIcon=!1},t.prototype.expandTransform=function(n){n.noIcon=!0;n.hideDrop=!0},t.prototype.initializeHubCollapsing=function(){var n=this;c.delay(this,0,function(){l.attachResize(document.body,c.throttledDelegate(n,50,n.onWindowResized,undefined,c.ThrottledDelegateOptions.NeverResetTimer))});this._bind(this.getElement().closest("tr.header-row"),"l2HeaderLayoutUpdated",function(){n.menuBar&&n.menuBar.refit()})},t.prototype.onWindowResized=function(){this.menuBar&&this.menuBar.refit()},t}(r.Control);t.HubList=v;h.registerContent("navbar.level2.hubList",function(n){var t=n.$container.find("."+y);t.length>0?r.Enhancement.enhance(v,t,{contributionId:f.Constants.L2HubsContributionId}):r.create(v,n.$container,{cssClass:y,contributionId:f.Constants.L2HubsContributionId})})});
define("TfsCommon/Scripts/Navigation/Bundle",["require","exports","TfsCommon/Scripts/Navigation/L1.HubSelector","TfsCommon/Scripts/Navigation/L1.ProjectSelector","TfsCommon/Scripts/Navigation/L1.RightMenuBar","TfsCommon/Scripts/Navigation/L2.Bar","TfsCommon/Scripts/Navigation/L2.CustomActions","TfsCommon/Scripts/Navigation/L2.HubActions","TfsCommon/Scripts/Navigation/L2.HubList"],function(){});
define("Presentation/Scripts/TFS/TFS.Host.MultiEntitySearch.Preference",["require","exports","VSS/Service","VSS/Settings"],function(n,t,i,r){"use strict";var u=function(){function n(){}return n.getUserPreference=function(t,u){var f,o=u?r.LocalSettingsScope.Project:r.LocalSettingsScope.Global,e;return t&&(e=n.getKey(t),f=i.getLocalService(r.LocalSettingsService).read(e,null,o)),f||null},n.setUserPreference=function(t,u,f){var o=f?r.LocalSettingsScope.Project:r.LocalSettingsScope.Global,e;t&&(e=n.getKey(t),i.getLocalService(r.LocalSettingsService).write(e,u,o))},n.getKey=function(t){return n.SearchEntityKeyPrefix.concat("/",t)},n.SearchEntityKeyPrefix="SearchEntity",n}();t.MultiEntitySearchPreference=u});
define("Presentation/Scripts/TFS/TFS.Host.MultiEntitySearch",["require","exports","VSS/Bundling","VSS/Context","VSS/Controls","VSS/Diag","VSS/Controls/Menus","Presentation/Scripts/TFS/TFS.Host.MultiEntitySearch.Preference","VSS/Utils/Core","VSS/Utils/UI","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h,c){var a=s.delegate,l=h.domElem,v=r.getPageContext(),y=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initialize=function(){var t=this,i;n.prototype.initialize.call(this);this._element.addClass("noDrop");this._$inputLabel=$(l("label","searchbox-label hidden")).attr("for","searchbox").appendTo(this._element);this._input=$(l("input","search-text")).attr("type","text").attr("id","searchbox").attr("disabled","disabled").attr("spellcheck","false").focus(function(){$(this).parent().addClass("input-focus")}).blur(function(){$(this).parent().removeClass("input-focus")}).keydown(a(this,this.onKeyDown,this._element.hasClass("no-entity-dropdown"))).click(a(this,this.onClick)).appendTo(this._element);i=$(l("span","bowtie-icon bowtie-search")).toggleClass("align-right",this._element.hasClass("no-entity-dropdown")).appendTo(this._element).click(a(this,this.doSearch));this._$entitySelectorDropdownIcon=$(l("span","entity-selector-down bowtie-icon bowtie-chevron-down"));this._element.hasClass("no-entity-dropdown")||this._$entitySelectorDropdownIcon.appendTo(this._element).click(a(this,this.showEntitySelectorMenu));this._$entitySelectorDropdownContainer=$(l("div","search-popup")).appendTo(this._element);this._$entityHelpDropdownContainer=$(l("div","search-help-popup")).appendTo(this._element);$(document).click(function(n){if(!t._input.is(n.target)&&t._input.has(n.target).length===0){var i;i=t._entityHelpDropdown instanceof e.PopupMenu?t._entityHelpDropdown.getElement():t._entityHelpDropdown;i&&!i.is(n.target)&&i.has(n.target).length===0&&(t._entityHelpDropdown instanceof e.PopupMenu?t.resetEntityHelpPopupMenu():t._entityHelpDropdown.hide())}});this.registerSearchAdapterEnhancement()},t.prototype.registerSearchAdapterEnhancement=function(){try{var t=v.navigation.currentController,i=Boolean(v.webContext.project),n=o.MultiEntitySearchPreference.getUserPreference(t,i);n?this.configureSearchBoxBasedOnUserPreference(n):this.configureSearchBoxForDefaultEntity()}catch(r){this.configureSearchBoxForDefaultEntity()}},t.prototype.configureSearchBoxForDefaultEntity=function(){$(".global-search-adapter-code").length===1?i.requireModules(["Search/Scripts/Providers/Code/TFS.Search.Registration.SearchAdapters"],{excludeOptions:c.DynamicModuleExcludeOptions.CommonModules}).spread(function(n){u.Enhancement.registerEnhancement(n.GlobalCodeSearchAdapter,".global-search-adapter-code")}):$(".global-search-adapter-work-items").length===1&&i.requireModules(["Search/Scripts/Providers/WorkItem/TFS.Search.Registration.WorkItemSearchAdapter"],{excludeOptions:c.DynamicModuleExcludeOptions.CommonModules}).spread(function(n){u.Enhancement.registerEnhancement(n.MultiEntityWorkItemSearchAdapter,".global-search-adapter-work-items")})},t.prototype.configureSearchBoxBasedOnUserPreference=function(n){var t=$(".global-search-adapter"),r;if(t&&t.length===1)switch(n){case"Code":i.requireModules(["Search/Scripts/Providers/Code/TFS.Search.Registration.SearchAdapters"],{excludeOptions:c.DynamicModuleExcludeOptions.CommonModules}).spread(function(n){r=n.GlobalCodeSearchAdapter;u.Enhancement.enhance(r,t)});break;case"Work items":i.requireModules(["Search/Scripts/Providers/WorkItem/TFS.Search.Registration.WorkItemSearchAdapter"],{excludeOptions:c.DynamicModuleExcludeOptions.CommonModules}).spread(function(n){r=n.MultiEntityWorkItemSearchAdapter;u.Enhancement.enhance(r,t)});break;default:throw new Error("Invalid search entity.");}else throw new Error(".global-search-adapter not found.");},t.prototype.setAdapter=function(n){var t;this._searchAdapter=n;t=n.getWatermarkText();h.Watermark(this._input,{watermarkText:t});this._$inputLabel.text(t);this._input.attr("title",n.getTooltip());this._input.removeAttr("disabled");this._element.toggleClass("noDrop",!n.hasDropdown());this.resetEntitySelectorMenu();this._fire("searchEnabled")},t.prototype.resetEntitySelectorMenu=function(){this._$entitySelectorDropdownContainer.empty();this._entitySelectorDropdown=null},t.prototype.onKeyDown=function(n,t){if(n.keyCode===h.KeyCode.ENTER)return this.doSearch(n),!1;if(t||n.keyCode!==h.KeyCode.PAGE_DOWN){if(n.keyCode===h.KeyCode.ESCAPE)return this.resetEntityHelpPopupMenu(),t||this.resetEntitySelectorMenu(),!1;n.keyCode===h.KeyCode.DOWN&&this._entityHelpDropdown&&this._entityHelpDropdown.selectFirstItem&&this._entityHelpDropdown.selectFirstItem()}else return this.resetEntityHelpPopupMenu(),this.showEntitySelectorMenu(),!1},t.prototype.onClick=function(){this.popUpHelpDropdown()},t.prototype.doSearch=function(n){var t=$.trim(this._input.val());t&&this._searchAdapter&&(this._searchAdapter.performSearch(t,p.openInNewTab(n)),this.resetEntitySelectorMenu(),this.resetEntityHelpPopupMenu())},t.prototype.popUpHelpDropdown=function(){var n=this;!this._entityHelpDropdown&&this._searchAdapter?this._searchAdapter.getHelpDropdownMenu(this._input,this._$entityHelpDropdownContainer,this,function(t){n._entityHelpDropdown=t;n.showHelpDialog()}):this.showHelpDialog()},t.prototype.showHelpDialog=function(){var n=this._entityHelpDropdown instanceof e.PopupMenu;n?this._entityHelpDropdown.popup&&this._entityHelpDropdown.popup(this._input,this._$entityHelpDropdownContainer):(this._entityHelpDropdown.show(),this._input.focus())},t.prototype.showEntitySelectorMenu=function(){this._searchAdapter&&this._searchAdapter.hasDropdown()&&(this._entitySelectorDropdown||(this._entitySelectorDropdown=u.BaseControl.createIn(e.PopupMenu,this._$entitySelectorDropdownContainer,{align:"right-bottom",items:[{childItems:this._searchAdapter.getEntitySelectorDropdownItems}],executeAction:a(this,this.onEntitySelectionChange)})),this._entitySelectorDropdown.popup(this._input,this._element))},t.prototype.onEntitySelectionChange=function(n){var f=$(".global-search-adapter"),t=n.get_commandArgument().adapter,i,r;u.Enhancement.enhance(t,f);try{i=v.navigation.currentController;r=Boolean(v.webContext.project);o.MultiEntitySearchPreference.setUserPreference(i,t.prototype.getEntityId(),r)}catch(n){}return this.resetEntityHelpPopupMenu(),this._input.val()!==""?this.doSearch(n):this._input.click(),!1},t.prototype.resetEntityHelpPopupMenu=function(){this._$entityHelpDropdownContainer.empty();this._entityHelpDropdown=null},t}(u.BaseControl),w,p;t.MultiEntitySearchBox=y;u.Enhancement.registerEnhancement(y,".multi-entity-search-box");w=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype._enhance=function(n){var t=u.Enhancement.ensureEnhancement(y,n);t&&t.setAdapter(this)},t.prototype.hasDropdown=function(){return!1},t.prototype.getEntitySelectorDropdownItems=function(n,t){t([])},t.prototype.getWatermarkText=function(){return""},t.prototype.getTooltip=function(){return this.getWatermarkText()},t.prototype.getHelpDropdownMenu=function(n,t,i,r){r($(l("div")))},t.prototype.performSearch=function(){},t.prototype.getEntityId=function(){return null},t}(u.Enhancement);t.MultiEntitySearchAdapter=w;p=function(){function n(){}return n.openInNewTab=function(n){return n&&n.ctrlKey&&!n.altKey&&(n.type==="click"||n.keyCode===h.KeyCode.ENTER)},n}();t.SearchBoxHelper=p});
define("Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation",["require","exports"],function(require,exports){var e=exports;e.JumpstartGotoCode="Add code";e.ChartConsolidatedItemsTooltip="To fit within the chart, a set of items were consolidated into this single element:\r\n{0}";e.MoveToIteration_Backlog="Backlog";e.AreaChartName="Area";e.KeyboardShortcutDescription_OpenQueries="Open queries";e.ProjectNameNotSpecified="Project name must be specified.";e.NewTeamProjectText="New team project";e.RelatedArtifacts_DuplicateKey="An item with the same key already exists";e.UnpinFromHomepageTooltipText="Unpin from homepage";e.SnapshotChartsLabel="Snapshot";e.ChartsRemainingItems="(other)";e.JumpstartGotoBacklog="Manage work";e.WorkingTitle="Working...";e.ManualTestButtonText="Start manual testing";e.ItemSecurityTitle="Security...";e.XTPromotionQuickStartOkButtonContent="Install";e.AddToTeamFavoritesTitle="Add to team favorites";e.MembersAddIdentitySeparationKey="semicolons";e.ChartConfigurationLabel_RollingPeriod="Rolling period";e.InfoCustomProcessesShort="Reporting and SharePoint integration steps will be skipped when creating a team project from the Web.";e.AnnouncementCloseButtonTitle="Hide this module.  Select \u0026#34;Display announcement\u0026#34; from the help menu to make it visible again.";e.OpenPlatformSubtitle="Extend and empower Visual Studio Team Services with your favorite third-party apps and services";e.PowerBIBackgroundImage="PowerBI.png";e.PivotTableTotalText="Total";e.OpenPlatformTitle="Integrate with other services";e.VsLinksOpenInVsTitle="Open in Visual Studio";e.TeamInputPlaceholder="Select a team";e.AboutTFSLearnSubtitle_OnPrem="Access online help for Team Foundation Server";e.RelatedArtifacts_RemainingCount="({0} of {1})";e.ChartDimensionValue_NotRun="Not run";e.ErrorMissingDataForPinningWidget="Not Enough data in commandArgs to pin widget";e.StateCategoryRemoved="Removed";e.XTPromotionQuickStartContent="Drive quality in your agile teams - capture your findings, create tasks/bugs/tests and collaborate with each other, right from your browser.";e.AboutTFSPricingSubtitle="Free for up to 5 users";e.RelatedArtifacts_SummaryNotShown="Not shown: {0}";e.AboutTFSLearnSubtitle_Hosted="Access online help for Visual Studio Team Services";e.ChartOrderResults_Descending="Descending";e.FilteredListNoItems="No items";e.LinkedArtifacts_RemoveLink="Remove link";e.ProjectCreationErrorGeneral="There was an error creating your project.";e.CodeSearchPromotionQuickStartTitle="Search for code across your projects";e.XTPromotionQuickStartCancelButtonContent="Not now";e.ErrorLoadingProjects="Cannot load recent project. Refresh the page to try again.";e.TeamRooms="Team rooms";e.TeamLabel="Team";e.CreateProjectProcessTemplateLabel="Process template";e.NavigationContextMenuDefaultLabelTitle="Select a project";e.PowerBITileSubTitle="Monitor, analyze, and share your VSTS data using Power BI";e.ProgressControl_SummaryProgressToolTip="{0} remaining of {1} total capacity";e.ChartMessage_Loading="Loading...";e.BacklogDoesNotExistMessage="Backlog level \u0027{0}\u0027 does not exist.";e.ChartConfigurationLabel_Rows="Rows";e.ChartConfigurationLabel_Sort="Sort";e.AccountTrialStartAccountTrial="Start account trial";e.SourceControlSystemDescriptionTFVC="Team Foundation Version Control (TFVC) uses a single, centralized server repository to track and version files.  Local changes are always checked in to the central server where other developers can get the latest changes.";e.InlineEdit_Cancel="Cancel";e.RoomExplorer_NewRoom="New";e.AboutTFSPricingTitle="Pricing";e.MembersFinishTitle="Life is better with friends!";e.NewsTitle="News";e.ProjectVisibilityLabel="Shared with";e.PinToHomepageTitle="Pin to homepage";e.ChartDimensionValue_NotApplicable="Not applicable";e.SourceControlSystemDescriptionGit="Git is a Distributed Version Control System (DVCS) that uses a local repository to track and version files.  Changes are shared with other developers by pushing and pulling changes through a remote, shared repository.";e.ChartDimensionValue_Failed="Failed";e.LinkedArtifacts_ColumnHeader_State="State";e.AboutTFSAdminSubtitle="Manage projects, users, groups and permissions";e.ProgressControl_NoCurrentValue="({0})";e.gettingStartedContentVideourl="https://go.microsoft.com/fwlink/?LinkId=513324";e.InfoArea_DefaultMD_base="[Learn more](https://go.microsoft.com/fwlink/p/?LinkId=524306) about Markdown.";e.AzureBenefitSubTitle="Download software, use Azure services, view online training and more";e.TeamRoomPanelTitle="Recent team rooms";e.TryAllFeatures="Try out all the features for 90 days";e.InfoArea_DefaultReadmeMD_base="**Update this README.md file**.\\\\r\\\\n\\\\r\\\\n A README.md file is intended to quickly orient readers to what your project can do.\\\\r\\\\n [Learn more](https://go.microsoft.com/fwlink/p/?LinkId=524306) about Markdown.";e.ConfirmToDeleteChart="Do you want to delete the chart \u0027{0}\u0027?";e.ChartTooltipRemainingItemsOmitted="... (Additional items were omitted)";e.NavigationContextMenuDefaultLabel="Projects";e.TabNameContainsInvalidCharacters="Tab name contains invalid characters.";e.MembersFinishContent="The users you invited are now members of your team. You can now assign work, collaborate on code and ship great software!";e.MembersAddIdentity1Title="Add a user";e.MembersAddIdentity1Content1="Type the name or sign in address of the user you want to add. Use {0} to add multiple users.";e.MembersAddIdentity1Content2="When you are done, click on {0}.";e.LinkedArtifacts_ResolutionFailed="This {0} could not be read";e.VsLinksOpenInVsTooltip="Open Visual Studio and connect to this project with Team Explorer.";e.ConfigureChartDialogTitle="Configure Chart";e.ProjectNameInvalid="The project name is not valid.";e.CreateProjectProjectNameInvalidDescription="For more information about valid naming conventions for projects, see the topic \"Naming Restrictions for Team Foundation Server\" on the Microsoft Web site: \u003ca href=\"https://go.microsoft.com/fwlink/?LinkId=77936\" target=\"_blank\"\u003ehttps://go.microsoft.com/fwlink/?LinkId=77936\u003c/a\u003e";e.LinkedArtifacts_ColumnHeader_LastUpdate="Latest Update";e.VsLinksGetVsIconTitle="Get Visual Studio";e.ProgressControl_DefaultProgressText="({0} of {1})";e.AddNewItemsToolTip="Add: {0}";e.ProjectCreationErrorTryAgain="try again";e.CodeAnalysisAuthor="Code Analysis Bot";e.ProjectInputPlaceholder="Select a project";e.BacklogInputPlaceholder="Select a backlog level";e.MembersAddButtonTitle="Manage members of your team";e.SidebarSearchWatermark="Search...";e.Chart2DValueTooltip="{0}, {1}: {2}";e.AreaChartAdvancedTooltip="Use this chart type to highlight the change in magnitude of a category over time.";e.TabStrip_Menu_InsertLeft="Insert left";e.NavigationContextMenuTeamLabelTitleFormat="Team \u0027{0}\u0027 in Project \u0027{1}\u0027";e.CreateFirstProjectWelcomeText="Welcome.  Your account, \u003ca href=\u0027{0}\u0027 target=\u0027_blank\u0027\u003e{0}\u003c/a\u003e, is created and ready to go.  Now create your first team project where you’ll host your code and backlog. ";e.Stakeholder_NoProjectMessage="No projects available in the account. Contact the account owner to {0}.";e.AnnouncementCloseTileIcon="icon-close-small";e.MarkdownExternalLinkTooltip="External link";e.NewRoom="New Room";e.ProjectLabel="Team Project";e.ItemSecurityTooltipText="Security settings";e.Saving="Saving ...";e.UnpinFromHomepageTitle="Unpin from homepage";e.AddToMyFavoritesTooltip="Add to my favorites";e.ColumnChartAdvancedTooltip="Use this chart type to compare categories.";e.PowerBITitle="Visualize data across your enterprise";e.ChartDimensionValue_Passed="Passed";e.LineChartAdvancedTooltip="Use this chart type to show how category values change relative to each other over time.";e.EnterFullScreenModeTooltip="Enter full screen mode";e.ProjectVisibilityDescriptionEveryoneInTenant="Allow all users in your tenant to have read access to your project.";e.ResourceUsageTitle="Resource usage";e.ChartDimensionValue_Blocked="Blocked";e.TeamDoesNotExistMessage="Team \u0027{0}\u0027 does not exist.";e.TabStrip_Menu_MoveUp="Move up";e.CreateProjectNamePlaceholderText="Type your project name, e.g My first project";e.ChartSizeMissingMessage="Chart Control requires a width and height to be specified.";e.SourceControlSystemNameTFVC="Team Foundation Version Control";e.ChartMessage_NoDataToDisplay_Header="Last time you checked";e.RMOAnnouncementTileSubTitle="Reduce your cycle time to improve your value delivery";e.LinkedArtifacts_ItemError="This {0} could not be read.";e.EnterChartTitle="Enter Chart Title";e.ChartConfigurationLabel_Columns="Columns";e.ChartsListLoading="Loading...";e.SignInToViewBoard="You must sign in to view this board.";e.MoveToIteration="Move to iteration";e.AjaxRequestFailedWithStatus="Ajax request failed with status: {0}.";e.GalleryPromotionNewFeatureText="Discover, try and buy extensions to enhance your development experience.";e.CreateReadMeWithProjectLabel="Create a README.md file to describe this project";e.TestHubContentWelcome="Deliver high quality projects with enhanced Manual/User acceptance testing, Automated unit/functional testing and Performance/Load testing.";e.MembersAddUserDialogSaveChanges="Save changes";e.AboutTFSFeaturesSubtitle_OnPrem="What does Team Foundation Server have to offer?";e.TabStrip_Menu_Delete="Delete";e.VsLinksGetVsTitle="Get Visual Studio";e.GettingStartedVideos="https://go.microsoft.com/fwlink/?LinkID=512562";e.CodeSearchPromotionQuickStartCancelButtonContent="Not now";e.Stakeholder_NoProjectMessage_LinkText="create a new project";e.ResourceUsageLearnMore="Learn more";e.AddToTeamFavoritesTooltipText="Add to team favorites";e.AnnouncementId="1";e.gettingStartedContentImageurl="https://go.microsoft.com/fwlink/?LinkId=513325";e.BacklogLevelLabel="Backlog Level";e.BarChartName="Bar";e.FilteredListTooManyMatches="Showing {0} of {1} matches. Click here to show all.";e.MembersFinishOkButton="Let’s plan the sprint";e.ElsVsoIntegrationTitle="Load Testing";e.CodeSearchQuickStartContent="Start by typing a simple search like \u003cb\u003etodo\u003c/b\u003e or a method name in the search box. Press \u003cb\u003eEnter\u003c/b\u003e when you\u0027re done";e.LineChartName="Line";e.AboutTFSFeaturesSubtitle_Hosted="What does Visual Studio Team Services have to offer?";e.InfoArea_Repo_Commit="\"Adding repository documentation\"";e.ProjectMruListProjectIconTitle="Project";e.TestHubAutomateTestContent="Automate testing using build-deploy-test workflows and make sure your app still works after every check-in.";e.TeamAwarenessAssignTo="Assign to";e.AzureBenefitTitle="Enjoy free benefits";e.ChartOrderResults_ByValue="Value";e.CreateProjectDescriptionLabel="Description";e.LinkedArtifacts_TooManyLinks="You have too many links. Some links cannot be viewed.";e.InfoArea_FileDoesNotExist_NoEdit="\\\\t{0} does not exist.\\\\r\\\\n\\\\r\\\\n";e.TagFilterDropdownTooltip="Show more...";e.MembersWelcomeTitle="Invite your friends and create your team";e.TabStrip_Menu_InsertRight="Insert right";e.ChartOrderResults_ByLabel="Label";e.AccountLabel="Account";e.AccountTrial="Account trial";e.TabStrip_Menu_InsertBelow="Insert below";e.TabStrip_Menu_InsertAbove="Insert above";e.FilteredListWatermark="Filter items...";e.ProjectVisibilityNameTeamMembers="Team Members";e.TestHubManualTestContent="Create test plans to track manual testing for sprints or milestones. Run tests, log defects and quickly view the status using lightweight charts.";e.ProjectMruListCreateNewProjectText="New";e.TabNameTooLongMessage="Tab name must be less than 256 characters.";e.MoveToIteration_Current="Current ({0})";e.ProjectMruListCreateNewProjectTitle="Create a new project";e.CompleteSignInToVSTS="Authentication complete. You may close this window.";e.CodeSearchQuickStartTitle="Search for code across your projects";e.HelpMenuText="Help";e.NoAvailableBacklogs="This team does not have any backlogs configured. Please select another team.";e.GetProcessTemplatesError="An error occurred attempting to load the process templates.  Try again or contact your system administrator.";e.ExitFullScreenModeTooltip="Exit full screen mode";e.CreateProjectCollectionLabel="Collection";e.StakeholderMsdnEligibleRefreshButtonPageWaitText="We are verifying your subscription now. Thanks for your patience";e.NavigationContextMenuTeamLabelFormat="{0} / {1}";e.TabNameLabel="Tab name";e.ResetChartEditorColors="Reset colors";e.ChartDataNullValueLabel="(blank)";e.ProjectEmptyNameMessage="Project must be specified.";e.PivotChartAdvancedTooltip="Use this chart type to arrange and summarize complex data in a tabular form.";e.ClearTextTooltip="Clear text";e.LinkedArtifacts_DataProvider_NotRegistered="There is no renderer for \u0027{0}\u0027 links.";e.MembersManageDialogAddUser="Add user";e.TrendChartsLabel="Trend";e.VsLinksGetVsSubTitle="See Visual Studio downloads";e.OpenPlatformBackgroundImage="OpenPlatformAnnouncement.png";e.TagFilterShowAllButtonText="All";e.RemoveFromTeamFavoritesTooltipText="Remove from team favorites";e.MembersWelcomeOkButton="Show me how";e.BacklogEmptyNameMessage="Backlog level must be specified.";e.RemoveFromMyFavoritesTitle="Remove from my favorites";e.NoAvailableProjects="You don\u0027t have access to any team projects in this account. Please select another account.";e.FilteredListNoMatches="No items contain the filter text";e.ChartHostDeleteChartTitle="Delete";e.ElsVsoIntegrationSubtitle="Measure app\u0027s performance under load";e.ResourceUsageSeperator="of";e.SavingChartChanges="Saving...";e.ProjectMruListRecentProjectsAndTeams="Recent projects \u0026 teams";e.AccountTrialLearnMore="Learn more";e.TabNamePlaceholder="Type the tab name";e.ChartHostEditChartTitle="Edit";e.ExportExpirationTitle="Data Export available until May 20th";e.ChartHostEditChartToolTip="Edit chart";e.KeyboardShortcutDescription_OpenBoard="Open board";e.CreateFirstProject="Create your first team project";e.ChartEditorAggregationTooltip="You can only use fields with numeric values.";e.AutomateTestButtonText="Start automated testing";e.ChartOrderResults_Ascending="Ascending";e.ProjectMruListBrowseTitle="Browse teams and projects";e.RefreshSignInToVSTS="This page should automatically refresh when you sign in. If it doesn\u0027t, click the Reload tab button to refresh manually.";e.ProjectMruListTeamIconTitle="Team";e.JumpstartContentWelcome="Your new team project {0} is now in the cloud. Your project can store everything - your tasks, code, builds, test suites and more. You might be wondering what\u0027s next:";e.VsLinksMainTitle="Visual Studio";e.LinkedArtifacts_ZeroData="There are no links in this group. ";e.ChartMessage_RenderFailed="TF401189: The chart failed to render";e.PieChartAdvancedTooltip="Use this chart type when there are multiple series relating to a sum.";e.GalleryPromotionNewFeatureTitle="Supercharge your Team Services Project";e.AddToMyFavoritesTitle="Add to my favorites";e.GalleryPromotionNewFeatureLearnMoreLinkTitle="Explore Extensions";e.TeamFavorites="Team favorites";e.NoMruRooms="Browse to the Rooms hub to view team rooms you have access to.";e.ProjectVisibilityNameEveryoneInTenant="Everyone in Microsoft";e.InfoArea_DefaultRepoMD="# Create a default repository\\\\r\\\\n\\\\r\\\\nTo display project documentation you will need a default repository. A default repository is a repository that is named the same as your project. You may create the default repository named {0} using the [source control administration page]({1}).\\\\r\\\\n\\\\r\\\\n";e.CodeSearchPromotionQuickStartOkButtonContent="Install Code Search";e.TabNameEmptyNameMessage="Tab name must be specified.";e.NavigationContextMenuProjectLabelTitleFormat="Project \u0027{0}\u0027";e.LinkedArtifacts_ColumnHeader_Link="Link";e.CreateProjectNoTemplates="The new team project wizard did not find any process templates on the Team Foundation Server.\r\n\r\nContact your Team Foundation Server administrator and ask that a process template be uploaded to the server.";e.ExportExpirationBackgroundImage="ExportExpiration.png";e.MembersManageDialogAdd="Add";e.AboutTFSTitle_OnPrem="About Team Foundation Server";e.ChartConfigurationLabel_GroupBy="Group by";e.PushToDashboardTitle="Add to dashboard";e.LearnMore="Learn more";e.NoMruProjects="Browse to a project by selecting browse above.";e.AboutTFSTitle_Hosted="About Visual Studio Team Services";e.AboutTFSGetVSSubtitle="View all the download options";e.AboutTFSLearnTitle="Learn";e.CreateProject="Create project";e.EllipsisMenuTitle="Configure";e.InlineEdit_Edit="Edit";e.InlineEdit_Save="Save";e.PieChartName="Pie";e.ProjectDoesNotExistMessage="Project \u0027{0}\u0027 does not exist.";e.RelatedArtifacts_RemoveLink="Remove link";e.DataServicesEmptyResponse="The data services connection was terminated by the server.\r\n\r\nThis can arise due to a processing error on the server or a timeout with a very large data sets.";e.ErrorLoadingRooms="Cannot load recent rooms. Refresh the page to try again.";e.StackedBarChartName="Stacked bar";e.ChartMessage_MissingChartSelection="Select an option from \u0027{0}\u0027.";e.ChartConfigurationLabel_Of="of";e.ChartConfigurationLabel_YAxis="Y-axis";e.MoveToIterationTooltip="Move to an iteration.";e.LoadTestButtonText="Start load testing";e.MyFavoritesText="My favorites";e.ProgressControl_SummaryProgressText="of {0}";e.MissingTeamSettingsError="Incomplete team settings.";e.ExportExpirationSubtitle="If you would like to migrate your Visual Studio Team Services data to an on-premises Team Foundation Server, you have until May 20th to do so.";e.AboutTFSFeaturesTitle="Features";e.XTPromotionQuickStartTitle="Test \u0026 Feedback - Capture, Create, Collaborate";e.PushToDashboardTooltip="Add to dashboard";e.ChartAggregateTooltip="{0}: {1}";e.ChartEditorGroupingTooltip="Choose a query column to group the data by in your chart.";e.RMOAnnouncementSubtitle="Release Management";e.BrowseAllTeams="Browse all";e.TeamFavoritesText="Team favorites";e.NewsViewAllLink="View all";e.TeamAwarenessAssignToTooltip="Assign to a team member.";e.Asterix="*";e.JumpstartTitle="Congratulations!";e.JumpstartContentCode="Regardless of your preference - centralized or decentralized, we give you the tools to let you manage your code and share it with your team.";e.ElsVsoIntegrationBackgroundImage="CloudLoadTesting.png";e.LinkedArtifacts_ColumnHeader_Id="Id";e.InfoArea_FileDoesNotExist="\\\\t{0} does not exist. Edit and commit this file to create it.\\\\r\\\\n\\\\r\\\\n";e.StackedAreaChartName="Stacked area";e.MembersWelcomeContent="Your team project lets you collaborate with others, work on the same code, create work items, track status, and more.";e.DefaultChartName="{0} - Chart";e.ProjectMruListBrowseText="Browse";e.MembersAddButtonContent1="From here you can directly add, modify, and remove users from your team project.";e.MembersAddButtonContent2="Click on {0}";e.RelatedArtifacts_ShowMore="Show more";e.SourceControlSystemLabel="Version control";e.StateCategoryCompleted="Completed";e.InfoCustomProcesses="Customizations that require specific user credentials will also not work because the operation is being performed using the server credentials. Please refer to \u003ca href=\"https://msdn.microsoft.com/Library/vs/alm/overview/create-team-project\" target=\u0027_blank\u0027\u003ecreating a team project\u003c/a\u003e for more details on this and additional restrictions.";e.ChartMessage_UnsupportedBrowser="TF401209: The chart requires capabilities which are unsupported on the current web browser";e.PivotTableName="Pivot table";e.TestHubContentTitle="Integrate testing into your development process";e.LinkedArtifacts_DataProvider_CouldNotBeResolved="Could not resolve data provider";e.RMOAnnouncementBackgroundImage="ReleaseManagement.png";e.TestHubLoadTestContent="Understand and fix performance issues before they impact your business. Scale your tests to hundreds of thousands of concurrent users.";e.ProjectVisibilityDescriptionTeamMembers="Select specific users to have read access to your project.";e.FutureIterations="Future Iterations";e.AboutTFSAdminTitle="Administer";e.RemoveFromMyFavoritesTooltip="Remove from my favorites";e.ChartConfigurationLabel_Values="Values";e.CreateProjectNameLabel="Project name";e.NavigationContextMenuHostedBackTo="Account home";e.StateCategoryResolved="Resolved";e.StackedAreaChartAdvancedTooltip="Use this chart type to compare a relationship of parts to a whole over time and highlight the general trend across categories.";e.MoreActionsText="More actions";e.AddToMyFavoritesTooltipText="Add to my favorites";e.Loading="Loading...";e.ColumnChartName="Column";e.ProjectCreationError="There was an error creating your project. Please {0}.";e.RelatedArtifacts_SummaryDelimiter="{0}, {1}";e.RemoveFromMyFavoritesTooltipText="Remove from my favorites";e.ChartEditorHistoryRangeTooltip="You must choose a time span for your chart.";e.BarChartAdvancedTooltop="Use this chart type to compare categories.";e.MembersFinishCancelButton="I’ve got it from here";e.ProjectMruListRemoveFromList="Remove from list";e.CodeSearchPromotionQuickStartContent="Install Code Search extension to perform fast, flexible, and powerful searches across all your code.";e.TagFilterLabel="Tags";e.TabStrip_Menu_MoveRight="Move right";e.InfoArea_Project_Commit="\"Adding project documentation\"";e.AjaxRequestTimedOut="Ajax request has been timed out.";e.ElsVsoIntegrationTileSubTitle="Free credits to test it now";e.Chart1DValueTooltip="{0}: {1}";e.TeamRoomUserCount="{0} users in room";e.ChartHostDeleteChartToolTip="Delete chart";e.ChartMessage_DescribeServerError="The server failed to process the chart transform request, with an error of: {0}";e.StateCategoryInProgress="In Progress";e.NetworkConnectionUnavailable="TF400893: Unable to contact the server. This is most likely caused by a network error. Please check your connection and try again.";e.AboutTFSCloseIconTitle_OnPrem="Hide this module.  Select \u0026#34;Display About Team Foundation Server\u0026#34; from the help menu to make it visible again.";e.LinkedArtifacts_ColumnHeader_Comment="Comment";e.AboutTFSCloseIconTitle_Hosted="Hide this module.  Select \u0026#34;Display About Visual Studio Team Services\u0026#34; from the help menu to make it visible again.";e.RMOAnnouncementTitle="Release Management Service Preview";e.AboutTFSGetVSTitle="Get Visual Studio";e.TeamServicesHeaderText="Team Services";e.Ellipsis="...";e.ChartMeasure_Count="Count";e.StateCategoryProposed="Proposed";e.PinToHomepageTooltipText="Pin to homepage";e.AnnouncementFontColor="White";e.AzureBenefitTileBackgroundImage="vs-portfolio-of-benefits.png";e.JumpstartContentAgile="Get organized fast with the kanban board. Managing your work is as simple as dragging cards across the board.";e.SourceControlSystemNameGit="Git";e.RequiresVS2012="Requires Visual Studio 2013+";e.ChartingTimeout="Chart query timed out";e.ChartMessage_NoDataToDisplay_Body="there were 0 results";e.Edit_Undo="Undo";e.SignInToVSTS="Sign in to Visual Studio Team Services";e.ChartConfigurationLabel_StackBy="Stack by";e.TeamEmptyNameMessage="Team must be specified.";e.ChartEditorOrderTooltip="The results can be sorted by the series label or the value.";e.ChartService_ColumnsUnavailable="TF401188: Data for Chart Column editing could not be retrieved";e.TagFilterShowAllButtonTooltip="Remove all tag filters";e.MembersWelcomeCancelButton="Not now";e.JumpstartViewCode="View code";e.AddButtonText="Add...";e.StackedBarChartAdvancedTooltip="Use this chart type to compare parts of a whole across categories.";e.TabStrip_Menu_MoveLeft="Move left";e.TabStrip_Menu_MoveDown="Move down";e.RemoveFromTeamFavoritesTitle="Remove from team favorites";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c;(function(n){n.ProjectCollectionsLocationId="8031090f-ef1d-4af6-85fc-698cd75d42bf";n.ProjectsLocationId="603fe2ac-9723-48b9-88ad-09305aa6c6e1";n.ProcessLocationId="93878975-88c5-4e6a-8abb-7ddd77a8a7d8";n.ProjectHistoryLocationId="6488a877-4749-4954-82ea-7340d36be9f2";n.TeamsLocationId="d30a3dd1-f8ba-442a-b86a-bd0c0c383e59";n.TeamMembersLocationId="294c494c-2600-4d7e-b76c-3dd50c3c95be";n.ConnectedServicesId="b4f70219-e18b-42c5-abe3-98b07d35525e";n.ProxyId="ec1f4311-f2b4-4c15-b2b8-8990b80d2908";n.AreaId="79134C72-4A58-4B42-976C-04E7115F32BF";n.AreaName="core";n.ProcessAreaName="process";n.ApiString="_apis";n.ProcessResource="processes";n.ProjectsResource="projects";n.ProjectHistoryResource="projectHistory";n.ProjectCollectionsResource="projectCollections";n.TeamsResource="teams";n.TeamMembersResource="members";n.ConnectedServicesResource="connectedServices";n.ProxyResource="proxies";n.ProjectCollectionsRouteName="ProjectCollections";n.ProjectsRouteName="Projects";n.ProjectHistoryRouteName="ProjectHistory";n.ProcessesRouteName="Processes";n.TeamsRouteName="Teams";n.TeamMembersRouteName="TeamMembers";n.ConnectedServicesRouteName="ConnectedServices";n.ProxyRouteName="Proxies"})(i=t.CoreConstants||(t.CoreConstants={})),function(n){n.WebAccessProfileUseAexProfilePage="WebAccess.Profile.UseAexProfilePage";n.WebAccessAccountLevelProfile="WebAccess.Profile.AccountLevelProfile";n.WebAccessQuickStart="WebAccess.QuickStart";n.WebAccessQuickStartJumpStart="WebAccess.QuickStart.JumpStart";n.WebAccessQuickStartJumpStartForExistingProjects="WebAccess.QuickStart.JumpStartForExistingProjects";n.WebAccessQuickStartKanban="WebAccess.QuickStart.Kanban";n.WebAccessQuickStartKanbanForExistingProjects="WebAccess.QuickStart.KanbanForExistingProjects";n.WebAccessQuickStartScrum="WebAccess.QuickStart.Scrum";n.WebAccessQuickStartMembers="WebAccess.QuickStart.Members";n.WebAccessQuickStartCodeSearchPromotion="WebAccess.QuickStart.CodeSearchPromotion";n.WebAccessQuickStartCodeSearchFileViewerCapabilities="WebAccess.QuickStart.CodeSearchFileViewerCapabilities";n.WebAccessQuickStartCodeSearchFeature="WebAccess.QuickStart.CodeSearchFeature";n.WebAccessSendASmileNavbar="WebAccess.SendASmile.Navbar";n.WebAccessAccountShowGettingStartedVideo="WebAccess.Account.GettingStartedVideo";n.WebAccessAccountShowGettingStartedVideoIframe="WebAccess.Account.GettingStartedVideoIframe";n.WebAccessAccountSoftDelete="WebAccess.Account.AccountSoftDelete";n.WebAccessAccountRegion="WebAccess.Account.AccountRegion";n.WebAccessServicePreviewBuild="WebAccess.Service.Preview.Build";n.WebAccessServicePreviewTest="WebAccess.Service.Preview.Test";n.WebAccessExtensions="WebAccess.Extensions";n.WebAccessExtensionsDeployment="WebAccess.Extensions.Deployment";n.WebAccessExtensionsApplication="WebAccess.Extensions.Application";n.WebAccessExtensionsProjectCollection="WebAccess.Extensions.ProjectCollection";n.WebAccessExtensionsPersonal="WebAccess.Extensions.Personal";n.WebAccessVersionControlNewGitHistoryView="WebAccess.VersionControl.NewGitHistoryView";n.WebAccessVersionControlExplorerNewGitHistory="WebAccess.VersionControl.Explorer.NewGitHistory";n.WebAccessVersionControlNewGitHistoryViewInBranchUpdates="WebAccess.VersionControl.NewGitHistoryViewInBranchUpdates";n.WebAccessVersionControlPushViews="WebAccess.VersionControl.PushViews";n.WebAccessServiceMetricsAnalytics="WebAccess.Service.MetricsAnalytics";n.SourceControlGit="SourceControl.Legacy";n.WebAccessTrialModeNotification="WebAccess.TrialModeNotification";n.WebAccessEarlyAdopterNotification="WebAccess.EarlyAdopterNotification";n.WebAccessAllowEarlyAdopterAfterExpiration="WebAccess.AllowEarlyAdopterAfterExpiration";n.ServiceHooksTfsPublisher="ServiceHooks.TfsHooksPublisher";n.ServiceHooksGeneralAvailability="ServiceHooks.GeneralAvailability";n.AdminExportExpirationAnnouncement="Admin.DataExport.ExpirationAnnouncement";n.OpenPlatformAnnouncement="OpenPlatform.Announcement";n.EnableAddAadUserWarning="WebAccess.EnableAddAadUserWarning";n.WebAccessAccountAadInformationNotification="WebAccess.AccountAadInformationNotification";n.WebAccessWelcomeHub="WebAccess.WelcomeHub";n.WebAccessProjectWelcomeHub="WebAccess.ProjectWelcome";n.WebAccessVersionControlGitPullRequestsWITIntegration="WebAccess.VersionControl.GitPullRequestsWITIntegration";n.WebAccessVersionControlGitReduceBranchComparisonDefaultCount="WebAccess.VersionControl.GitReduceBranchComparisonDefaultCount";n.VisualStudioServicesPersistedNotification="VisualStudio.Services.PersistedNotification";n.ELSVSOIntegrationAnnouncement="ELS.VSO.IntegrationAnnouncement";n.BasicUserLimitedPortfolioAccessNotificationId="16676E24-8F6A-4EAA-9A9D-FCDF57E8BC8A";n.LoadTestFeatureFlag="ELS.VSO.LoadTesting";n.LoadTestEmailEnableFlag="ELS.VSO.EmailEnable";n.LoadTestUltimateEnableFlag="ELS.VSO.UltimateEnable";n.LoadTestGeoEnableFlag="ELS.VSO.GeoEnable";n.LoadTestFeatureEnableForNonUltimateFlag="ELS.VSO.LoadTestEnableForNonUltimate";n.LoadTestAverageResponseTimeThresholdValue="ELS.VSO.AverageResponseTimeThresholdValue";n.WebAccessSearchShell="WebAccess.SearchShell";n.WebAccessSearchProject="WebAccess.Search.Project";n.WebAccessSearchWorkItem="WebAccess.Search.WorkItem";n.WebAccessSearchWorkItemHelperDropdown="WebAccess.Search.WorkItem.HelperDropdown";n.WebAccessSearchWorkItemHelperDropdownNewOperators="WebAccess.Search.WorkItem.HelperDropdown.NewOperators";n.WebAccessSearchWorkItemIdentityPicker="WebAccess.Search.WorkItem.IdentityPicker";n.WebAccessSearchWorkItemWorkItemStateColor="WebAccess.Search.WorkItem.WorkItemStateColor";n.WebAccessSearchCustomVC="WebAccess.Search.CustomVC";n.WebAccessSearchMultiAccount="WebAccess.Search.MultiAccount";n.WebAccessSearchMultiBranch="WebAccess.Search.MultiBranch";n.WebAccessVersionControlEditing="WebAccess.VersionControl.Editing";n.WebAccessVersionControlWikiLinkTransformation="WebAccess.VersionControl.WikiLinkTransformation";n.RMOPreviewAnnouncement="RMO.Preview";n.ArcusAnnotationService="Arcus.Annotation";n.WebAccessIdentityImagesFromProfile="WebAccess.IdentityImagesFromProfile";n.VersionControlAllowCreateReadMe="VisualStudio.VersionControl.AllowCreateReadMe";n.WebAccessVersionControlPullRequestsUnattendedComplete="WebAccess.VersionControl.PullRequests.UnattendedComplete";n.WebAccessVersionControlPullRequestsCommentFilter="WebAccess.VersionControl.PullRequests.CommentFilter";n.WebAccessVersionControlPullRequestsDiffExpanders="WebAccess.VersionControl.PullRequests.DiffExpanders";n.WebAccessVersionControlPullRequestsSquashMerge="WebAccess.VersionControl.PullRequests.SquashMerge";n.WebAccessVersionControlPullRequestsMergeOptions="WebAccess.VersionControl.PullRequests.MergeOptions";n.WebAccessVersionControlPullRequestsAutoLinkWitToMergeCommit="WebAccess.VersionControl.PullRequests.AutoLinkWitToMergeCommit";n.WebAccessVersionControlPullRequestsCommentFeedback="WebAccess.VersionControl.PullRequests.CommentFeedback";n.WebAccessVersionControlPullRequestsAutoComplete="WebAccess.VersionControl.PullRequests.AutoComplete";n.WebAccessVersionControlPullRequestsLastVisit="WebAccess.VersionControl.PullRequests.LastVisit";n.WebAccessVersionControlCreateBranchMenu="WebAccess.VersionControl.CreateBranchMenu";n.WebAccessVersionControlExplorerVanityBadges="WebAccess.VersionControl.ExplorerVanityBadges";n.WebAccessVersionControlGitCredentialManagerAvailable="WebAccess.VersionControl.GitCredentialManagerAvailable";n.WebAccessVersionControlDisableAlternateAuthInGitGettingStarted="WebAccess.VersionControl.DisableAlternateAuthInGitGettingStarted";n.WebAccessVersionControlNewBranches="WebAccess.VersionControl.NewBranches";n.WebAccessVersionControlNewCommitDetails="WebAccess.VersionControl.NewCommitDetails";n.WebAccessVersionControlDisableCommitItemCache="WebAccess.VersionControl.DisableCommitItemCache";n.WebAccessVersionControlNewVcViewModelDataProvider="WebAccess.VersionControl.NewVcViewModelDataProvider";n.CodeReviewTrackComments="CodeReview.TrackComments";n.SourceControlPolicy="SourceControl.Policy";n.CodeAnalysisPolicy="SourceControl.Policy.CodeAnalysis";n.CommentRequirementsPolicy="SourceControl.Policy.CommentRequirements";n.MergeStrategyPolicy="SourceControl.Policy.MergeStrategy";n.WorkItemTrackingPolicy="SourceControl.Policy.WorkItemTracking";n.RefAndPRLinks="Git.RefAndPRLinks";n.WebAccessVersionControlGitCloneInEclipse="Git.CloneIn.Eclipse";n.WebAccessVersionControlGitRepositoryImport="Git.Import";n.WebAccessVersionControlGitFilePaths="Git.FilePaths";n.WebAccessMarkdownRenderingEnhancements="WebAccess.MarkdownRenderingEnhancements";n.ChartingHistorical="Charting.Historical";n.ChartingAggregation="Charting.Aggregation";n.WorkItemTrackingAADSupport="WorkItemTracking.Server.AadSupport";n.WorkItemTrackingAADSupportForInGroup="WorkItemTracking.Server.AadSupportForInGroup";n.WebAccessAadExpandDownward="WebAccess.WorkItemTracking.AadExpandDownward";n.WebAccessBuildvNextGitHubRepository="WebAccess.BuildvNext.GitHubRepository";n.WebAccessBuildvNextSvnRepository="WebAccess.BuildvNext.SvnRepository";n.BuildvNextRetentionPolicy="Build.BuildvNext.RetentionPolicy";n.DistributedTaskTaskPreview="DistributedTask.TaskPreview";n.WebAccessSearchCORS="WebAccess.SearchCORS";n.WebAccessSearchPrefetchFirstSearch="WebAccess.Search.PrefetchFirstSearch";n.WebAccessOssEngineering="WebAccess.OssEngineering";n.WebAccessOssHubExtension="WebAccess.OssHubExtension";n.WebAccessOssLcaExtension="WebAccess.OssEngineering.LcaExtension";n.WebAccessPullRequestSuggestion="WebAccess.VersionControl.PullRequestSuggestion";n.WebAccessPullRequestDiscussionDataIsland="WebAccess.VersionControl.PullRequests.AddDiscussionsToDataIsland";n.WebAccessPullRequestHideLegacyPullRequest="WebAccess.VersionControl.PullRequests.HideLegacyPullRequest";n.UseUserDetailsArea="VisualStudio.Services.Identity.UseUserDetailArea";n.ReleaseManagementReleasesHub="WebAccess.ReleaseManagement.ReleasesHub";n.WebAccessMachinesHubLoadEnvironmentsFromTfs="WebAccess.DevTestLabs.MachinesHub.TFS.LoadEnvironments";n.WebAccessAgileBoardExpandCard="WebAccess.Agile.Board.ExpandCard";n.WebAccessAgileBacklogForecastOnDemand="WebAccess.Agile.Backlog.ForecastOnDemand";n.WebAccessAgileTaskboardDelayloadStateTransitions="WebAccess.Agile.Taskboard.DelayloadStateTransitions";n.AgileServerTeamServiceAADGroupsBlockExpansion="Agile.Server.TeamService.AADGroupsBlockExpansion";n.WebAccessAgileKanbanBoardAutoRefresh="WebAccess.Agile.KanbanBoard.AutoRefresh";n.WebAccessAgileKanbanBoardAutoRefreshThrottling="WebAccess.Agile.KanbanBoard.AutoRefresh.Throttling";n.WebAccessAgileKanbanBoardFiltering="WebAccess.Agile.KanbanBoard.Filtering";n.WebAccessAgileKanbanBoardParentFiltering="WebAccess.Agile.KanbanBoard.ParentFiltering";n.WebAccessAgileKanbanBoardSkipProvisioning="WebAccess.Agile.KanbanBoard.SkipProvisioning";n.WebAccessNewNavigationUserToggle="WebAccess.ContributedHeader.UserToggle";n.WebAccessVSTSBranding="WebAccess.VSTSBranding";n.WebAccessUtilizationUsageSummary="WebAccess.Utilization.UsageSummary";n.WebAccessWorkItemTrackingGroupMembershipInWorkItemTypeEtag="WebAccess.WorkItemTracking.GroupMembershipInWorkItemTypeEtag";n.WebAccessWorkItemTypesReduceETagTimeStampTables="WebAccess.WorkItemTracking.WorkItemTypes.ReduceETagTimeStampTables";n.WebAccessScaledAgilePlans="WebAccess.ScaledAgile.Plans";n.WebAccessScaledAgilePlansDeliveryTimelineCalendarPanAnimate="WebAccess.ScaledAgile.Plans.DeliveryTimeline.CalendarPanAnimate";n.WebAccessScaledAgilePlansDeliveryTimelineDragAndDrop="WebAccess.ScaledAgile.Plans.DeliveryTimeline.DragAndDrop";n.WebAccessScaledAgilePlansDeliveryTimelineMousePan="WebAccess.ScaledAgile.Plans.DeliveryTimeline.MousePan";n.WebAccessScaledAgilePlansDeliveryTimelineShowInternalHelpLink="WebAccess.ScaledAgile.Plans.DeliveryTimeline.ShowInternalHelpLink";n.WebAccessScaledAgilePlansDeliveryTimelineConfiguration="WebAccess.ScaledAgile.Plans.DeliveryTimeline.Configuration";n.WebAccessAgileUseNewIdentityControls="WebAccess.Agile.UseNewIdentityControls";n.WebAccessAgileBacklogSafeguardPerformanceSampling="WebAccess.Agile.Backlog.Safeguard.PerformanceSampling";n.TeamServiceSafeguardBlockCreateTeamAndAdminOperations="TeamService.Safeguard.BlockCreateTeamAndAdminOperations";n.TeamConfigurationServiceLimitTeamAreaPathsAndIterations="TeamConfigurationService.SaveTeamFields.LimitAllowedTeamAreaPathsAndIterations";n.CodeAnalysisAdornmentProvider="WebAccess.VersionControl.CodeAnalysisAdornmentProvider";n.WebAccessMentionVersionControl="WebAccess.Mention.VersionControl";n.WebAccessMentionWorkItemsPlugin="WebAccess.Mention.WorkItemsPlugin";n.WebAccessMentionWIT="WebAccess.Mention.WIT";n.WebAccessMentionPeoplePlugin="WebAccess.Mention.PeoplePlugin";n.WebAccessProcessUpload="WebAccess.Process.ProcessUpload";n.ForceSynchronousHtmlFields="WebAccess.WorkItemTracking.ForceSynchronousHtmlFields";n.WebAccessProcessAdminLayout="WebAccess.Process.AdminLayout";n.WebAccessProcessAddExtensionsFromAdminLayout="WebAccess.Process.AdminLayout.AddExtensions";n.WebAccessProcessCustomizeStates="WebAccess.Process.CustomizeStates";n.WorkItemTrackingCustomizeStates="WorkItemTracking.CustomizeState";n.WorkItemStateColoring="WebAccess.WorkItemTracking.WorkItemStateColoring";n.WorkItemTrackingUseCommonIdentityPicker="WebAccess.WorkItemTracking.UseCommonIdentityPicker";n.WorkItemTrackingNewFormToggleHtmlControlHeight="WebAccess.WorkItemTracking.NewForm.ToggleHtmlControlHeight";n.WorkItemTrackingNewFormDiscussionMaximizable="WebAccess.WorkItemTracking.NewForm.Discussion.Maximizable";n.WorkItemTrackingMove="WorkItemTracking.Server.MoveWorkItems";n.WorkItemTrackingAddNewWorkItemType="WorkItemTracking.AddNewWorkItemType";n.WorkItemTrackingDisableWorkItemType="WorkItemTracking.EnableDisableWorkItemType";n.WorkItemTrackingWorkItemTemplates="WebAccess.WorkItemTracking.WorkItemTemplates";n.WorkItemTemplatesLegacyUrl="WebAccess.WorkItemTracking.WorkItemTemplates.LegacyUrl";n.DisableWorkItemTrackingStateColors="WebAccess.WorkItemTracking.Safeguard.DisableWorkItemStateColors";n.WorkItemTrackingChangeWorkItemType="WorkItemTracking.Server.ChangeWorkItemType";n.WorkItemTrackingMetadaDataClientCaching="WebAccess.WorkItemTracking.EnableMetadataClientCaching";n.WorkItemTrackingProcessOnPremOnly="WebAccess.Process.OnPremOnly";n.WorkItemTrackingVisualizeFollows="WebAccess.WorkItemTracking.VisualizeFollows";n.WorkItemTrackingBulkUnfollows="WebAccess.WorkItemTracking.BulkUnfollows";n.WorkItemTrackingIncrementalHistory="WebAccess.WorkItemTracking.IncrementalHistory";n.WorkItemTrackingOpenWorkItemsFullscreen="WebAccess.WorkItemTracking.OpenWorkItemsFullscreen";n.WebAccessDashboardsPermissibleDashboards="WebAccess.Dashboards.PermissibleDashboards";n.WebAccessWidgetsUseAnalyticsAgileChartingClient="WebAccess.Widgets.UseAnalyticsAgileChartingClient";n.WebAccessBuildvNextEmailBuildSummary="WebAccess.BuildvNext.EmailBuildSummary";n.WebAccessVersionControlQuickActions="WebAccess.VersionControl.QuickActions";n.WebaccessProcessHierarchy="WebAccess.Process.Hierarchy";n.WebaccessProcessPicklists="WebAccess.Process.Picklists";n.WebaccessProcessBoolean="WebAccess.Process.Boolean";n.WebaccessProcessBypassWorkItemTypeXmlComparison="WebAccess.Process.BypassWorkItemTypeXmlComparison";n.WebAccessServicePrincipal="WebAccess.ServicePrincipal";n.WebAccessHideServicePrincipal="WebAccess.HideServicePrincipal";n.WebAccessAutoCreateServicePrincipal="WebAccess.AutoCreateServicePrincipal";n.WebAccessAutoCreateServicePrincipalAcrossTenants="WebAccess.AutoCreateServicePrincipalAcrossTenants";n.AadGroupsAdminUi="VisualStudio.Services.AadGroupsAdminUi";n.DeleteTestResultsWithUIFlag="TestManagement.Server.DeleteTestResultsWithUIFlag";n.TestResultRetentionSettings="TestManagement.Server.TestResultRetentionSettings";n.TriBuildSummaryCharts="TestManagement.Server.TriBuildSummaryCharts";n.TriPassedHeaderForGroupInResultsGrid="TestManagement.Server.TriPassedHeaderForGroupInResultsGrid";n.TestResultCreateBugPopulation="TestManagement.Server.TriCreateBugPopulation";n.TriCreateBugFieldsPopulationForMultipleResults="TestManagement.Server.TriCreateBugFieldsPopulationForMultipleResults";n.TriResultsGridOutcomeFilter="TestManagement.Server.TriResultsGridOutcomeFilter";n.TriSortColumns="TestManagement.Server.TriSortColumns";n.TriSortDurationColumn="TestManagement.Server.TriSortDurationColumn";n.TriAddColumnOptions="TestManagement.Server.TriAddColumnOptions";n.TriLinkedRequirements="TestManagement.Server.TriLinkedRequirements";n.TriRequirementTraceability="TestManagement.Server.TriRequirementTraceability";n.TriGroupByRequirement="TestManagement.Server.GroupByRequirement";n.TriTraceabilityWidgetConfiguration="TestManagement.Server.TriTraceabilityWidgetConfiguration";n.TriPreviewConsoleLogs="TestManagement.Server.TriPreviewConsoleLogs";n.TriBuildSummaryTestTab="TestManagement.Server.TriBuildSummaryTestTab";n.TriEnableFeedback="TestManagement.Server.TriEnableFeedback";n.TriTrendCharts="TestManagement.Server.TriTrendCharts";n.TriTestResultsInRM="TestManagement.Server.TriTestResultsInReleaseManagement";n.TriFetchResultsInRM="TestManagement.Server.TriFetchResultsInRM";n.TriChartWidgetConfiguration="TestManagement.Server.TriChartWidgetConfiguration";n.TestResultHistory="TestManagement.Server.TestResultHistory";n.TestResultHistoryBranchFilter="TestManagement.Server.TriResultHistoryBranchFilter";n.TriAddSortEnvironmentNameAndSortOwnerColumn="TestManagement.Server.TriAddSortEnvironmentNameAndSortOwnerColumn";n.TestResultHistoryExtensionToggle="TestManagement.Server.TestResultHistoryExtensionToggle";n.TriRequirementRelease="TestManagement.Server.TriRequirementRelease";n.TriPassPercentageCalculation="TestManagement.Server.TriPassPercentageCalculation";n.BuildSummaryCodeCoverage="TestManagement.Server.BuildSummaryCodeCoverage";n.BuildSummaryCodeCoverageCharts="TestManagement.Server.BuildSummaryCodeCoverageCharts";n.BuildSummaryEnableTIALink="TestImpact.Server.BuildSummaryEnableTIALink";n.ShowNotImpactedInTestResults="TestImpact.Server.ShowNotImpactedInTestResults";n.FileContainerServiceBrowseItems="VisualStudio.FileContainerService.BrowseItems";n.TriChartVisualization="TestManagement.Server.TriChartVisualization";n.GroupTestResultsByPlanOrSuite="TestManagement.Server.GroupTestResultsByPlanOrSuite";n.TriQuickStartTraceability="TestManagement.Server.TriQuickStartTraceability";n.TCMUseNewIdentityPicker="WebAccess.TestManagement.UseNewIdentityPicker";n.IdentityPickerClientPerformance="VisualStudio.Services.IdentityPicker.ClientPerformance";n.SSHPublicKeys="WebAccess.SshUI";n.WebAccessTCMExploratoryTesting="WebAccess.TestManagement.ExploratoryTesting";n.WebAccessTCMTestPlanLiteHub="WebAccess.TestManagement.TestPlanLiteHub";n.WebAccessTCMAddToExistingBug="WebAccess.TestManagement.AddToExistingBug";n.GatedCheckInTrigger="Build2.GatedCheckInTrigger";n.MaxConcurrentBuildsPerBranchFeature="Build2.MaxConcurrentBuildsPerBranch";n.FilePathArtifactsAndSymbolsDeleteFeature="Build2.Retention.FilePathArtifactsAndSymbolsDelete";n.BuildSummaryDeployments="WebAccess.ReleaseManagement.BuildIntegration.Deployments";n.BuildAllDefinitionsTab="WebAccess.Build.Definitions.All";n.WebAccessAddInlineTest="WebAccess.TestManagement.InlineTest";n.WebAccessRunWithOptions="WebAccess.TestManagement.RunWithOptions";n.EnableNewMtrInRunWithOptions="WebAccess.TestManagement.EnableNewMtrInRunWithOptions";n.GalleryOnPremConnected="Microsoft.VisualStudio.Services.Gallery.OnPremConnected";n.ExcludeJQueryUI="VisualStudio.Services.Contributions.ExcludeCompleteJQueryUI";n.WebAccessTestManagementDataCollection="WebAccess.TestManagement.DataCollection";n.WebAccessTestManagementLaunchXTClient="WebAccess.TestManagement.LaunchXTClient";n.WebAccessFeedbackRequest="WebAccess.TestManagement.WebAccessFeedbackRequest";n.WebAccessVerifyBug="WebAccess.TestManagement.WebAccessVerifyBug";n.GalleryPromotion="Gallery.NewFeature.GalleryPromotion";n.AdminWorkHubDisplayAreaOwners="Admin.WorkHub.DisplayAreaOwners";n.WebAccessViewExploratorySessions="WebAccess.TestManagement.ShowExploratorySessions";n.BuildMetaTask="WebAccess.Build.MetaTask";n.BuildAndReleaseResourceLimits="WebAccess.BuildAndRelease.ResourceLimits";n.BuildAndReleaseResourceLimitsForOnPremInVSTS="WebAccess.BuildAndRelease.ResourceLimitsForOnPremInVSTS";n.SwitchToQueueAdminHubExtension="WebAccess.DistributedTask.Queue.Extension";n.WebAccessVersionControlCherryPick="WebAccess.VersionControl.CherryPick";n.SourceControlCherryPick="SourceControl.CherryPick";n.SourceControlRevert="SourceControl.Revert";n.WebAccessNotificationsUI="Notifications.Web.NotificationsUI";n.WebAccessChatRoomMruOnlineCount="WebAccess.ChatRoom.MruOnlineCount";n.UsersAndRoomsHubs="WebAccess.ContributedHeader.UsersAndRoomsHubs";n.NewBuildCIWF="WebAccess.Build.NewCIWorkflow";n.WebAccessBlockCustomization="WebAccess.WorkItemTracking.BlockCustomization";n.NewAccountHomePage="WebAccess.Account.NewLandingPage";n.NewAccountHomePageUserToggle="WebAccess.Account.NewLandingPageUserToggle";n.WebAccessMyExperiencesNewProjectCreation="WebAccess.MyExperiences.NewProjectCreation";n.WebAccessGettingStarted="WebAccess.VersionControl.GettingStarted";n.DeleteTestWorkItems="TestManagement.Delete.TestWorkItems";n.PicklistSuggestedValues="WorkItemTracking.Server.SuggestedValues"}(r=t.FeatureAvailabilityFlags||(t.FeatureAvailabilityFlags={})),function(n){n[n.Off=0]="Off";n[n.Advertising=1]="Advertising";n[n.Trial=2]="Trial";n[n.Licensed=3]="Licensed"}(t.FeatureMode||(t.FeatureMode={}));u=t.FeatureMode,function(n){n.MruHubPath="/WebAccess/MRU/Hub";n.MruCookieName="StickyHub";n.EmitHubMruViewDataKey="TFS-EmitHubMru"}(f=t.HubsConstants||(t.HubsConstants={})),function(n){n.Admin="65AC9DB3-BB0A-42fe-B584-A690FB0D817B";n.AdvancedBacklogManagement="CEDD6BE8-B717-4a0a-8BFD-C4E9B4CAA071";n.AdvancedHomePage="509B6940-9948-47e6-A392-99E0CA873F65";n.AdvancedPortfolioBacklogManagement="F1026762-C08D-4de3-9C17-7587296F3CFE";n.AgileBoards="181DDF83-AFAF-4982-97D9-870AE96BB8D3";n.BacklogManagement="EC7545A3-E5DB-40E8-B0D0-F64DF7619BBA";n.Build="D8BE799B-2716-4c4b-A939-E97C46A28CAA";n.ChartAuthoring="F01E607A-F55C-4038-8F4B-7956712DEA22";n.ChartViewing="A510D786-5E4B-432F-8C31-F9D7B42CF17E";n.ChatRooms="AE97B526-0D80-401E-9EC5-EA74BA543855";n.Code="2FF0A29B-5679-44f6-8FAD-F5968AE3E32E";n.Feedback="BB000720-4CF7-466A-BA47-1AB40B7A8DFB";n.PortfolioBacklogManagement="68DFF179-850A-4F20-A489-E6BD6E6A17EC";n.ReleaseManagementStakeholder="F2CB3207-42D8-42CA-81F3-43F9C5182AF7";n.ReleaseManagement="321CEBB8-72F6-40E6-836D-47580566CCF4";n.Standard="D91355E2-2A55-4CBE-9636-4D73F70FBA7C";n.TestManagementForBasicUsers="2BAEE8C9-BB36-4DE1-B991-3C1B6B5CB2B5";n.TestManagementForExpressSku="2DD84BB6-7821-4FDE-85BA-A6CC4AB1B7E9";n.TestManagement="8D00EEB7-D5AD-4141-B601-FBB500F264BA";n.ViewMyWorkItems="4F5D9D44-EC3F-4AF1-921A-DEE2147C54DC";n.TestManagementForStakeholder="D104EA57-16EA-4191-9B60-160D664EE9A8"}(e=t.LicenseFeatureIds||(t.LicenseFeatureIds={})),function(n){n.DismissNotificationRegistryPath="/notification/dismiss/"}(o=t.Messages||(t.Messages={})),function(n){n[n.Deleting=2]="Deleting";n[n.New=0]="New";n[n.WellFormed=1]="WellFormed";n[n.CreatePending=3]="CreatePending";n[n.All=-1]="All";n[n.Unchanged=-2]="Unchanged";n[n.Deleted=4]="Deleted"}(t.ProjectState||(t.ProjectState={}));s=t.ProjectState,function(n){n.EveryoneInTenant="EveryoneInTenant";n.TeamMembers="TeamMembers"}(h=t.ProjectVisibilityConstants||(t.ProjectVisibilityConstants={})),function(n){n.VersionControlCapabilityName="versioncontrol";n.VersionControlCapabilityAttributeName="sourceControlType";n.VersionControlGitEnabledAttributeName="gitEnabled";n.VersionControlTfvcEnabledAttributeName="tfvcEnabled";n.ProcessTemplateCapabilityName="processTemplate";n.ProcessTemplateCapabilityTemplateNameAttributeName="templateName";n.ProcessTemplateCapabilityTemplateTypeIdAttributeName="templateTypeId"}(c=t.TeamProjectCapabilitiesConstants||(t.TeamProjectCapabilitiesConstants={}))});
define("Presentation/Scripts/TFS/TFS.Host.TfsContext",["require","exports","VSS/VSS","VSS/Context","VSS/Diag","VSS/Common/Contracts/Platform"],function(n,t,i,r,u,f){function c(){s=$.now()}var s,o,l,e,h;t.setImageTimestamp=c;o=function(){function n(n){this._options=n||{}}return n.prototype.getRootPath=function(){return this._options.rootPath||"/"},n.prototype.getTheme=function(){return this._options.theme||"Default"},n.prototype.getResourcesPath=function(){return this._options.resourcesPath||this.getRootPath()+"_content/"},n.prototype.getResourcesFile=function(n){return this.getResourcesPath()+encodeURIComponent(n)},n.prototype.getTfsStaticRootPath=function(){return this._options.staticRootTfs||"/tfs/_static/tfs/12/"},n.prototype.get3rdPartyStaticRootPath=function(){return this._options.staticRoot3rdParty||"/tfs/_static/3rdParty/"},n.prototype.getThemedFile=function(n){return this.getTfsStaticRootPath()+"App_Themes/"+encodeURIComponent(this.getTheme())+"/"+encodeURIComponent(n)},n.prototype.getWebApiVersion=function(){return this._options.webApiVersion||"1"},n.prototype.getMailSettings=function(){return this._options.mailSettings},n}();t.Configuration=o,function(n){n[n.None=0]="None";n[n.Deployment=1]="Deployment";n[n.Application=2]="Application";n[n.Collection=4]="Collection";n[n.Project=8]="Project";n[n.Team=16]="Team";n[n.ApplicationAll=15]="ApplicationAll";n[n.All=31]="All"}(t.NavigationContextLevels||(t.NavigationContextLevels={}));l=t.NavigationContextLevels,function(n){n[n.Parent=-1]="Parent";n[n.Unknown=0]="Unknown";n[n.Deployment=1]="Deployment";n[n.Application=2]="Application";n[n.ProjectCollection=4]="ProjectCollection"}(t.TeamFoundationHostType||(t.TeamFoundationHostType={}));e=t.TeamFoundationHostType;h=function(){function n(t){this.contextData=t;var i=r.getPageContext();this.navigation={applicationServiceHost:n.createServiceHost(t.account,f.ContextHostType.Application,t,i.webAccessConfiguration.paths.rootPath),area:i.navigation.area,areaPrefix:i.webAccessConfiguration.api.areaPrefix,collection:n.createServiceHost(t.collection,f.ContextHostType.ProjectCollection,t,i.webAccessConfiguration.paths.rootPath),controllerPrefix:i.webAccessConfiguration.api.controllerPrefix,currentAction:i.navigation.currentAction,currentController:i.navigation.currentController,currentParameters:i.navigation.currentParameters,project:null,projectId:null,publicAccessPoint:{authority:t.host.authority,scheme:t.host.scheme,uri:t.account?t.account.uri:t.host.uri},serviceHost:n.createServiceHost(t.host,t.host.hostType,t,i.webAccessConfiguration.paths.rootPath),topMostLevel:i.navigation.topMostLevel,team:null,teamId:null};this.navigation.publicAccessPoint.uri[this.navigation.publicAccessPoint.uri.length-1]!=="/"&&(this.navigation.publicAccessPoint.uri+="/");t.project&&(this.navigation.project=t.project.name,this.navigation.projectId=t.project.id);t.team&&i.navigation.topMostLevel===f.NavigationContextLevels.Team&&(this.navigation.team=t.team.name,this.navigation.teamId=t.team.id);this.configuration=new o({mailSettings:i.webAccessConfiguration.mailSettings,resourcesPath:i.webAccessConfiguration.paths.resourcesPath,rootPath:i.webAccessConfiguration.paths.rootPath,staticRoot3rdParty:i.webAccessConfiguration.paths.staticRoot3rdParty,staticRootTfs:i.webAccessConfiguration.paths.staticRootTfs,theme:i.globalization.theme,webApiVersion:i.webAccessConfiguration.api.webApiVersion});this.isHosted=!!i.webAccessConfiguration.isHosted;this.allowStatsCollection=!!i.diagnostics.allowStatsCollection;this.activityId=i.diagnostics.activityId;this.sessionId=i.diagnostics.sessionId;this.isAADAccount=!!t.host.isAADAccount;this.isSameHost=window.self==window.top;t.user&&(this.currentUser=t.user.name,this.standardAccessMode=!t.user.limitedAccess,this.currentIdentity={displayName:t.user.name,email:t.user.email,id:t.user.id,isActive:!0,isContainer:!1,uniqueName:t.user.uniqueName});t.team&&(this.currentTeam={name:t.team.name,identity:{displayName:t.team.name,id:t.team.id,isActive:!0,isContainer:!0,email:null,uniqueName:null}})}return n.getContextOrDefault=function(t){var i=r.parseWebContext(t);return i?new n(i):n.getDefault()},n.getDefault=function(){if(!n._defaultTfsContext){var t=r.getDefaultWebContext();if(!t)throw new Error("Default context information is missing.");n._defaultTfsContext=new n(t)}return n._defaultTfsContext},n.tryGetDefaultContext=function(){if(typeof n._defaultTfsContext=="undefined"){var t=r.getDefaultWebContext();n._defaultTfsContext=t?new n(t):null}return n._defaultTfsContext},n.createServiceHost=function(n,t,i,r){return n?{hostType:t,name:n.name,instanceId:n.id,uri:n.uri,relVDir:this.trimVirtualPath(n.relativeUri,r),vDir:n.relativeUri}:null},n.trimVirtualPath=function(n,t){if(!n||n.length===0)return n;for(n.toLowerCase().indexOf(t.toLowerCase())===0&&(n=n.substr(t.length));n.length>0&&n[0]==="/";)n=n.substr(1);while(n.length>0&&n[n.length-1]==="/")n=n.substr(0,n.length-1);return n},n.prototype.getSessionId=function(){var t,r,i,u,n;for(t=this.sessionId,r=document.cookie?document.cookie.split("; "):[],i=0,u=r.length;i<u;i++)if(n=r[i].split("="),n&&n.length===2&&n[0]==="Tfs-SessionId"){t=n[1];break}return this.sessionId=t,t},n.prototype.getHostUrl=function(){return this.navigation.publicAccessPoint.scheme+"://"+this.navigation.publicAccessPoint.authority},n.prototype.getServiceHostUrl=function(){return this.navigation.serviceHost.vDir},n.prototype.getPublicActionUrl=function(n,t,i){var r=this._constructActionUrl(n,t,i);return this.getHostUrl()+this.configuration.getRootPath()+r},n.prototype.getActionUrl=function(n,t,i){if(!this.isSameHost)return this.getPublicActionUrl(n,t,i);var r=this._constructActionUrl(n,t,i);return this.configuration.getRootPath()+r},n.prototype.getCollectionActionUrl=function(n,t,i,r){var u=this._getCollectionTfsContext(n);return u.getActionUrl(t,i,r)},n.prototype.getCollectionTfsContext=function(n){var t=$.extend(!0,{},this);return t.navigation.serviceHost=n,t.navigation.collection=n,t.contextData=$.extend(!0,{},t.contextData),t.contextData.host.id=n.instanceId,t.contextData.host.name=n.name,t.contextData.host.uri=n.uri,t.contextData.host.relativeUri=n.vDir,t.contextData.host.hostType=f.ContextHostType.ProjectCollection,t.contextData.collection=t.contextData.host,t},n.prototype._getCollectionTfsContext=function(n){if(this.navigation.serviceHost.hostType===e.ProjectCollection&&this.navigation.serviceHost.name.toLowerCase()===n.toLowerCase())return this;var t={instanceId:"",name:n,hostType:e.ProjectCollection,vDir:"",relVDir:n};return this.getCollectionTfsContext(t)},n.prototype.getPermalinkUrl=function(n,t,i){var r=this._constructPermalinkUrl(n,t,i);return this.configuration.getRootPath()+r},n.prototype.getIdentityImageUrl=function(t,i){var r={area:n._API,project:"",id:t,t:s};return this.getActionUrl("IdentityImage","common",$.extend(r,i))},n.prototype.isEmbedded=function(){return!!this.getClientHost()},n.prototype.getClientHost=function(){return r.getPageContext().webAccessConfiguration.clientHost},n.prototype._constructActionUrl=function(t,r,u){var h=this.navigation,o=[],c,a,v,f,l,w,b,d,s,k,y,p;if(b=h.areaPrefix||"",d=h.controllerPrefix||"",f=$.extend({},u),s=f.area,typeof s=="undefined"&&(s=h.area),delete f.area,c=f.serviceHost,typeof c=="undefined"&&(c=h.serviceHost),c&&(c.relVDir&&o.push(encodeURI(c.relVDir)),c.hostType===e.ProjectCollection&&(k=this._shouldBuildApiUrl(s,f),a=f.project,typeof a=="undefined"&&(a=k?h.projectId:h.project),a&&(o.push(encodeURIComponent(a)),v=f.team,(f.includeTeam=="undefined"||f.includeTeam==null)&&(f.includeTeam=!0),f.includeTeam&&(typeof v=="undefined"&&(v=k?h.teamId:h.team),v&&o.push(encodeURIComponent(v)))))),delete f.serviceHost,delete f.project,delete f.team,delete f.includeTeam,s)if($.isArray(s))for(y=s,y.length>0&&o.push(encodeURIComponent(b+y[0])),p=1;p<y.length;p++)o.push(encodeURIComponent(y[p]));else o.push(encodeURIComponent(b+s));return r||(r=f.controller),delete f.controller,t||(t=f.action),delete f.action,l=f.parameters,delete f.parameters,l&&(r||(r=n._DEFAULT_CONTROLLER_NAME),t||(t=n._DEFAULT_ACTION_NAME)),r&&(o.push(encodeURIComponent(d+r)),t&&(o.push(encodeURIComponent(t)),l&&($.isArray(l)?o.push.apply(o,$.map(l,encodeURIComponent)):o.push(encodeURIComponent(l))))),(f.includeVersion||s===n._API)&&(f[n._VERSION]=this.configuration.getWebApiVersion()),f.includeLanguage&&i.uiCulture&&(f[n._LANGUAGE]=i.uiCulture),delete f.includeVersion,f.area!==n._API&&this.getClientHost()&&(f[n._CLIENTHOST]=this.getClientHost()),w=$.param(f),o.join("/")+(w?"?"+w:"")},n.prototype._constructPermalinkUrl=function(t,i,r){var s=this.navigation,u=[],f=$.extend({},r),o,h=s.controllerPrefix||"",c=i||f.controller||n._DEFAULT_CONTROLLER_NAME,l=t||f.action||n._DEFAULT_ACTION_NAME,e=f.parameters;return u.push(n._PERMALINK_PREFIX),u.push(encodeURIComponent(h+c)),u.push(encodeURIComponent(l)),delete f.controller,delete f.action,delete f.parameters,e&&($.isArray(e)?u.push.apply(u,$.map(e,encodeURIComponent)):u.push(encodeURIComponent(e))),o=$.param(f),u.join("/")+(o?"?"+o:"")},n.prototype._shouldBuildApiUrl=function(t,i){var r;return t&&(r=$.isArray(t)?t[0]:t),i.useApiUrl||r===n._API&&(typeof i.useApiUrl=="undefined"||i.useApiUrl)},n._DEFAULT_CONTROLLER_NAME="home",n._DEFAULT_ACTION_NAME="index",n._CLIENTHOST="clientHost",n._VERSION="__v",n._LANGUAGE="__loc",n._PERMALINK_PREFIX="_permalink",n._API="api",n.ControlExtensions={initializeEnhancementOptions:function(t,i){return $.extend({},i,{tfsContext:n.getContextOrDefault(t)})}},n}();t.TfsContext=h});
define("Presentation/Scripts/TFS/TFS.NotificationEventNames",["require","exports"],function(n,t){var i;(function(n){n.NotificationDismissed="notification-dismissed";n.ClientNotificationDismissed="local-notification-dismissed"})(i=t.EventNames||(t.EventNames={}))});
define("Presentation/Scripts/TFS/TFS.Service",["require","exports","VSS/Service","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Context","VSS/Common/Contracts/Platform"],function(n,t,i,r,u,f){var e=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this.tfsConnection=t},t.prototype.getTfsContext=function(){if(!this._tfsContext){var n=this.getWebContext();this._tfsContext=n===u.getDefaultWebContext()?r.TfsContext.getDefault():new r.TfsContext(n)}return this._tfsContext},t.prototype.getCurrentServiceHost=function(){var n=this.getTfsContext(),t=this.getConnection().getHostType();return t===f.ContextHostType.ProjectCollection?n.navigation.collection:t===f.ContextHostType.Application?n.navigation.applicationServiceHost:n.navigation.serviceHost},t}(i.VssService);t.TfsService=e});
define("VSS/Diag/Services",["require","exports","VSS/Ajax","VSS/Context","VSS/Service"],function(n,t,i,r,u){function s(){var n=r.getPageContext();n&&n.diagnostics.allowStatsCollection&&n.diagnostics.activityId&&u.getLocalService(f).logActivity(n.diagnostics.activityId,window.location.href)}var f=function(){function n(){this._activtyIdHeader="ActivityId";this._progressPendingActions=null;this._progressPendingActionsNewId=0;this._progressPendingActions={};this._activtyStatsCollectionAllowedCallbacks=[]}return n.prototype.initialize=function(){},n.prototype.addActivtyStatsCollectionAllowedCallback=function(n){this._activtyStatsCollectionAllowedCallbacks.push(n)},n.prototype.actionStarted=function(n){if(!this.isCollectingStats())return-1;var t=++this._progressPendingActionsNewId;return this._progressPendingActions[t]=n,t},n.prototype.actionCompleted=function(n,t){var r=null,i,u,f;if(n>-1&&this._allowStatsCollection()&&this.isCollectingStats()&&(i=this._progressPendingActions[n],i)){delete this._progressPendingActions[n];try{u=t.getResponseHeader(this._activtyIdHeader);u&&i.toLowerCase().indexOf("/_apis/stats/activities")===-1&&(r=this.getCurrentPage(),f={actionDate:(new Date).toUTCString(),name:i,id:u,status:t.status,parentId:r?r.id:null},this._saveActivity(f))}catch(e){this.clearStats()}}},n.prototype.logActivity=function(n,t){try{if(this._allowStatsCollection()&&t&&t.toLowerCase().indexOf("_statistics")===-1){var i={actionDate:(new Date).toUTCString(),name:t,id:n};this._saveActivity(i,!0)}}catch(r){this.clearStats()}},n.prototype.getActivityStatistics=function(){try{var t=window.localStorage.getItem(n.ACTIVITY_ID_STORAGE_ITEM);return t?JSON.parse(t):[]}catch(i){return[]}},n.prototype.clearStats=function(){try{window.localStorage.removeItem(n.ACTIVITY_ID_STORAGE_ITEM);window.localStorage.removeItem(n.CURRENT_PAGE)}catch(t){}},n.prototype.collectStats=function(t){try{window.localStorage.setItem(n.ACTIVITY_COLLECTION_STATUS,t.toString())}catch(i){}},n.prototype.getCurrentPage=function(){try{var t=window.localStorage.getItem(n.CURRENT_PAGE);if(t)return JSON.parse(t)}catch(i){}return null},n.prototype.setCurrentPage=function(t){try{window.localStorage.setItem(n.CURRENT_PAGE,JSON.stringify(t))}catch(i){}},n.prototype.isCollectingStats=function(){try{var t=window.localStorage.getItem(n.ACTIVITY_COLLECTION_STATUS);return t?(t=t.toLowerCase(),t==="true"?!0:t==="false"?!1:(window.localStorage.removeItem(n.ACTIVITY_COLLECTION_STATUS),!1)):!1}catch(i){return!1}},n.prototype._saveActivity=function(t,i){if(this.isCollectingStats()&&this._allowStatsCollection()){var r=this.getActivityStatistics();r.push(t);window.localStorage.setItem(n.ACTIVITY_ID_STORAGE_ITEM,JSON.stringify(r));i&&this.setCurrentPage(t)}},n.prototype._allowStatsCollection=function(){for(var t=!0,n=0;n<this._activtyStatsCollectionAllowedCallbacks.length;n++)t=t&&this._activtyStatsCollectionAllowedCallbacks[n]();return t},n.ACTIVITY_COLLECTION_STATUS="TFS.ActivityCollectionStatus",n.ACTIVITY_ID_STORAGE_ITEM="TFS.ActivityIdStats",n.CURRENT_PAGE="TFS.CurrentPageActivity",n}(),e,o;t.ActivityStatsCollector=f;s();u.getLocalService(f).addActivtyStatsCollectionAllowedCallback(function(){var n=r.getPageContext();return!!(n&&n.diagnostics.allowStatsCollection)});e={};o=r.getPageContext();o&&o.diagnostics.allowStatsCollection&&i.addGlobalListener({beforeRequest:function(n,t){var i=u.getLocalService(f).actionStarted(t);e[n]=i},responseReceived:function(n,t,i,r){u.getLocalService(f).actionCompleted(e[n],r);delete e[n]}})});
define("Presentation/Scripts/TFS/TFS.Legacy.Ajax",["require","exports","VSS/Context","VSS/VSS","VSS/Service","VSS/Diag/Services","VSS/Utils/Core","VSS/Utils/String","VSS/Diag","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation"],function(n,t,i,r,u,f,e,o,s,h){function rt(n,i,e,o,h){var l,v,y,a;if(s.logTracePoint("Ajax.response-received",h.requestId),u.getLocalService(f.ActivityStatsCollector).actionCompleted(tt[h.requestId],e),delete tt[ot],h.isComplete=!0,delete w[h.requestId],h.options!==null&&h.options!==undefined&&h.options.wait!==null&&h.options.wait!==undefined&&t.endWait(h),i!=="timeout"&&e&&e.status===203&&(l=e.getResponseHeader("X-Tfs-Location"),l)){if(v=l.indexOf("reply_to="),v!==-1){for(y=l.indexOf("&",v),a=l.substring(0,v),y!==-1&&(a+=l.substring(y));a.charAt(a.length-1)==="&";)a=a.substring(0,a.length-1);l=a+"&reply_to="+encodeURIComponent(window.location.href)}window.location.href=l;return}if(o)try{o(n,i,e)}catch(p){s.logTracePoint("Ajax.callback-exception",p);c(p)}s.logTracePoint("Ajax.callback-complete",h.requestId);h.progressActionId&&r.globalProgressIndicator.actionCompleted(h.progressActionId);h.options&&h.options.tracePoint&&s.logTracePoint(h.options.tracePoint)}function l(n,t){return function(i,r,u){rt(i,r,u,t,n)}}function v(n,i,r){return function(u,f,o){rt(null,f,u,function(){var n;if(f==="timeout")c(at(u,r),i);else if(u.status===0)t.unloadRequested||t.unloading||e.delay(this,2e3,function(){t.unloadRequested||t.unloading||c(st(u,r),i)});else if(u.status>=12e3&&u.status<13e3)t.unloadRequested||t.unloading||c(st(u,r),i);else{if(t.unloading&&f==="abort")return;try{n=e.parseMSJSON(u.responseText,!1)}catch(s){}n?c(new it(n.message,n.type),i):c(lt(u,o||u.statusText||u.status,r),i)}},n)}}function a(n,i,e){var o,h,c;return o={isComplete:!1,requestId:ot++,options:e},e&&e.wait&&t.startWait(o),h=n+" ("+o.requestId+")",s.logTracePoint("Ajax.request-started",h),c=u.getLocalService(f.ActivityStatsCollector).actionStarted(n),tt[o.requestId]=c,e&&e.showGlobalProgressIndicator===!1||(o.progressActionId=r.globalProgressIndicator.actionStarted(h)),w[o.requestId]=o,o}function ht(n){var t=n.options.wait;t.entireWindow||(t.element.css("margin-top",-parseInt(t.target.css("padding-top"),10)),t.element.css("margin-left",-parseInt(t.target.css("padding-left"),10)),t.element.height(t.target.outerHeight()-2),t.element.width(t.target.outerWidth()-2));t.msgElement&&(t.msgElement.css("top",t.element.position().top+(t.element.height()-t.msgElement.height())/2+parseInt(t.element.css("margin-top"),10)),t.msgElement.css("left",t.element.position().left+(t.element.width()-t.msgElement.width())/2+parseInt(t.element.css("margin-left"),10)))}function ut(n){var t;return typeof n=="string"&&(n=n.replace(/\u2028/g,"\\u2028")),t=e.parseMSJSON(n,!1),t.hasOwnProperty("__wrappedArray")&&(t=t.__wrappedArray),t}function vt(){t.unloadRequested=!0;e.delay(this,2e3,function(){t.unloadRequested=!1})}function y(n){var t,u,r;return(n&&(t=n.sessionId,u=n.command),t||(r=i.getPageContext(),r&&r.diagnostics&&r.diagnostics.sessionId&&(t=r.diagnostics.sessionId)),t)?u?{"X-TFS-Session":t+","+u}:{"X-TFS-Session":t}:{}}function yt(n,t,i,r,u){var f=a(n,t,u),e={type:"GET",data:t,success:l(f,i),error:v(f,r,n),dataType:"json",traditional:!0,timeout:d,headers:y(u)};return nt.allowArrayResult||(e.converters={"text json":ut}),f.xhr=jQuery.ajax(n,$.extend(!0,e,u)),f}function ct(n,t,i,r,u,f){var h,o,e,c,s,w;if(nt.byPassAntiForgery||(t=$.extend(t||{},{__RequestVerificationToken:k()}),h=p(),h&&(t=$.extend(t,{__RequestVerificationToken2:h}))),o=a(n,t,u),u&&u.timeout&&(d=u.timeout),e={type:"POST",data:t,success:l(o,i),error:v(o,r,n),dataType:"json",traditional:!0,timeout:d,headers:y(u)},nt.allowArrayResult||(e.converters={"text json":ut}),f)for(e.contentType=!1,e.processData=!1,e.data=new FormData,c=Object.keys(t),s=0;s<c.length;s++)w=c[s],e.data.append(w,t[w]);try{o.xhr=jQuery.ajax(n,$.extend(!0,e,u))}catch(b){r(b)}return o}function pt(n,t,i,r,u){return ct(n,t,i,r,u,!0)}function wt(n,t,i,r,u){var e,f;return t=$.extend(t,{__RequestVerificationToken:k()}),e=p(),e&&(t=$.extend(t,{__RequestVerificationToken2:e})),f=a(n,t,u),f.xhr=jQuery.ajax(n,$.extend(!0,{type:"POST",data:t,ajaxHandler:this,success:l(f,i),error:v(f,r,n),dataType:"html",traditional:!0,cache:!1,headers:y(u)},u)),f}function bt(n,t,i,r,u){var f=a(n,t,u);return f.xhr=jQuery.ajax(n,$.extend(!0,{type:"GET",data:t,success:l(f,i),error:v(f,r,n),dataType:"html",traditional:!0,cache:!1,headers:y(u)},u)),f}function kt(n){var t=a(n&&n.url,n&&n.data,n);return t.xhr=jQuery.ajax(n&&n.url,$.extend(!0,{type:"GET",dataType:"jsonp",traditional:!0,success:l(t,n&&n.callback),headers:y(n)},n)),t}function k(){return ft||(ft=$("input[name=__RequestVerificationToken]").val()),ft}function p(){return et||(et=$("input[name=__RequestVerificationToken2]").val()),et}function dt(){var n,t;return n=$("<input />").attr("type","hidden").attr("name","__RequestVerificationToken").val(k()),t=p(),t&&n.after($("<input />").attr("type","hidden").attr("name","__RequestVerificationToken2").val(p())),n}function gt(n){var t=$(n);if(t.find("input[name=__RequestVerificationToken]").length===0)return t.append(dt())}var it,ft,et;t.unloading=!1;t.unloadRequested=!1;var ot=1,d=3e5,c=r.handleError,w,g,nt={allowArrayResult:!1,byPassAntiForgery:!1},tt={},b;(function(n){n.AjaxException="TFS.Core.Ajax.AjaxException";n.AjaxTimeoutException="TFS.Core.Ajax.AjaxTimeoutException";n.NetworkException="TFS.Core.Ajax.NetworkException"})(b=t.Exceptions||(t.Exceptions={}));w={};it=function(){function n(n,t){this.message=n;this.type=t}return n}();t.XhrError=it;var lt=function(n,t,i){var r=new Error(o.format(h.AjaxRequestFailedWithStatus,t));return r.name=b.AjaxException,r.response=n.responseText,r.xhr=n,r.source=i,r},at=function(n,t){var i=new Error(h.AjaxRequestTimedOut);return i.name=b.AjaxTimeoutException,i.status=n.status,i.xhr=n,i.source=t,i},st=function(n,t){var i=new Error(h.NetworkConnectionUnavailable);return i.name=b.NetworkException,i.status=n.status,i.xhr=n,i.source=t,i};t.endRequest=rt;t.wrapSuccessCallback=l;t.wrapErrorCallback=v;t.beginRequest=a;t.startWait=function(n){var t=n.options.wait;t.end=function(){t.element&&n.isComplete&&!t.timeout&&(t.fade!==!1?(t.element.css("cursor","auto"),t.element.fadeOut("fast",function(){t.element.remove();t.element=null}),t.msgElement&&(t.msgElement.css("cursor","auto"),t.msgElement.fadeOut("fast",function(){t.msgElement.remove();t.msgElement=null}))):(t.element.css("cursor","auto"),t.element.remove(),t.element=null,t.msgElement&&(t.msgElement.css("cursor","auto"),t.msgElement.remove(),t.msgElement=null)),$(window).unbind("resize."+n.requestId))};t.showDelay||(t.showDelay=250);t.target||(t.entireWindow=!0,t.target=$("body"));t.target.children(".wait-element").hide();t.target.children(".wait-box").hide();t.showDelay!==0?n.showTimer=e.delay(this,t.showDelay,function(){delete n.showTimer;g(n)}):g(n)};t.endWait=function(n){n.options.wait.end();n.showTimer&&(n.showTimer.cancel(),delete n.showTimer)};g=function(n){var i="",r="",t=n.options.wait;t.image&&(i+='<img class="wait-image" src="'+t.image+'" />');t.message&&(i+='<div class="wait-message">'+t.message+"<\/div>");i.length>0&&(t.target.prepend('<div class="wait-box">'+i+"<\/div>"),t.msgElement=t.target.children(".wait-box").first());t.backgroundcolor&&(r+="background-color: "+t.backgroundcolor+";");t.target.prepend('<div class="wait-element" style="'+r+'"><\/div>');t.element=t.target.children(".wait-element").first();ht(n);$(window).bind("resize."+n.requestId,function(){ht(n)});t.minLifetime||(t.minLifetime=100);t.timeout=e.delay(this,t.minLifetime,function(){delete t.timeout;t.end()})};t.msJSONFilter=ut;$(window).bind("beforeunload",vt);$(window).bind("unload",function(){t.unloading=!0;$.each(w,function(n,t){if(t.xhr)try{t.xhr.abort()}catch(i){}})});t.getMSJSON=yt;t.postMSJSON=ct;t.multipartPostMSJSON=pt;t.postHTML=wt;t.getHTML=bt;t.getJSONp=kt;t.getAntiForgeryTokenValue=k;t.getAntiForgeryTokenValue2=p;t.setAntiForgeryToken=gt});
define("Presentation/Scripts/TFS/TFS.WebSettingsService",["require","exports","Presentation/Scripts/TFS/TFS.Service","Presentation/Scripts/TFS/TFS.Legacy.Ajax","VSS/Diag"],function(n,t,i,r,u){(function(n){n[n.User=1]="User";n[n.Team=2]="Team";n[n.UserAndTeam=3]="UserAndTeam";n[n.Project=4]="Project";n[n.ProjectAndUser=5]="ProjectAndUser";n[n.Collection=6]="Collection";n[n.Root=7]="Root"})(t.WebSettingsScope||(t.WebSettingsScope={}));var f=t.WebSettingsScope,e=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.canAccessTeamSettings=function(){var n=this.getTfsContext();return Boolean(n.currentTeam)},t.prototype.beginWriteSetting=function(n,t,i,u,e,o){var s;return typeof t=="boolean"?s="setBoolean":typeof t=="number"?(t=Math.floor(t),s="setInteger"):(s="setString",typeof t=="undefined"?t=null:t!==null&&typeof t!="string"&&(t=$.param(t))),typeof i=="undefined"&&(i=f.User),r.postMSJSON(this._getApiLocation(s,this._getContext(i)),{path:n,value:t,scope:i},u,e,o)},t.prototype.beginReadSetting=function(n,t,i,u,e){return typeof t=="undefined"&&(t=f.User),r.getMSJSON(this._getApiLocation("readSetting",this._getContext(t)),{path:n,scope:t},i,u,e)},t.prototype.writeLocalSetting=function(n,t,i,r){var f=this._getScopedKey(n,i);if(f)try{window.localStorage.setItem(f,t)}catch(e){if(r)throw e;else u.logWarning("Local storage write failed."),u.logWarning(e)}},t.prototype.readLocalSetting=function(n,t,i){var r=this._getScopedKey(n,t);if(r)try{return window.localStorage.getItem(r)}catch(f){if(i)throw f;else u.logWarning("Local storage read failed."),u.logWarning(f)}return null},t.prototype._getScopedKey=function(n,t){var i=this.getTfsContext(),r=i.currentIdentity?i.currentIdentity.id:null,o=i.currentTeam?i.currentTeam.identity.id:null,s,e;switch(t){case f.User:return r+n;case f.Team:return o+n;case f.UserAndTeam:return r+"/"+o+n;case f.Project:return e=i.navigation?i.navigation.projectId:null,s=i.navigation?i.navigation.collection.instanceId:null,s+"/"+e+n;case f.ProjectAndUser:return e=i.navigation?i.navigation.projectId:null,e+"/"+r+n;default:return null}},t.prototype._getApiLocation=function(n,t){return this.getTfsContext().getActionUrl(n,"webSettings",{area:"api",team:t.team,project:t.project,serviceHost:this.getCurrentServiceHost()})},t.prototype._getContext=function(n){return n===f.User||n===f.Collection?{team:"",project:""}:{team:this.getTfsContext().currentTeam.identity.id}},t}(i.TfsService);t.WebSettingsService=e});
define("Presentation/Scripts/TFS/TFS.Host.UI.Actions",["require","exports"],function(){var n;return function(n){n.ACTION_MANAGE_TEAM_MEMBERS="manage-team-members";n.ACTION_REQUEST_FEEDBACK="request-feedback";n.ACTION_CREATE_WORKITEMS="create-work-items";n.ACTION_NEW_ROOM="create-new-room";n.ACTION_NEW_PROJECT="create-new-project";n.ACTION_SET_MRU_PAGE="set-mru-page";n.ACTION_UNPIN_TILE="unpin-homepage-tile"}(n||(n={})),n});
define("Presentation/Scripts/TFS/TFS.MyExperiences.UrlHelper",["require","exports","q","VSS/Service","VSS/Utils/File","VSS/Utils/String","VSS/Context","VSS/Contributions/Services","VSS/FeatureAvailability/Services","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants"],function(n,t,i,r,u,f,e,o,s,h){var a=r.getService(o.ExtensionService),c=function(){function n(){}return n.ProjectsHubRoute="ms.vss-tfs-web.collection-project-hub-route",n.ProjectCreationDogfoodHubRoute="ms.vss-tfs-web.my-projects-dogfood-hub-route",n.ProjectCreationHubRoute="ms.vss-tfs-web.collection-project-creation-hub-route",n}(),l;t.ContributionConstants=c;l=function(){function n(){}return n.getMyProjectsUrl=function(t){var r=i.defer();return n.getContributionRoute(c.ProjectsHubRoute).then(function(i){r.resolve(n.getWebPageURL(t,i))}),r.promise},n.getCreateNewProjectUrl=function(t,i,r){var u;return u=r===!0||s.FeatureAvailabilityService.isFeatureEnabled(h.FeatureAvailabilityFlags.NewAccountHomePage)?c.ProjectCreationHubRoute:c.ProjectCreationDogfoodHubRoute,n.constructCreateProjectUrl(u,t,i)},n.getWebPageURL=function(t,i){var r=n.getBaseUrl(t),f=r;return i&&(f=u.combinePaths(r,i)),f},n.getBaseUrl=function(n){var t=e.getPageContext(),i=t.webContext,r=t.webAccessConfiguration.isHosted;return r?i.account.uri:u.combinePaths(i.account.uri,n)},n.getContributionRoute=function(n){var t=i.defer(),r=a.getContribution(n);return r.then(function(n){var i=n.properties.routeTemplates;t.resolve(i[0])},function(n){t.reject(n)}),t.promise},n.constructCreateProjectUrl=function(t,r,u){var e=i.defer();return n.getContributionRoute(t).then(function(t){var s=t,o=!1,i;u&&(i=f.empty,u.source&&(i=i+f.format(n.SourceParameter,encodeURIComponent(u.source)),o=!0),u.versionControl&&(i=i+(o===!0?"&":"")+f.format(n.VersionControlParameter,encodeURIComponent(u.versionControl)),o=!0),u.processTemplate&&(i=i+(o===!0?"&":"")+f.format(n.ProcessTemplateParameter,encodeURIComponent(u.processTemplate))),i!==f.empty&&(s=s+"?"+i));e.resolve(n.getWebPageURL(r,s))},function(n){e.reject(n)}),e.promise},n.SourceParameter="source={0}",n.VersionControlParameter="versionControl={0}",n.ProcessTemplateParameter="processTemplate={0}",n}();t.MyExperiencesUrls=l});
define("Admin/Scripts/TFS.Admin.UserCard.Commands",["require","exports","VSS/Locations","Presentation/Scripts/TFS/TFS.Host.TfsContext"],function(n,t,i,r){function u(){document.location.href=i.urlHelper.getMvcUrl({area:"details",action:"profile/information",level:r.NavigationContextLevels.Application})}t.openProfilePage=u});
define("Admin/Scripts/TFS.Admin.Registration.HostPlugins",["require","exports","VSS/Events/Action","Presentation/Scripts/TFS/TFS.Host.UI.Actions","VSS/Controls/Menus","VSS/VSS","VSS/FeatureAvailability/Services","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.MyExperiences.UrlHelper","Admin/Scripts/TFS.Admin.UserCard.Commands"],function(n,t,i,r,u,f,e,o,s,h,c){u.menuManager.attachExecuteCommand(function(n,t){switch(t.get_commandName()){case"browseTeams":case"browseProjects":case"browseCollections":return f.using(["Admin/Scripts/TFS.Admin.Dialogs","Admin/Scripts/TFS.Admin.Controls","VSS/Controls/Dialogs"],function(n,t,i){i.show(n.JumpListDialog);$(window).trigger("browse-dialog-open")}),!1;case"manageUserProfile":return e.FeatureAvailabilityService.isFeatureEnabled(o.FeatureAvailabilityFlags.UseUserDetailsArea)?c.openProfilePage():f.using(["Admin/Scripts/TFS.Admin.Dialogs","VSS/Controls/Dialogs"],function(n,t){t.show(n.UserProfileDialog,{})}),!1;case"create-team-project":if(e.FeatureAvailabilityService.isFeatureEnabled(o.FeatureAvailabilityFlags.WebAccessMyExperiencesNewProjectCreation)){var i=s.TfsContext.getDefault();h.MyExperiencesUrls.getCreateNewProjectUrl(i.navigation.collection.name,{source:t._commandSource}).then(function(n){window.location.href=n})}else f.using(["Admin/Scripts/TFS.Admin.Dialogs","VSS/Controls/Dialogs"],function(n,i){i.show(n.CreateProjectDialog,{source:t._commandSource})});return!1;case"create-team":return f.using(["Admin/Scripts/TFS.Admin.Dialogs","VSS/Controls/Dialogs"],function(n,i){i.show(n.CreateTeamDialog,{source:t._commandSource,navigateToTeamOnSuccess:!0})}),!1;case"toggleNewNavFeatureOff":return f.using(["Admin/Scripts/TFS.Admin.Controls.NewFeatures","Admin/Scripts/Resources/TFS.Resources.Admin"],function(n,t){n.NewNavigationToggle.turnFeatureOffForUser("ms.vss-web.new-navigation-feature",t.NewNavigationFeatureName)}),!1;case"toggleNewNavFeatureOn":return f.using(["Admin/Scripts/TFS.Admin.Controls.NewFeatures"],function(n){n.NewNavigationToggle.turnFeatureOnForUser("ms.vss-web.new-navigation-feature")}),!1;case"toggleNewAccountPageFeatureOff":return f.using(["Admin/Scripts/TFS.Admin.Controls.NewFeatures","Admin/Scripts/Resources/TFS.Resources.Admin"],function(n,t){n.NewNavigationToggle.turnFeatureOffForUser("ms.vss-tfs-web.new-account-landing-feature",t.NewAccountFeatureName)}),!1;case"toggleNewAccountPageFeatureOn":return f.using(["Admin/Scripts/TFS.Admin.Controls.NewFeatures"],function(n){n.NewNavigationToggle.turnFeatureOnForUser("ms.vss-tfs-web.new-account-landing-feature")}),!1}});var l=i.getService();l.registerActionWorker(r.ACTION_MANAGE_TEAM_MEMBERS,function(n){f.using(["Admin/Scripts/TFS.Admin.Dialogs","VSS/Controls/Dialogs"],function(t,i){i.Dialog.beginExecuteDialogAction(function(){i.show(t.ManageTeamMembersDialog,{teamName:n.teamName,joinToGroupTfid:n.teamId,dialogClosed:function(t){$.isFunction(n.callback)&&n.callback.call(this,t)}})})})});l.registerActionWorker(r.ACTION_NEW_PROJECT,function(n){if(e.FeatureAvailabilityService.isFeatureEnabled(o.FeatureAvailabilityFlags.WebAccessMyExperiencesNewProjectCreation)){var t=s.TfsContext.getDefault();h.MyExperiencesUrls.getCreateNewProjectUrl(t.navigation.collection.name,{source:n.source}).then(function(n){window.location.href=n})}else f.using(["Admin/Scripts/TFS.Admin.Dialogs","VSS/Controls/Dialogs"],function(t,i){i.Dialog.beginExecuteDialogAction(function(){i.show(t.CreateProjectDialog,{tfsContext:n.tfsContext,source:n.source})})})});f.tfsModuleLoaded("TFS.Admin.Registration.HostPlugins",t)});
define("Alerts/Scripts/TFS.Alerts.Registration.HostPlugins",["require","exports","VSS/Controls/Menus","VSS/VSS"],function(n,t,i,r){i.menuManager.attachExecuteCommand(function(n,t){switch(t.get_commandName()){case"manageAlerts":return r.using(["Alerts/Scripts/TFS.Alerts.Controls"],function(n){n.AlertDialogs.manageAlerts()}),!1}});r.tfsModuleLoaded("TFS.Alerts.Registration.HostPlugins",t)});
define("Requirements/Scripts/TFS.Requirements.Registration.HostPlugins",["require","exports","VSS/Events/Action","Presentation/Scripts/TFS/TFS.Host.UI.Actions","VSS/VSS"],function(n,t,i,r,u){i.getService().registerActionWorker(r.ACTION_REQUEST_FEEDBACK,function(){u.using(["Requirements/Scripts/TFS.Requirements.Feedback.Views","VSS/Controls/Dialogs"],function(n,t){t.Dialog.beginExecuteDialogAction(function(){t.show(n.RequestView)})})});u.tfsModuleLoaded("TFS.Requirements.Registration.HostPlugins",t)});
define("VSS/Navigation/Services",["require","exports","VSS/Service","VSS/Utils/String","VSS/Events/Handlers"],function(n,t,i,r,u){function f(n,t){var i={};return t&&(n=n||t._a||t.action,i=$.extend(i,t),delete i.action,delete i._a),n&&(i.action=n),i}function o(){return i.getLocalService(e)}var e=function(){function n(){this._namedEvents=new u.NamedEventCollection;window.history.pushState&&(this._usePushState=!0)}return n.prototype.getCurrentFragment=function(){return this._usePushState?n.serializeState(this.getCurrentState()):this.getCurrentHashString()},n.prototype.getCurrentHashString=function(){var n=window.location.hash;return n&&n[0]==="#"&&(n=n.substr(1)),n},n.prototype.getCurrentQueryString=function(){var n=window.location.search;return n&&n[0]==="?"&&(n=n.substr(1)),n},n.prototype.getFragmentActionLink=function(t,i){return"#"+n.serializeState(f(t,i))},n.prototype.getCurrentState=function(){return $.extend(this._ignoreQueryString?{}:n.deserializeState(this.getCurrentQueryString()),n.deserializeState(this.getCurrentHashString()))},n.prototype.replaceHistoryPoint=function(n,t,i,r){this.updateHistoryEntry(n,t,!0,!1,i,r)},n.prototype.addHistoryPoint=function(n,t,i,r){this.updateHistoryEntry(n,t,!1,!0,i,r)},n.prototype.updateHistoryEntry=function(t,i,r,u,e,o){var s={},c,h,l,a;u?(s=this.getCurrentState(),$.each(f(t,i),function(n,t){t===null||typeof t=="undefined"?delete s[n]:s[n]=t})):$.each(f(t,i),function(n,t){t!==null&&typeof t!="undefined"&&t!==""&&(s[n]=t)});c="";h="";this._usePushState?h=n.serializeState(s):c=n.serializeState(s);(c!==this.getCurrentHashString()||h!==this.getCurrentQueryString())&&(this._suppressNavigate=o===!0,this._usePushState?(r?(l="",h?l="?"+h:(a=window.location.toString(),l=a.substring(0,a.indexOf("?"))),window.history.replaceState(null,null,l)):window.history.pushState(null,null,"?"+h),this._onNavigate()):r?window.location.replace("#"+c):window.location.hash=c);e&&(document.title=e)},n.serializeState=function(n){var t=[];return $.each(n,function(n,i){if(i!==null&&typeof i!="undefined"){var r=n==="action"?"_a":n;t.push(r+"="+encodeURIComponent(i))}}),t.join("&")},n.deserializeState=function(n){var t={},i=(n||"").split("&");return i.forEach(function(n){var r=n.split("=",2),i,u;if(r.length===2){i=r[0];i==="_a"&&(i="action");u=r[1].replace(/\+/g,"%20");try{t[i]=decodeURIComponent(u)}catch(f){t[i]=u}}}),t},n.prototype.attachNavigate=function(n,t,i){if($.isFunction(n)){this.attachNavigate(null,n,t||i);return}if(t&&(this._initialized||(this._initialized=!0,this._suppressNavigate=!1,this._setLastNavigateState(),$(window).bind("hashchange",this._onHashChanged.bind(this)),this._usePushState&&$(window).bind("popstate",this._onPopState.bind(this)),this._usePushState&&this._moveHashStateToQueryParams()),this._namedEvents.subscribe(n?n.toString():"*",t),i)){var u=this.getCurrentState();(!n||u.action&&r.equals(u.action,n.toString(),!0))&&(this._setLastNavigateState(),t(this,u))}},n.prototype.detachNavigate=function(n,t){this._initialized&&($.isFunction(n)?this._namedEvents.unsubscribe("*",n):t&&n&&this._namedEvents.unsubscribe(n.toString(),n))},n.prototype._moveHashStateToQueryParams=function(){var n=this.getCurrentHashString();n&&window.history.replaceState(null,null,"?"+n)},n.prototype._onHashChanged=function(){this._usePushState?this._moveHashStateToQueryParams():this._ignoreQueryString=!0;this._onNavigate()},n.prototype._onPopState=function(){this._moveHashStateToQueryParams();this._onNavigate()},n.prototype._onNavigate=function(){if(this._suppressNavigate)this._suppressNavigate=!1,this._setLastNavigateState();else if(this.getCurrentHashString()!==this._lastNavigatedHashString||this.getCurrentQueryString()!==this._lastNavigatedQueryString){this._setLastNavigateState();var n=this.getCurrentState();n.action&&this._namedEvents.invokeHandlers(n.action,this,n);this._namedEvents.invokeHandlers("*",this,n)}},n.prototype._setLastNavigateState=function(){this._lastNavigatedHashString=this.getCurrentHashString();this._lastNavigatedQueryString=this.getCurrentQueryString()},n}();t.HistoryService=e;t.getHistoryService=o});
define("Presentation/Scripts/TFS/TFS.ArtifactPlugins",["require","exports","q","VSS/Diag"],function(n,t,i,r){function e(n,t){n=n.toLowerCase();u[n]=t}function o(){return u}function s(n,t){var i;n=n.toLowerCase();i=u[n];i?i(t):t(null)}function h(n){var t=i.defer();return s(n,function(i){i?t.resolve(i):t.reject("Could not create plug-in of type "+n)}),t.promise}function c(n){return f(n.tool,n.type)}function f(n,t){return(n+"/"+t).toLowerCase()}function l(n){return f(n.tool,n.type)}(function(n){n[n.icon=0]="icon";n[n.colorBar=1]="colorBar";n[n.colorCircle=2]="colorCircle"})(t.ArtifactIconType||(t.ArtifactIconType={}));var a=t.ArtifactIconType,u={};t.registerArtifactPluginAsync=e;t.getGlobalArtifactPlugins=o;t.beginGetArtifactPlugin=h;t.combineArtifactToolAndType=c;t.combineToolAndType=f;t.combineArtifactType=l});
define("VSS/Performance",["require","exports","VSS/Bundling","VSS/Context","VSS/Diag","VSS/Events/Page","VSS/Serialization","VSS/Telemetry/Services","VSS/Utils/Array","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h){function rt(){return y.getInstance()}function ut(){return new y}function a(n){var t={},i,r,f,u;for(t.cached=0,t.duration=0,t.total=n.length,i=0,r=n;i<r.length;i++)f=r[i],u=w(f),t.duration+=u.duration,u.cached&&t.cached++;return t}function ft(n){var t={},e=[],i,u;for(t.total=n.length,i=0,u=n;i<u.length;i++){var o=u[i],r={},f=w(o);r.duration=f.duration;r.name=o.name;t.duration+=f.duration;f.cached&&(r.isCached=!0,t.cached++);e.push(r)}return t.ajaxResourceStats=e,t}function w(n){var t={};t.cached=0;t.duration=0;var i=r.getPageContext().diagnostics.isDevFabric?4:25,u=n.duration,f=n.duration<i;return n.requestStart&&n.responseStart&&n.responseEnd&&(u=n.responseEnd-n.requestStart,f=n.responseStart-n.requestStart<i),t.duration=u,f&&t.cached++,t}function b(){return c.getEntriesByType("resource")||[]}function et(n){return c.getEntriesByName(n)||[]}function k(){var n=b(),t=n.filter(function(n){return n.initiatorType==="script"}),r={scripts:a(t),styles:a(n.filter(function(n){return n.initiatorType==="link"})),ajax:ft(n.filter(function(n){return n.initiatorType==="xmlhttprequest"})),other:a(n.filter(function(n){return n.initiatorType!=="script"&&n.initiatorType!=="link"&&n.initiatorType!=="xmlhttprequest"})),all:a(n),scriptsTotalSize:i.getBundledScriptContentSize(),cssTotalSize:i.getBundledCssContentSize(),bundleLoads:ot(t)};return c.getEntriesByName("requireStart").length>0&&(r.requireStartTime=c.getEntriesByName("requireStart")[0].startTime),r}function ot(n){for(var f,i,e=[],o=d("startLoadBundleOuter","endLoadBundleOuter","loadBundleOuter"),p=d("startLoadBundleInner","endLoadBundleInner","loadBundleInner"),r=0;r<o.length;r++){var t=o[r],u=t.substring(t.indexOf("-")+1),s="loadBundleInner-"+u,h=0,l=0;if(c.getEntriesByName(t).length>0){var a=c.getEntriesByName(t)[0],w=a.duration,b=a.startTime,v=0,y=0;p.filter(function(n){return n===s}).length>0&&c.getEntriesByName(t).length>0&&(f=c.getEntriesByName(s)[0],h=f.duration,l=f.startTime);i=n.filter(function(n){return n.name.indexOf(u)>=0});i.length===1&&(y=i[0].startTime,v=i[0].duration);e.push({bundleName:u,downloadStartTime:y,downloadDuration:v,innerLoad:h,innerStartTime:l,outerLoad:w,outerStartTime:b})}}return e}function d(n,t,i){for(var r,e=[],o=c.getEntriesByType("mark").filter(function(t){return t.name.indexOf(n)===0}),l=c.getEntriesByType("mark").filter(function(n){return n.name.indexOf(t)===0}),u=0;u<o.length;u++){var f=o[u].name,s=f.substring(f.indexOf("-")+1),h=t+"-"+s;l.filter(function(n){return n.name===h}).length>0&&(r=i+"-"+s,c.getEntriesByName(r).length===0&&c.measure(r,f,h),e.push(r))}return e}function g(n){var f=[],s,i,e,t,r,l,o;try{for(s=[{name:"PLT",startEvent:"navigationStart",endEvent:"loadEventEnd",isAggregate:!0},{name:"Redirect",startEvent:"redirectStart",endEvent:"redirectEnd"},{name:"Unload",startEvent:"unloadEventStart",endEvent:"unloadEventEnd"},{name:"Fetch",startEvent:"fetchStart",endEvent:"domainLookupStart"},{name:"DNS",startEvent:"domainLookupStart",endEvent:"domainLookupEnd"},{name:"TCP",startEvent:"connectStart",endEvent:"connectEnd"},{name:"Request",startEvent:"connectEnd",endEvent:"responseStart"},{name:"Server Time",startEvent:"connectEnd",endEvent:"responseEnd",isAggregate:!0},{name:"Response",startEvent:"responseStart",endEvent:"responseEnd"},{name:"DOMProcessing",startEvent:"domLoading",endEvent:"domComplete"},{name:"onLoad",startEvent:"loadEventStart",endEvent:"loadEventEnd"},{name:"Initial Require Statement",startEvent:"requireStart",endEvent:"requireEnd",isAggregate:!0},{name:"Network Time",startEvent:"domainLookupStart",endEvent:"connectEnd"},{name:"PreRequest",startEvent:"navigationStart",endEvent:"connectEnd",isAggregate:!0},{name:"RequestResponse",startEvent:"connectEnd",endEvent:"responseEnd",isAggregate:!0},{name:"FetchResources",startEvent:"responseEnd",endEvent:"requireStart",isAggregate:!0}],i=0,e=s;i<e.length;i++){if(t=e[i],r=c.getEntriesByName(t.name),r.length===0){if(c.getTimingByName(t.startEvent)==null&&c.getEntriesByName(t.startEvent).length===0||c.getTimingByName(t.endEvent)==null&&c.getEntriesByName(t.endEvent).length===0)continue;c.measure(t.name,t.startEvent,t.endEvent);r=c.getEntriesByName(t.name)}l=r.map(function(n){return{name:n.name,startTime:n.startTime,duration:n.duration}})[0];t.perfEntry=l;f.push(t)}}catch(a){u.logWarning("Failed to record navigation events: "+h.getErrorMessage(a))}return n&&(o={name:"TTI",perfEntry:{name:"TTI",duration:n.getDuration(),startTime:0},startEvent:"navigationStart",endEvent:n.getName(),isAggregate:!0},o&&f.push(o)),f}function l(){return Date.now()}function st(){var n=c.getTimingByName("navigationStart");return n===null&&(n=0),n}function nt(){if(!v){v={};var n=e.deserializeJsonIsland($(".vss-web-page-data"),null);n&&n.resolvedProviders&&n.resolvedProviders.forEach(function(n){v[n.id]=n.duration||0})}return v}var tt="Performance",it="Scenario",c,p,y,v;(function(n){function i(n){window.performance&&window.performance.mark&&window.performance.mark(n);console&&console.timeStamp&&console.timeStamp(n)}function r(n,i,r){t(i)&&t(r)&&window.performance&&window.performance.measure&&window.performance.measure(n,i,r)}function t(n){var t=window.performance&&window.performance.timing&&window.performance.timing[n]||null;return typeof t=="undefined"||t===null||t>0}function u(n){return window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType(n)||[]}function f(n){return window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByName(n)||[]}function e(){return n.getEntriesByType("measure")}function o(){return n.getEntriesByType("mark")}function s(n){return window.performance&&window.performance.timing&&window.performance.timing[n]||null}n.mark=i;n.measure=r;n.getEntriesByType=u;n.getEntriesByName=f;n.getMeasures=e;n.getMarks=o;n.getTimingByName=s})(c||(c={}));t.getScenarioManager=rt;t._createScenarioManagerForTesting=ut;p=function(){function n(n,t,i,r,f,e){if(e===void 0&&(e=!1),this._manager=n,this._featureArea=t,this._name=i,this._correlationId=r,this._startTime=f,this._isPageInteractive=e,this._isActive=!0,this._splitTimings=[],typeof this._startTime=="undefined"){this._startTime=l();this._dropPerformanceMarks=!0;var o=this._getIdentifier();try{c.mark(o+"-start")}catch(s){u.logWarning("Could not add mark '"+o+"': "+h.getErrorMessage(s))}}}return n.prototype.getFeatureArea=function(){return this._featureArea},n.prototype.setFeatureArea=function(n){this._featureArea=n},n.prototype.getName=function(){return this._name},n.prototype.setName=function(n){this._name=n},n.prototype.getDuration=function(){return this._endTime?this._endTime-this._startTime:0},n.prototype.getStartTime=function(){return this._startTime},n.prototype.getCorrelationId=function(){return this._correlationId},n.prototype.getData=function(){return this._data},n.prototype.getSplitTimings=function(){return this._splitTimings},n.prototype.isActive=function(){return this._isActive},n.prototype.isPageInteractive=function(){return this._isPageInteractive},n.prototype.addSplitTiming=function(n,t){var i=this.getName()+"-"+n;try{c.mark(i)}catch(r){u.logWarning("Could not add mark '"+i+"': "+h.getErrorMessage(r))}this._splitTimings.push({name:n,timestamp:l()-this._startTime,elapsedTime:t})},n.prototype.end=function(n){if(!this._isActive){u.logWarning("Attempted to end scenario '"+this._getIdentifier()+"', but it was already ended.");return}this._endTime=n||l();this._isActive=!1;var t=this._getIdentifier();if(this._dropPerformanceMarks)try{c.mark(t+"-end");c.measure(t,t+"-start",t+"-end")}catch(i){u.logWarning("Could not add mark and measure for scenario end: "+h.getErrorMessage(i))}o.publishEvent(this.getTelemetry());this._manager.endScenarioByDescriptor(this)},n.prototype.abort=function(){this._manager.endScenarioByDescriptor(this)},n.prototype.log=function(){},n.prototype.addData=function(n){this._data=$.extend(this._data,n)},n.prototype.getTelemetry=function(){var t=null,i,n;try{i=c.getTimingByName("navigationStart");t=i?this._startTime-i:null}catch(f){u.logWarning("Could not get navigationStart: "+h.getErrorMessage(f))}return n={featureArea:this._featureArea,name:this._name,startTime:t,correlationId:this._correlationId,activityId:r.getPageContext().diagnostics.activityId,splitTimings:JSON.stringify(this._splitTimings),debugMode:u.getDebugMode(),timeZoneOffset:(new Date).getTimezoneOffset(),pageNavigateScenario:t===0},this._data&&(n=$.extend(n,this._data)),this.isPageInteractive()&&(n=$.extend(n,this._getPageInteractiveTelemetryProperties())),{area:tt,feature:it,elapsedTime:this._endTime-this._startTime,properties:n}},n.prototype._getIdentifier=function(){return this._featureArea+"::"+this._name},n.prototype._getPageInteractiveTelemetryProperties=function(){var n=k(),i=g(this.isPageInteractive()?this:null),t={navigationEvents:JSON.stringify(i.map(function(n){return n.perfEntry})),resourceCount:n.all.total,scriptResourceCount:n.scripts.total,scriptResourcesUncached:n.scripts.total-n.scripts.cached,scriptResourcesDuration:n.scripts.duration,cssResourceCount:n.styles.total,cssResourcesUncached:n.styles.total-n.styles.cached,cssResourcesDuration:n.styles.duration,ajaxRequests:n.ajax.total,ajaxRequestsDuration:n.ajax.duration,scriptSize:n.scriptsTotalSize,cssSize:n.cssTotalSize,requireStartTime:n.requireStartTime,screenHeight:window.screen.height,screenWidth:window.screen.width,windowHeight:window.innerHeight,windowWidth:window.innerWidth};return n.scripts.total===n.scripts.cached&&n.styles.total===n.styles.cached?t.warmCache=!0:n.scripts.cached===0&&n.styles.cached===0&&(t.coldCache=!0),n.bundleLoads.length>0&&(t.bundleLoads=JSON.stringify(n.bundleLoads)),t.jsonIslandDataProviders=JSON.stringify(nt()),t.xmlHttpRequests=JSON.stringify(n.ajax.ajaxResourceStats),t},n}();y=function(){function n(){this._allScenarios=[];this._scenariosMap={};this._activeScenarios=[];this._scenarioEventHandlers=[];this._startPageLoadScenario()}return n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.prototype.recordPageLoadScenario=function(n,t,i){var f,r;if(!this._pageLoadScenario){u.logWarning("Cannot record page load, scenario wasn't started");return}if(!this._pageLoadScenario.isActive()){u.logWarning("Cannot record page load, scenario already ended");return}f=this._getKey(this._pageLoadScenario.getFeatureArea(),this._pageLoadScenario.getName());delete this._scenariosMap[f];this._pageLoadScenario.setFeatureArea(n);this._pageLoadScenario.setName(t);r=this._getKey(n,t);this._scenariosMap[r]=(this._scenariosMap[r]||[]).concat([this._pageLoadScenario]);this._pageLoadScenario.addData(i);this._pageLoadScenario.end()},n.prototype.startScenarioFromNavigation=function(n,t,i){var r=c.getTimingByName("navigationStart");return r===null&&(u.logWarning("Tried to start scenario "+n+"-"+t+" from navigationStart but browser does not support this. Falling back to current time."),r=l()),this._startScenario(n,t,r,this._getCorrelationId(),i)},n.prototype.startScenario=function(n,t,i,r){return this._startScenario(n,t,i,null,r)},n.prototype.endScenario=function(n,t){var f=this._getKey(n,t),r=this._scenariosMap[f],i;r&&(r.length>1||(i=r[0],i.isActive()&&i.end(),this.endScenarioByDescriptor(i)))},n.prototype.abortScenario=function(n,t){var e=this._getKey(n,t),u=this._scenariosMap[e],r,i,f;if(u)for(r=s.clone(u),i=0,f=r.length;i<f;i++)this.endScenarioByDescriptor(r[i])},n.prototype.getScenarios=function(n,t){return this._scenariosMap[this._getKey(n,t)]||[]},n.prototype.getAllCompletedScenarios=function(){return this._allScenarios.filter(function(n){return!n.isActive()})},n.prototype.split=function(n){for(var r,t=0,i=this._activeScenarios;t<i.length;t++)r=i[t],r.addSplitTiming(n)},n.prototype.endScenarioByDescriptor=function(n){var r=this._getKey(n.getFeatureArea(),n.getName()),t=this._scenariosMap[r],i;t&&(i=t.indexOf(n),t.splice(i,1),t.length===0&&delete this._scenariosMap[r],i=this._activeScenarios.indexOf(n),this._activeScenarios.splice(i,1),this._fireScenarioCompletedEvent(n),n.isPageInteractive()&&f.getService().fire(f.CommonPageEvents.PageInteractive))},n.prototype._startScenario=function(n,t,i,r,u){var f=new p(this,n,t,r||this._getCorrelationId(),i,u),e=this._getKey(n,t);return this._scenariosMap[e]?this._scenariosMap[e].push(f):this._scenariosMap[e]=[f],this._activeScenarios.push(f),this._allScenarios.push(f),f},n.prototype._startPageLoadScenario=function(){if(!!this._pageLoadScenario){u.logWarning("Page load scenario already started");return}this._pageLoadScenario=this.startScenarioFromNavigation(n.DEFAULT_SCENARIO_AREA,n.DEFAULT_SCENARIO_NAME,!0)},n.prototype._fireScenarioCompletedEvent=function(n){var t=this;try{this._scenarioEventHandlers.forEach(function(i){i.call(t,n)})}catch(i){u.logWarning("Error while updating perf panel: "+h.getErrorMessage(i))}},n.prototype._getKey=function(n,t){return n+"-"+t},n.prototype._getCorrelationId=function(){var n=r.getPageContext();return n&&n.diagnostics&&n.diagnostics.sessionId||null},n.prototype.addScenarioCompletedListener=function(n){$.isFunction(n)&&this._scenarioEventHandlers.push(n)},n.DEFAULT_SCENARIO_AREA="__default",n.DEFAULT_SCENARIO_NAME="__pageload",n}();t.getResourceTimingEntries=b;t.getTimingEntriesByName=et;t.getResourceStats=k;t.getDefaultNavigationEvents=g;t.getTimestamp=l;t.getNavigationStartTimestamp=st;t.getJsonIslandDataProviderTiming=nt});
define("WorkItemTracking/Scripts/OM/WorkItemConstants",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w;(function(n){n.LayoutUserSettingsProvider="ms.vss-work-web.work-item-layout-user-settings-data-provider"})(i=t.ExtensionConstants||(t.ExtensionConstants={})),function(n){n[n.None=0]="None";n[n.ServerDateTime=1]="ServerDateTime";n[n.CallerIdentity=2]="CallerIdentity";n[n.RandomGuid=3]="RandomGuid"}(t.ServerDefaultValueType||(t.ServerDefaultValueType={}));r=t.ServerDefaultValueType,function(n){n.FieldChange="field-change";n.PreSave="pre-save";n.Saving="saving";n.SaveCompleted="save-completed";n.Validating="validating";n.ValidationCompleted="validation-completed";n.Saved="saved";n.Opened="opened";n.Created="created";n.Refresh="refresh";n.Reset="reset";n.ErrorChanged="error-changed";n.Discarded="discarded";n.Deleted="deleted";n.ProjectChanging="project-changing";n.ProjectChanged="project-changed";n.TypeChanging="type-changing";n.TypeChanged="type-changed";n.WorkItemLinkChangedOutside="workitem-link-updated-outside"}(u=t.WorkItemChangeType||(t.WorkItemChangeType={})),function(n){n.OperationCanceledException="VSS.WorkItemTracking.OperationCanceledException";n.WorkItemBulkSaveException="VSS.WorkItemTracking.WorkItemBulkSaveException";n.ProjectDoesNotExistException="VSS.WorkItemTracking.ProjectDoesNotExistException";n.FieldDoesNotExistException="VSS.WorkItemTracking.FieldDoesNotExistException";n.LinkTypeEndDoesNotExistException="VSS.WorkItemTracking.LinkTypeEndDoesNotExistException";n.LinkTypeDoesNotExistException="VSS.WorkItemTracking.LinkTypeDoesNotExistException";n.WorkItemSaveFailedDueToInvalidStatusException="VSS.WorkItemTracking.WorkItemSaveFailedDueToInvalidStatusException";n.InvalidQuerySyntaxException="VSS.WorkItemTracking.InvalidQuerySyntaxException";n.InvalidQueryFilterRowException="VSS.WorkItemTracking.InvalidQueryFilterRowException";n.QueryItemAlreadyExistException="VSS.WorkItemTracking.QueryItemAlreadyExistException"}(f=t.Exceptions||(t.Exceptions={})),function(n){n[n.Project=0]="Project";n[n.Area=1]="Area";n[n.Iteration=2]="Iteration"}(t.INodeStructureType||(t.INodeStructureType={}));e=t.INodeStructureType,function(n){n[n.Valid=0]="Valid";n[n.InvalidEmpty=1]="InvalidEmpty";n[n.InvalidNotEmpty=2]="InvalidNotEmpty";n[n.InvalidFormat=3]="InvalidFormat";n[n.InvalidListValue=4]="InvalidListValue";n[n.InvalidOldValue=5]="InvalidOldValue";n[n.InvalidNotOldValue=6]="InvalidNotOldValue";n[n.InvalidEmptyOrOldValue=7]="InvalidEmptyOrOldValue";n[n.InvalidNotEmptyOrOldValue=8]="InvalidNotEmptyOrOldValue";n[n.InvalidValueInOtherField=9]="InvalidValueInOtherField";n[n.InvalidValueNotInOtherField=10]="InvalidValueNotInOtherField";n[n.InvalidDate=11]="InvalidDate";n[n.InvalidTooLong=12]="InvalidTooLong";n[n.InvalidType=13]="InvalidType";n[n.InvalidComputedField=14]="InvalidComputedField";n[n.InvalidPath=15]="InvalidPath";n[n.InvalidCharacters=16]="InvalidCharacters";n[n.InvalidIdentity=17]="InvalidIdentity";n[n.InvalidUnknown=18]="InvalidUnknown"}(t.FieldStatus||(t.FieldStatus={}));o=t.FieldStatus,function(n){n[n.None=0]="None";n[n.AllowsOldValue=64]="AllowsOldValue";n[n.HasFormats=16]="HasFormats";n[n.HasValues=4]="HasValues";n[n.InvalidCharacters=131072]="InvalidCharacters";n[n.InvalidComputedField=536870912]="InvalidComputedField";n[n.InvalidDate=8192]="InvalidDate";n[n.InvalidEmpty=524288]="InvalidEmpty";n[n.InvalidEmptyOrOldValue=33554432]="InvalidEmptyOrOldValue";n[n.InvalidFormat=2097152]="InvalidFormat";n[n.InvalidID=16384]="InvalidID";n[n.InvalidListValue=4194304]="InvalidListValue";n[n.InvalidMask=2147479552]="InvalidMask";n[n.InvalidNotEmpty=1048576]="InvalidNotEmpty";n[n.InvalidNotEmptyOrOldValue=67108864]="InvalidNotEmptyOrOldValue";n[n.InvalidNotOldValue=16777216]="InvalidNotOldValue";n[n.InvalidOldValue=8388608]="InvalidOldValue";n[n.InvalidPath=32768]="InvalidPath";n[n.InvalidRule=262144]="InvalidRule";n[n.InvalidTooLong=65536]="InvalidTooLong";n[n.InvalidType=4096]="InvalidType";n[n.InvalidValueInOtherField=134217728]="InvalidValueInOtherField";n[n.InvalidValueNotInOtherField=268435456]="InvalidValueNotInOtherField";n[n.LimitedToFormats=32]="LimitedToFormats";n[n.LimitedToValues=8]="LimitedToValues";n[n.ReadOnly=2]="ReadOnly";n[n.Required=1]="Required";n[n.SetByRule=128]="SetByRule";n[n.SetByDefaultRule=256]="SetByDefaultRule";n[n.SetByComputedRule=512]="SetByComputedRule";n[n.InvalidIdentityField=1073741824]="InvalidIdentityField"}(t.FieldStatusFlags||(t.FieldStatusFlags={}));s=t.FieldStatusFlags,function(n){n[n.DefaultRules=1]="DefaultRules";n[n.CopyRules=2]="CopyRules";n[n.OtherRules=3]="OtherRules"}(t.RuleEvaluatorExecutionPhase||(t.RuleEvaluatorExecutionPhase={}));h=t.RuleEvaluatorExecutionPhase,function(n){n[n.None=0]="None";n[n.WorkItem=1]="WorkItem";n[n.WorkItemLink=2]="WorkItemLink";n[n.Tree=4]="Tree";n[n.WorkItemTypeExtension=8]="WorkItemTypeExtension"}(t.FieldUsages||(t.FieldUsages={}));c=t.FieldUsages,function(n){n[n.None=0]="None";n[n.Sortable=1]="Sortable";n[n.Computed=2]="Computed";n[n.Editable=4]="Editable";n[n.Ignored=8]="Ignored";n[n.Queryable=16]="Queryable";n[n.Reportable=32]="Reportable";n[n.PersonField=64]="PersonField";n[n.Cloneable=128]="Cloneable";n[n.LongText=256]="LongText";n[n.SupportsTextQuery=512]="SupportsTextQuery"}(t.FieldFlags||(t.FieldFlags={}));l=t.FieldFlags,function(n){n.HIDDEN="Microsoft.HiddenCategory";n.TEST_CASE="Microsoft.TestCaseCategory";n.TEST_PLAN="Microsoft.TestPlanCategory";n.TEST_SUITE="Microsoft.TestSuiteCategory";n.TEST_SHAREDSTEP="Microsoft.SharedStepCategory";n.TEST_SHAREDPARAMETER="Microsoft.SharedParameterCategory"}(a=t.WorkItemCategoryConstants||(t.WorkItemCategoryConstants={})),function(n){n.NEW_PROJECT_DATA="new-project-data";n.DISCUSSION_ADDED="discussion-added";n.RESET_DISCUSSION="reset-discussion";n.RESET_HISTORY="reset-history";n.WORKITEM_DELETED="workitem-deleted";n.WORKITEM_RESTORED="workitem-restored";n.WORKITEM_DESTROYED="workitem-destroyed";n.WORKITEM_DISCARDED="workitem-discarded";n.WORKITEM_ID_UPDATED="workitem-id-updated";n.WORKITEM_COPIED="workitem-copied"}(v=t.Actions||(t.Actions={})),function(n){n.NoResult="NoResult";n.Error="Error";n.Success="Success"}(y=t.WorkItemUpdateResultState||(t.WorkItemUpdateResultState={})),function(n){n.ReproSteps="Microsoft.VSTS.TCM.ReproSteps"}(p=t.BugWITFieldReferenceNames||(t.BugWITFieldReferenceNames={})),function(n){n.QUERY=200;n.SAVE=200}(w=t.PageSizes||(t.PageSizes={}))});
define("WorkItemTracking/Scripts/Utils/WitControlMode",["require","exports","Presentation/Scripts/TFS/TFS.Legacy.Ajax","VSS/Contributions/Services","VSS/Diag","VSS/FeatureAvailability/Services","q","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","VSS/Utils/Url","VSS/Service","WorkItemTracking/Scripts/OM/WorkItemConstants"],function(n,t,i,r,u,f,e,o,s,h,c){function w(){return a===undefined&&(a=f.FeatureAvailabilityService.isFeatureEnabled(o.FeatureAvailabilityFlags.WorkItemTrackingUseCommonIdentityPicker)||s.getQueryParameters(document.location.search).newidpicker==="true"),a}function b(){return v===undefined&&(v=f.FeatureAvailabilityService.isFeatureEnabled(o.FeatureAvailabilityFlags.WebAccessAgileUseNewIdentityControls)||s.getQueryParameters(document.location.search).newidpicker==="true"),v}function k(){return l.useNewForm()}function d(){return f.FeatureAvailabilityService.isFeatureEnabled(o.FeatureAvailabilityFlags.WorkItemTrackingMetadaDataClientCaching)}function g(){return l.useNewForm()&&f.FeatureAvailabilityService.isFeatureEnabled(o.FeatureAvailabilityFlags.WorkItemTrackingNewFormDiscussionMaximizable)}function nt(){return f.FeatureAvailabilityService.isFeatureEnabled(o.FeatureAvailabilityFlags.WorkItemTrackingIncrementalHistory)}function y(n){return n.configuration&&n.configuration.getMailSettings().enabled}function p(n){return f.FeatureAvailabilityService.isFeatureEnabled(o.FeatureAvailabilityFlags.WorkItemTrackingVisualizeFollows)&&y(n)}function tt(n){return f.FeatureAvailabilityService.isFeatureEnabled(o.FeatureAvailabilityFlags.WorkItemTrackingBulkUnfollows)&&p(n)}var l=function(){function n(){}return n.ensureWitFormModeLoaded=function(t){var r=e.defer(),f;return n.loadLayoutPropertiesFromPageData(),n.shouldFetchData()?(u.timeStamp("WorkItemOM.isNewFormEnabledCallback",u.StampEvent.Enter),f=t.getActionUrl("GetLayoutProperties","wit",{project:t.navigation.projectId,team:"",area:"api"}),i.getMSJSON(f,null,function(t){u.timeStamp("WorkItemOM.isNewFormEnabledCallback",u.StampEvent.Leave);n.isNewWitFormAvailable=t.isNewWitFormAvailable;n.isNewWitFormForced=t.isNewWitFormForced;n.isNewWitFormRegistryEnabled=t.isNewWitFormRegistryEnabled;n.maxAttachmentSize=t.maxAttachmentSize;r.resolve({isNewWitFormAvailable:n.isNewWitFormAvailable,isNewWitFormForced:n.isNewWitFormForced,isNewWitFormRegistryEnabled:n.isNewWitFormRegistryEnabled,maxAttachmentSize:n.maxAttachmentSize})},function(){u.timeStamp("WorkItemOM.isNewFormEnabledCallback",u.StampEvent.Leave);r.resolve({isNewWitFormAvailable:!1,isNewWitFormForced:!1,isNewWitFormRegistryEnabled:!1,maxAttachmentSize:n.c_defaultMaxAttachmentSize})})):r.resolve({isNewWitFormAvailable:n.isNewWitFormAvailable,isNewWitFormForced:n.isNewWitFormForced,isNewWitFormRegistryEnabled:n.isNewWitFormRegistryEnabled,maxAttachmentSize:n.maxAttachmentSize}),r.promise},n.shouldFetchData=function(){return n.isNewWitFormRegistryEnabled===undefined||n.isNewWitFormRegistryEnabled===null||n.maxAttachmentSize===undefined||n.maxAttachmentSize==null},n.useNewForm=function(){return n.isNewWitFormForced||n.isNewWitFormAvailable&&n.isNewWitFormRegistryEnabled},n.loadLayoutPropertiesFromPageData=function(){var t=h.getService(r.WebPageDataService).getPageData(c.ExtensionConstants.LayoutUserSettingsProvider)||{};n.isNewWitFormAvailable===undefined&&(n.isNewWitFormAvailable=t[n.IsNewWitFormAvailableKey]);n.isNewWitFormForced===undefined&&(n.isNewWitFormForced=t[n.IsNewWitFormForcedKey]);n.isNewWitFormRegistryEnabled===undefined&&(n.isNewWitFormRegistryEnabled=t[n.IsNewWitFormRegistryEnabledKey]);n.maxAttachmentSize===undefined&&(n.maxAttachmentSize=t[n.MaxAttachmentSizeKey])},n.c_defaultMaxAttachmentSize=4194304,n.IsNewWitFormAvailableKey="WorkItemTracking.isNewWitFormAvailable",n.IsNewWitFormForcedKey="WorkItemTracking.isNewWitFormForced",n.IsNewWitFormRegistryEnabledKey="WorkItemTracking.isNewWitFormRegistryEnabled",n.MaxAttachmentSizeKey="WorkItemTracking.maxAttachmentSize",n}(),a,v;t.WitFormModeUtility=l;t.useCommonIdentityPicker=w;t.useAgileNewIdentityControl=b;t.useWorkItemStateColoring=k;t.isClientCachingEnabled=d;t.isNewDiscussionMaximizable=g;t.isIncrementalHistoryEnabled=nt;t.isFollowWorkItemEnabled=y;t.isVisualizeFollowsEnabled=p;t.isBulkUnfollowEnabled=tt});
define("WorkItemTracking/Scripts/Utils/WorkItemControlsActions",["require","exports"],function(n,t){var i;(function(n){n.ACTION_WORKITEM_OPEN="open-work-item";n.ACTION_WORKITEM_OPEN_IN_NEW_TAB="open-work-item-in-new-tab";n.ACTION_WORKITEM_NEW="work-item-new";n.ACTION_WORKITEM_NEW_LINKED="work-item-new-linked";n.ACTION_WORKITEM_LINK="work-item-link";n.ACTION_WORKITEM_NEW_COPY="work-item-new-copy";n.ACTION_WORKITEM_NEW_CLONE="work-item-new-clone";n.ACTION_WORKITEM_DISCARD_IF_NEW="work-item-discard-if-new";n.ACTION_SHOW_WORKITEM_FORM_BUSY="show-work-item-form-busy-overlay";n.ACTION_HIDE_WORKITEM_FORM_BUSY="hide-work-item-form-busy-overlay";n.WORKITEM_DELETE_ERROR="work-item-delete-error";n.WORKITEM_MAXIMIZE_STATE_CHANGED="work-item-maximize-state-changed"})(i=t.WorkItemActions||(t.WorkItemActions={}))});
define("WorkItemTracking/Scripts/ActionUrls",["require","exports"],function(n,t){var i;(function(n){n.ACTION="action";n.ACTION_NEW="new";n.ACTION_EDIT="edit";n.ACTION_VSOPEN="vsopen"})(i=t.ActionUrl||(t.ActionUrl={}))});
define("WorkItemTracking/SharedScripts/WorkItemDialogShim",["require","exports","VSS/VSS","VSS/Performance","VSS/Events/Action","Presentation/Scripts/TFS/TFS.Host.TfsContext","WorkItemTracking/Scripts/Utils/WitControlMode","WorkItemTracking/Scripts/Utils/WorkItemControlsActions","WorkItemTracking/Scripts/ActionUrls"],function(n,t,i,r,u,f,e,o,s){function a(n,t){var i=n.store.getTfsContext();c(i,function(i){i.WorkItemForm.showWorkItem(n,t)})}function v(n,t,i){var r,e;arguments.length===3?(r=t||f.TfsContext.getDefault(),e=i):(r=f.TfsContext.getDefault(),e=t);c(r,function(){u.getService().performAction(o.WorkItemActions.ACTION_WORKITEM_OPEN,{id:n,tfsContext:r,options:e})})}function y(n,t){t=t||f.TfsContext.getDefault();var i=t.getPublicActionUrl(s.ActionUrl.ACTION_EDIT,"workitems",{parameters:n});window.open(i)}function p(n,t,i){t=t||f.TfsContext.getDefault();c(t,function(){u.getService().performAction(o.WorkItemActions.ACTION_WORKITEM_NEW,{workItemTypeName:n,tfsContext:t,initialValues:i})})}function w(n){return n===void 0&&(n=f.TfsContext.getDefault()),l(n).then(function(n){return i.requireModules(n)})}function c(n,t){var u,f;h?(f=r.getScenarioManager().startScenario("WIT","FormShim"),t(h),f.end()):(u=r.getScenarioManager().startScenario("WIT","FormShim.LoadModules"),u.addData({newForm:e.WitFormModeUtility.useNewForm()}),l(n).then(function(n){return i.requireModules(n).spread(function(n){h=n;t(h);u.end()})}))}function l(n){return e.WitFormModeUtility.ensureWitFormModeLoaded(n).then(function(){return e.WitFormModeUtility.useNewForm()?["WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls"]:["WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls","WorkItemTracking/Scripts/Controls/Legacy/LegacyLinksControl","WorkItemTracking/Scripts/Controls/Legacy/LegacyAttachmentsControl","WorkItemTracking/Scripts/Controls/Legacy/LogControl","WorkItemTracking/Scripts/Controls/Legacy/StateTransitionGraphControl"]})}var h=null;t.showWorkItem=a;t.showWorkItemById=v;t.showWorkItemByIdInNewTab=y;t.createNewWorkItem=p;t.prefetchFormModules=w});
define("WorkItemTracking/Scripts/TFS.WorkItemTracking.Global.Registration",["require","exports","VSS/Resources/VSS.Resources.Platform","VSS/Controls","VSS/Service","VSS/VSS","VSS/Context","VSS/Common/Contracts/Platform","VSS/Controls/Menus","VSS/Navigation/Services","q","Presentation/Scripts/TFS/TFS.Host.UI","VSS/Telemetry/Services","Presentation/Scripts/TFS/TFS.WebSettingsService","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.ArtifactPlugins","VSS/Utils/Core","WorkItemTracking/SharedScripts/WorkItemDialogShim"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){var nt=w.delegate,k=function(){function n(){}return n.getWatermarkText=function(){return i.SearchWorkItems},n.performSearch=function(n,t){var i,r,u;n&&(i=t.tfsContext||y.TfsContext.getDefault(),r=n.match(/^\s*#?(\d{1,9})\s*$/),u=r?parseInt(r[1],10):0,u>0?b.showWorkItemById(u):i.navigation.project?window.location.href=i.getActionUrl("","workItems",{area:""})+h.getHistoryService().getFragmentActionLink("search",{searchText:n}):$("#select-project").addClass("validation-summary-errors"))},n.getShortcutsAndSearchHistory=function(n){var t=[];f.using(["WorkItemTracking/Scripts/Resources/VSS.Resources.WorkItemTracking.Common"],function(r){t.push({text:i.AddASearchFilter,separator:!0,noIcon:!0});t.push({id:"search-shortcut",text:i.AddSearchFilterAssignedTo,arguments:{search:"a",defaultValue:"@"+r.WiqlOperators_MacroMe},cssClass:"search-shortcut",icon:"icon-filter"});t.push({id:"search-shortcut",text:i.AddSearchFilterCreatedBy,arguments:{search:"c",defaultValue:"@"+r.WiqlOperators_MacroMe},cssClass:"search-shortcut",icon:"icon-filter"});t.push({id:"search-shortcut",text:i.AddSearchFilterState,arguments:{search:"s"},cssClass:"search-shortcut",icon:"icon-filter"});t.push({id:"search-shortcut",text:i.AddSearchFilterType,arguments:{search:"t"},cssClass:"search-shortcut",icon:"icon-filter"});u.VssConnection.getConnection(e.getDefaultWebContext(),o.ContextHostType.ProjectCollection).getService(v.WebSettingsService).beginReadSetting("/Recent/WorkItemsSearch",v.WebSettingsScope.User,function(i){var r=[];i.value&&$.each(i.value.split(";"),function(n,t){r.push({id:"search-menu-item",text:t,arguments:{search:t},noIcon:!0})});n(r.concat(t))},function(){n(t)})})},n}(),d=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.hasDropdown=function(){return!0},t.prototype.getWatermarkText=function(){return k.getWatermarkText()},t.prototype.getDropdownMenuItems=function(n,t){k.getShortcutsAndSearchHistory(function(n){t(n)})},t.prototype.performSearch=function(n){k.performSearch(n,this._options)},t}(l.SearchAdapter),g;t.WorkItemsSearchAdapter=d;r.Enhancement.registerEnhancement(d,".search-adapter-work-items");g=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.hasDropdown=function(){return y.TfsContext.getDefault().navigation.serviceHost.hostType!==y.NavigationContextLevels.Application},t.prototype.getWatermarkText=function(){return k.getWatermarkText()},t.prototype.getEntityId=function(){return"Work items"},t.prototype.getEntitySelectorDropdownItems=function(n,t){f.using(["Search/Scripts/Providers/Code/TFS.Search.Registration.SearchAdapters","Search/Scripts/Resources/TFS.Resources.Search"],function(n,i){var r=[];r.push({id:"global-search-adapter",text:i.CodeSearchWatermark,arguments:{adapter:n.GlobalCodeSearchAdapter},noIcon:!0});t(r)})},t.prototype.getHelpDropdownMenu=function(n,t,i,u){var f=this;this._input=n;this._triggerSearchContext=i;this._getHelpDropdownMenuItems().then(function(n){f._helpPopup=r.BaseControl.createIn(s.PopupMenu,t,{align:"left-bottom",items:[{childItems:n}],executeAction:nt(f,f._onHelpDropdownMenuItemClick),setFocus:!1});u(f._helpPopup)})},t.prototype.performSearch=function(n){var t=a.TelemetryEventData.fromProperty("WIT","GlobalSearch","SearchText",n);a.publishEvent(t);k.performSearch(n,this._options)},t.prototype._getHelpDropdownMenuItems=function(){var n=c.defer();return k.getShortcutsAndSearchHistory(function(t){n.resolve(t)}),n.promise},t.prototype._onHelpDropdownMenuItemClick=function(n){this._helpPopup._active=!1;n.get_commandName()==="search-shortcut"?this._appendShortcut(n.get_commandArgument()):(this._input.val(n.get_commandArgument().search),this._triggerSearchContext.doSearch())},t.prototype._appendShortcut=function(n){var t,i,r;t=this._input.val();t+=t.length>0?" ":"";t+=n.search||"";t+=n.operator||":";t+='"';r=t.length;t+=n.defaultValue||"";i=t.length;t+='"';this._input.val(t);this._selectDefaultValue(r,i)},t.prototype._selectDefaultValue=function(n,t){var i,r=this._input[0];r.setSelectionRange?r.setSelectionRange(n,t):r.createTextRange&&(i=r.createTextRange(),i.move("character",n),i.moveEnd("character",t-n),i.select())},t}(l.MultiEntitySearchAdapter);t.GlobalWorkItemsSearchAdapter=g;p.registerArtifactPluginAsync("workitemtracking",function(n){f.using(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Artifacts.Plugin"],function(t){n(t.WorkItemArtifactPlugin)})});f.tfsModuleLoaded("TFS.WorkItemTracking.Global.Registration",t)});
define("Presentation/Scripts/TFS/TFS.Host.UI",["require","exports","Presentation/Scripts/TFS/TFS.Host.MultiEntitySearch","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation","VSS/Context","VSS/Controls","VSS/Diag","VSS/Controls/Menus","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","VSS/VSS","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.NotificationEventNames","VSS/Service","VSS/Events/Action","VSS/Events/Services","Presentation/Scripts/TFS/TFS.WebSettingsService","VSS/Utils/UI","VSS/Utils/Core","Presentation/Scripts/TFS/TFS.Host.UI.Actions"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){function ht(){var i=u.getHubsContext(),t,n;i&&i.selectedHubGroupId==ft&&(t=$("<nav>").attr("id","dashboard-l2-menu-bar"),n=$("ul.hubs"),n.length>0&&(n.empty(),t.appendTo(n),h.using(["Dashboards/Scripts/L2Menu"],function(n){return n.L2Menu.createIn(n.L2Menu,t,{distributionAlgo:null,Hub:u.getHubsContext().hubs})})))}var d=b.delegate,g=w.domElem,ft="ms.vss-web.home-hub-group",it,nt,et,rt,ot,ut,tt,st;$(function(){ht()});it=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype._enhance=function(t){n.prototype._enhance.call(this,t);var i=f.Enhancement.ensureEnhancement(o.MenuBar,t);i.getItem("teams").updateItems(function(n,t,i){h.using(["TfsCommon/Scripts/Navigation/TFS.Projects.Mru"],function(n){n.projectsMru.getMruTeamMenuItems().then(t,i)})})},t}(f.Enhancement);t.ProjectSelectorNavMenuEnhancement=it;f.Enhancement.registerEnhancement(it,".top-level-menu-v2.project-selector-nav-menu");nt=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initialize=function(){var i=this;this._lastInputText="";this._element.addClass("noDrop");this._$inputLabel=$(g("label","searchbox-label hidden")).attr("for","searchbox").appendTo(this._element);this._input=$(g("input","search-text")).attr("type","text").attr("id","searchbox").attr("disabled","disabled").focus(function(){$(this).parent().addClass("input-focus")}).blur(function(){$(this).parent().removeClass("input-focus")}).keyup(d(this,this.onKeyUp)).appendTo(this._element);this._$inlineErrorContainer=$(g("div","input-error-tip")).text("").attr("aria-live","assertive").hide().appendTo(this._element);this._$clearTextIcon=$(g("span","bowtie-icon bowtie-edit-remove")).attr("title",r.ClearTextTooltip).appendTo(this._element).click(d(this,this._clearSearchBox));$(g("span","bowtie-icon bowtie-search")).appendTo(this._element).click(d(this,this.doSearch));this._$dropIcon=$(g("span","icon icon-drop")).appendTo(this._element).click(d(this,this.showDropdownMenu));this._$popupElement=$(g("div","search-popup")).appendTo(this._element);this._element.on(t.SET_ERROR_EVENT,function(n,t,r){i.setErrorMessage(t,r);n.stopPropagation()});n.prototype.initialize.call(this);e.logTracePoint("SearchBox.ctor.complete")},t.prototype.setAdapter=function(n){var t;this._searchAdapter=n;t=n.getWatermarkText();w.Watermark(this._input,{watermarkText:t});this._$inputLabel.text(t);this._input.attr("title",n.getTooltip());this._input.removeAttr("disabled");this._element.toggleClass("noDrop",!n.hasDropdown());this.resetDropdownMenu()},t.prototype.getAdapter=function(){return this._searchAdapter},t.prototype.setErrorMessage=function(n,t){n&&(t&&t!==$.trim(this._input.val())||(this._$inlineErrorContainer.text(n),this._$inlineErrorContainer.show(),this._input.addClass("invalid")))},t.prototype.clearErrorMessage=function(){this._$inlineErrorContainer.hide();this._input.removeClass("invalid")},t.prototype.resetDropdownMenu=function(){this._$popupElement.empty();this._popup=null},t.prototype.onKeyUp=function(n){return(this._updateClearTextIcon(),this._input.val()!==this._lastInputText&&(this.clearErrorMessage(),this._lastInputText=this._input.val()),n.keyCode===w.KeyCode.ENTER)?(this.doSearch(n),!1):n.keyCode===w.KeyCode.DOWN||n.keyCode===w.KeyCode.PAGE_DOWN?(this.showDropdownMenu(),!1):void 0},t.prototype.doSearch=function(n){var t=$.trim(this._input.val());t&&this._searchAdapter&&(this._searchAdapter.performSearch(t,ut.openInNewTab(n)),this.resetDropdownMenu())},t.prototype._updateClearTextIcon=function(){this._$clearTextIcon.toggle(!!this._input.val())},t.prototype._clearSearchBox=function(){this._input.val("");this.clearErrorMessage();this._updateClearTextIcon()},t.prototype.showDropdownMenu=function(){this._searchAdapter&&this._searchAdapter.hasDropdown()&&(this._popup||(this._popup=f.BaseControl.createIn(o.PopupMenu,this._$popupElement,{align:"right-bottom",items:[{childItems:this._searchAdapter.getDropdownMenuItems}],executeAction:d(this,this._onMenuItemClick)})),this._popup.popup(this._input,this._element))},t.prototype._onMenuItemClick=function(n){return n.get_commandName()==="search-shortcut"?(this._appendShortcut(n.get_commandArgument()),!1):(this._input.val(n.get_commandArgument().search),this.doSearch(n),!1)},t.prototype._appendShortcut=function(n){var t,i,r;t=this._input.val();t+=t.length>0?" ":"";t+=n.search||"";t+=n.operator||":";t+='"';r=t.length;t+=n.defaultValue||"";i=t.length;t+='"';this._input.val(t);this._selectDefaultValue(r,i)},t.prototype._selectDefaultValue=function(n,t){var i,r=this._input[0];r.setSelectionRange?r.setSelectionRange(n,t):r.createTextRange&&(i=r.createTextRange(),i.move("character",n),i.moveEnd("character",t-n),i.select())},t.SET_ERROR_EVENT="SetInputErrorTip",t}(f.BaseControl);t.SearchBox=nt;f.Enhancement.registerEnhancement(nt,".search-box");et=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype._enhance=function(n){var t=f.Enhancement.ensureEnhancement(nt,n);t&&(t.setAdapter(this),this._$searchBoxElement=t.getElement())},t.prototype.hasDropdown=function(){return!1},t.prototype.getDropdownMenuItems=function(n,t){t([])},t.prototype.getHelpDropdown=function(){},t.prototype.getWatermarkText=function(){return""},t.prototype.getTooltip=function(){return this.getWatermarkText()},t.prototype.performSearch=function(){},t.prototype.setErrorMessage=function(n,t){this._$searchBoxElement&&this._$searchBoxElement.length>0&&this._$searchBoxElement.trigger(nt.SET_ERROR_EVENT,[n,t])},t}(f.Enhancement);t.SearchAdapter=et;rt=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(i.MultiEntitySearchBox);t.MultiEntitySearchBox=rt;f.Enhancement.registerEnhancement(rt,".multi-entity-search-box");ot=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(i.MultiEntitySearchAdapter);t.MultiEntitySearchAdapter=ot;ut=function(){function n(){}return n.openInNewTab=function(n){return i.SearchBoxHelper.openInNewTab(n)},n}();t.SearchBoxHelper=ut;tt=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"sidebar-search"},t))},t.prototype.getSearchWaterMarkText=function(){return r.SidebarSearchWatermark},t.prototype.initialize=function(){var i=this.getSearchWaterMarkText(),t,r;t=this._element.find(".search-input-wrapper");t.length===0&&(t=$("<div class='search-input-wrapper' />").appendTo(this._element));r=$("<div class='search-input-container' />").appendTo(t);this._input=$("<input type='text' class='input' />").appendTo(r).attr("title",i);w.Watermark(this._input,{watermarkText:i});this._button=$("<span class='bowtie-icon bowtie-search button' />").appendTo(t);this._attachEvents();n.prototype.initialize.call(this)},t.prototype.focus=function(){w.Watermark(this._input,"focus")},t.prototype._changeSearchIcon=function(n){this._button.addClass(n?"bowtie-search":"bowtie-edit-remove");this._button.removeClass(n?"bowtie-edit-remove":"bowtie-search")},t.prototype.clearSearch=function(){this._fire("clearSearch")},t.prototype.executeSearch=function(n){this._fire("executeSearch",{searchText:n})},t.prototype._attachEvents=function(){this._bind(this._input,"mouseup",d(this,this._onSearch));this._bind(this._input,"keyup",d(this,this._onSearch));this._bind(this._button,"click",d(this,this._onClearSearch))},t.prototype._onSearch=function(n){var t;if(t=$.trim(this._input.val()),n.keyCode===w.KeyCode.ESCAPE){this._onClearSearch();return}this.cancelDelayedFunction("onSearch");t?(this._changeSearchIcon(!1),this.delayExecute("onSearch",this._options.eventTimeOut||250,!0,function(){this.executeSearch(t)})):this._clearSearch()},t.prototype._onClearSearch=function(){this._input.val("");this._input.blur();this._clearSearch()},t.prototype._clearSearch=function(){this._changeSearchIcon(!0);this.clearSearch()},t.enhancementTypeName="tfs.sidebarSearch",t}(f.BaseControl);t.SidebarSearch=tt;h.initClassPrototype(tt,{_input:null,_button:null});h.classExtend(tt,c.TfsContext.ControlExtensions);f.Enhancement.registerEnhancement(tt,".sidebar-search.enhance");e.logTracePoint("Host.Navigation.initialization-complete");st=function(){function n(){v.getService().registerActionWorker(k.ACTION_SET_MRU_PAGE,d(this,this._setDefaultMruPage),v.ActionService.MaxOrder)}return n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.prototype.setMruPage=function(){var t=this;b.delay(this,n.SetMruPageDelay,function(){v.getService().performAction(k.ACTION_SET_MRU_PAGE,{});t.updateHubLinks()})},n.prototype.updateHubLinks=function(){var t=this,n=u.getHubsContext();n&&n.hubGroups&&$.each(n.hubGroups,function(n,i){var r=i.id,u=t._getHubLink(r);u&&t._updateHubGroupLinkAndCookie(r,u)})},n.prototype._getHubLink=function(n){var i=c.TfsContext.getDefault(),r=i.getActionUrl(),u,t;return this._isDashboardEnabledForHomeHubGroup(n)?r:i.navigation.project?(u=a.getService(p.WebSettingsService),t=u.readLocalSetting(this._getSettingsKey(n),p.WebSettingsScope.UserAndTeam),t==null?null:r+"/"+t):null},n.prototype._updateHubGroupLinkAndCookie=function(n,t){var i=this;this._updateHubGroupLink(n,t,function(){i._setMruCookie(n)})},n.prototype._updateHubGroupLink=function(t,i,r){var u=$(n.MAIN_NAVIGATION_HUB_SELECTOR).find(".hub-groups li");$.each(u,function(n,u){var e=$(u),o=e.data("hubgroupid"),f;if(o===t)return f=e.find("a:first"),f.attr("href",i),r&&f.click(r),!1})},n.prototype._isDashboardEnabledForHomeHubGroup=function(n){return n==ft},n.prototype._getTeamRelativeUrl=function(n,t){function u(n){return n&&n.charAt(0)==="_"}var e=new RegExp("//+","g"),i,f,r;for(t=t.replace(e,"/"),i=function(){var n=t.indexOf("/");t=n===-1?"":t.slice(n+1)},f=n.serviceHost.vDir,r=-1;(r=f.indexOf("/",r+1))!==-1;)i();return n.project&&!u(t)&&(i(),n.team&&!u(t)&&i()),t},n.prototype._setDefaultMruPage=function(n){var r=u.getHubsContext(),t,i,f,e;r&&(t=c.TfsContext.getDefault(),i=r.selectedHubGroupId,i&&t.navigation.topMostLevel>=c.NavigationContextLevels.Project&&(f=Boolean(n)&&Boolean(n.rawPath)?n.rawPath:document.location.pathname,e=this._getTeamRelativeUrl(t.navigation,f),a.getCollectionService(p.WebSettingsService,t.contextData).writeLocalSetting(this._getSettingsKey(i),e,p.WebSettingsScope.UserAndTeam)))},n.prototype._getSettingsKey=function(n){return s.HubsConstants.MruHubPath+"/"+n},n.prototype._setMruCookie=function(n){document.cookie=s.HubsConstants.MruCookieName+"="+n+"; path=/"},n.SetMruPageDelay=2e3,n.MAIN_NAVIGATION_HUB_SELECTOR=".hub-nav-structure",n}();t.HubMruManager=st;$(window).bind("resize.tfs.event.subscription",function(n){n.target===window&&y.getService().fire("window-resize")});y.getService().attachEvent(l.EventNames.NotificationDismissed,function(n,t){function i(){}t===void 0&&(t=p.WebSettingsScope.User);a.getCollectionService(p.WebSettingsService).beginWriteSetting(s.Messages.DismissNotificationRegistryPath+n,!0,t,i,i)});y.getService().attachEvent(l.EventNames.ClientNotificationDismissed,function(n,t){t===void 0&&(t=p.WebSettingsScope.User);a.getApplicationService(p.WebSettingsService).writeLocalSetting(s.Messages.DismissNotificationRegistryPath+n,"true",t,!1)});h.tfsModuleLoaded("TFS.Host.UI",t)});
define("VSS/Controls/Splitter",["require","exports","VSS/Controls","VSS/Diag","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Core","VSS/Utils/UI","VSS/LoaderPlugins/Css!Splitter"],function(n,t,i,r,u,f,e){var s=f.delegate,h=e.domElem,c=function(n){function t(t){n.call(this,t);this._screenXY="pageX";this._cssPosProp="left";this._cssSizeProp="width";this._leftFix=!0;this._deltaMultiplier=1;this._dragStart=!1;this._ignoreWindowResize=!1;t&&t.initialSize&&(this._fixedSidePixels=t.initialSize)}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"splitter",vertical:!0,fixedSide:"left"},t))},t.prototype._enhance=function(t){var i,r;n.prototype._enhance.call(this,t);this.leftPane=t.children(".leftPane");this.handleBar=t.children(".handleBar");this.rightPane=t.children(".rightPane");this.handleBar.append(h("div","handleBar-hitTarget"));i=this._options;t.hasClass(o.VERTICAL_CLASS)?i.vertical=!0:t.hasClass(o.HORIZONTAL_CLASS)?i.vertical=!1:i.vertical===!0?t.addClass(o.VERTICAL_CLASS):t.addClass(o.HORIZONTAL_CLASS);i.expandState?this.expandState=i.expandState:this.getElement().hasClass("left-expand")?this.expandState="left":this.getElement().hasClass("right-expand")&&(this.expandState="right");i.fixedSide=this.getElement().hasClass("right-fix")?"right":"left";r=i.collapsedLabel;r||(r=t.data().collapsedLabel);r&&this.setCollapsedLabel(r)},t.prototype.initialize=function(){n.prototype.initialize.call(this);var t=this._options;t.maxWidth&&(this._maxWidth=t.maxWidth);t.minWidth&&(this._minWidth=t.minWidth);this._configureCssProps();this._isCollapsed()||this._setInitialSize();this._attachEvents();(this._options.enableToggleButton||this._isToggleButtonEnabled())&&(this.getElement().addClass(o.TOGGLE_BUTTON_ENABLED_CLASS_NAME),this._ensureToggleButton(),this._isToggleButtonHotkeyEnabled()&&this._bind($(window.document),"keyup",s(this,this._onDocumentKeyup)))},t.prototype._setInitialSize=function(){var n=0;this._options.initialSize>0&&(n=this._options.initialSize);n<=0&&(n=this.getElement().data().initialSize);n&&this.resize(n,!0,!1)},t.prototype.setMinWidth=function(n){this._minWidth=n},t.prototype.setMaxWidth=function(n){this._maxWidth=n},t.prototype.resize=function(n,t,i,r){var u,f,s,e,h;this.getElement().hasClass(o._noSplitCssClass)||this.getElement().is(":visible")&&(this.getElement().toggleClass(o.COLLAPSED_CLASS_NAME,!1),n!==null&&n!==undefined&&(n<0?n=0:(e=this.getElement()[this._cssSizeProp]()-this.handleBar[this._cssSizeProp](),n>e&&(h=this.leftPane[this._cssSizeProp](),e<h&&(e=h),n=e))),u=n===null||n===undefined?"":n,i?(s=this._options.animationSpeed||o.DEFAULT_ANIMATION_SPEED,f=this._createAnimationOption(this._cssSizeProp,u+"px"),this._fixedSide.animate(f,s),f=this._createAnimationOption(this._cssPosProp,u+"px"),this._fillSide.animate(f,s),this.handleBar.animate(f,s,r)):(this._fixedSide.css(this._cssSizeProp,u),this._fillSide.css(this._cssPosProp,u),this.handleBar.css(this._cssPosProp,u),r&&r()),this._fixedSidePixels=n,this._layoutToggleButton(i),t||this._fireWindowResize())},t.prototype.toggleExpanded=function(n){(n===undefined||n!==this.isExpanded())&&(this.expandState?this.removeExpand():this._options.fixedSide==="left"?this._expandInternal("right"):this._expandInternal("left"),this.getElement().toggleClass(o.COLLAPSED_CLASS_NAME,!this.isExpanded()),this._setToggleButtonTooltip(),this._fireWindowResize(),this._fire("changed",this))},t.prototype.expand=function(){this.toggleExpanded(!0)},t.prototype.collapse=function(){this.toggleExpanded(!1)},t.prototype.isExpanded=function(){return!this.expandState},t.prototype.removeExpand=function(n){this.getElement().removeClass("left-expand");this.getElement().removeClass("right-expand");this.expandState=null;n?(this._layoutToggleButton(),this._fireWindowResize()):this.resize(this._fixedSidePixels)},t.prototype._expandInternal=function(n){n||(n="left");n==="left"?(this.getElement().removeClass("right-expand"),this.getElement().addClass("left-expand")):(this.getElement().removeClass("left-expand"),this.getElement().addClass("right-expand"));this.expandState=n;this._fixedSide.css(this._cssSizeProp,"");this._fillSide.css(this._cssPosProp,"");this.handleBar.css(this._cssPosProp,"");this._layoutToggleButton()},t.prototype.getFixedSidePixels=function(){return this._fixedSidePixels},t.prototype.toggleSplit=function(n,t,i){var r=this,u;n?(this.getElement().removeClass(o._noSplitCssClass),this._savedFixedSidePixels!==undefined&&(this._fixedSidePixels=this._savedFixedSidePixels,this._savedFixedSidePixels=undefined),this._fixedSide.css("display",""),this.expandState?(this._expandInternal(this.expandState),this.getElement().addClass(o.COLLAPSED_CLASS_NAME),this._setToggleButtonTooltip(),this._fireWindowResize()):t?(u=this._fixedSidePixels||i,this.resize(0,!0,!1),this.resize(u,!0,!0)):this.resize(this._fixedSidePixels||i)):(this._savedFixedSidePixels=this._fixedSidePixels,this.resize(0,!0,t,function(){r.getElement().addClass(o._noSplitCssClass);r.getElement().removeClass(o.COLLAPSED_CLASS_NAME);r._fixedSide.css(r._cssSizeProp,"").css("display","none");r._fillSide.css(r._cssPosProp,"");r.handleBar.css(r._cssPosProp,"");r._fireWindowResize()}))},t.prototype.noSplit=function(n){this.toggleSplit(!1,n)},t.prototype.split=function(n,t){this.toggleSplit(!0,n,t)},t.prototype.toggleOrientation=function(n,t){n=Boolean(n);this._options.vertical!==n&&(this.getElement().removeClass("left-expand"),this.getElement().removeClass("right-expand"),this.expandState=null,this._fixedSide.css(this._cssSizeProp,""),this._fillSide.css(this._cssPosProp,""),this.handleBar.css(this._cssPosProp,""),this._options.vertical=n,this.getElement().toggleClass(o.VERTICAL_CLASS,n),this.getElement().toggleClass(o.HORIZONTAL_CLASS,!n),this._configureCssProps(),this.resize(t))},t.prototype.vertical=function(){this.toggleOrientation(!0)},t.prototype.horizontal=function(){this.toggleOrientation(!1)},t.prototype.setCollapsedLabel=function(n){var i=this,t;this.handleBar.children(":not(.handleBar-hitTarget)").remove();n&&(t=$(h("div","handlebar-label")).prependTo(this.handleBar).attr("title",n).bind("mousedown",function(n){i.toggleExpanded(!0);n.preventDefault();n.stopPropagation()}),$(h("span","handlebar-label-text")).appendTo(t).text(n))},t.prototype._createElement=function(){n.prototype._createElement.call(this);this._options.vertical===!1?this.getElement().addClass(o.HORIZONTAL_CLASS):this.getElement().addClass(o.VERTICAL_CLASS);this._options.expandState&&(this.expandState=this._options.expandState,this.getElement().addClass(this.expandState==="left"?"left-expand":"right-expand"));this._options.fixedSide==="right"&&this.getElement().addClass("right-fix");this.leftPane=$(h("div","leftPane")).appendTo(this.getElement());this.handleBar=$(h("div","handleBar")).appendTo(this.getElement());this.rightPane=$(h("div","rightPane")).appendTo(this.getElement());this.handleBar.append(h("div","handleBar-hitTarget"));this._options.collapsedLabel&&this.setCollapsedLabel(this._options.collapsedLabel)},t.prototype._configureCssProps=function(){var n=this._leftFix=this._options.fixedSide==="left";n?(this._deltaMultiplier=1,this._fixedSide=this.leftPane,this._fillSide=this.rightPane):(this._deltaMultiplier=-1,this._fixedSide=this.rightPane,this._fillSide=this.leftPane);this._options.vertical===!1?(this._screenXY="pageX",this._cssSizeProp="width",this._cssPosProp=n?"left":"right"):(this._screenXY="pageY",this._cssSizeProp="height",this._cssPosProp=n?"top":"bottom");this._isCollapsed()&&(this.expandState=this._options.fixedSide==="left"?"right":"left")},t.prototype._attachEvents=function(){var n=this;this._bind(this.handleBar,"mousedown",s(this,this._handleBarMouseDown));this._bind(this.handleBar,"dblclick",s(this,this._handleBarDoubleClick));this._bind(this.handleBar,"mouseover",function(){n.handleBar.addClass("hover")});this._bind(this.handleBar,"mouseout",function(){n.handleBar.removeClass("hover")});this._bind(this.handleBar,"selectstart",function(){return!1});e.attachResize(this.getElement(),s(this,this._onWindowResize))},t.prototype._ensureToggleButton=function(){var n;this._$toggleButton||(n=this.getElement().find(".toggle-button"),n.length>0?this._$toggleButton=n:(this._$toggleButtonIcon=$("<span>").addClass("bowtie-icon"),this._$toggleButton=$("<a>").addClass("toggle-button").attr({href:"#",role:"button"}).append(this._$toggleButtonIcon).insertAfter(this.getElement().children(".handleBar"))),this._setToggleButtonTooltip(),this._layoutToggleButton(),this._$toggleButton.click(s(this,this._onToggleButtonClick)))},t.prototype._layoutToggleButton=function(n){var t,i,r=this.isExpanded();this._$toggleButton&&(r?(this._measureFixedSide(),t=this._fixedSidePixels-(o.TOGGLE_BUTTON_MARGIN+o.TOGGLE_BUTTON_LENGTH)):t=o.TOGGLE_BUTTON_MARGIN,this._$toggleButtonIcon&&this._setToggleButtonIconClass(r),n?(i=this._createAnimationOption(this._cssPosProp,t+"px"),this._$toggleButton.animate(i,this._options.animationSpeed||o.DEFAULT_ANIMATION_SPEED)):this._$toggleButton.css(this._cssPosProp,t))},t.prototype._setToggleButtonIconClass=function(n){var t="bowtie-icon ";t+=this._options.vertical?n?"bowtie-chevron-up":"bowtie-chevron-down":n?"bowtie-chevron-left":"bowtie-chevron-right";this._$toggleButtonIcon.removeClass().addClass(t)},t.prototype._setToggleButtonTooltip=function(){this._$toggleButton&&(this._isCollapsed()?(this._$toggleButton.attr("title",u.ExpandSplitterTooltip),this._$toggleButton.attr("aria-expanded","false")):(this._$toggleButton.attr("title",u.CollapseSplitterTooltip),this._$toggleButton.attr("aria-expanded","true")))},t.prototype._measureFixedSide=function(){this._fixedSidePixels=this._cssSizeProp==="width"?this._fixedSide.outerWidth():this._fixedSide.outerHeight()},t.prototype._handleBarMouseDown=function(n){n.preventDefault();this._dragStart={pointer:n[this._screenXY],originalSize:this._isCollapsed()?n[this._screenXY]:this._fixedSide[this._cssSizeProp]()};this.getElement().addClass("dragging");this._ensureHandleBarClone();this._setupDragEvents();this._ensureOverlay()},t.prototype._isToggleButtonEnabled=function(){return this.getElement().hasClass(o.TOGGLE_BUTTON_ENABLED_CLASS_NAME)},t.prototype._isToggleButtonHotkeyEnabled=function(){return this.getElement().hasClass(o.TOGGLE_BUTTON_HOTKEY_ENABLED_CLASS_NAME)},t.prototype._isCollapsed=function(){return this.getElement().hasClass(o.COLLAPSED_CLASS_NAME)},t.prototype._onDocumentKeyup=function(n){if(n.ctrlKey&&n.altKey&&n.keyCode===e.KeyCode.SPACE&&this._isToggleButtonHotkeyEnabled())return this.toggleExpanded(),!1},t.prototype._onToggleButtonClick=function(n){return this.toggleExpanded(),!1},t.prototype._ensureHandleBarClone=function(){this._$handleBarClone||(this._$handleBarClone=$("<div>").addClass("handleBar-clone").css(this._cssPosProp,this._dragStart.originalSize+"px").css(this._cssSizeProp,o.HANDLE_BAR_CLONE_SIZE).appendTo(this.getElement()))},t.prototype._removeHandleBarClone=function(){this._$handleBarClone&&(this._$handleBarClone.remove(),this._$handleBarClone=null)},t.prototype._setupDragEvents=function(){this._bind(window.document,"mousemove",s(this,this._documentMouseMove),!0);this._bind(window.document,"mouseup",s(this,this._documentMouseUp),!0)},t.prototype._ensureOverlay=function(){this._splitterOverlay||(this._splitterOverlay=$(h("div","overlay")),this.getElement().append(this._splitterOverlay),this._bind(this._splitterOverlay,"mousemove",s(this,this._documentMouseMove)),this._bind(this._splitterOverlay,"mouseup",s(this,this._documentMouseUp)),this._bind(this._splitterOverlay,"selectstart",function(){return!1}))},t.prototype._removeOverlay=function(){this._splitterOverlay&&(this._splitterOverlay.remove(),this._splitterOverlay=null)},t.prototype._clearDragEvents=function(){this._removeOverlay();this._unbind(window.document,"mousemove");this._unbind(window.document,"mouseup")},t.prototype._documentMouseMove=function(n){var t;if(this._dragStart)return t=n[this._screenXY]-this._dragStart.pointer,t&&this._ensureOverlay(),this._ensureHandleBarClone(),this._$handleBarClone.css(this._cssPosProp,+(this._dragStart.originalSize+this._deltaMultiplier*t)+"px"),!1},t.prototype._documentMouseUp=function(n){var i,r,t;if(this._dragStart)return i=n[this._screenXY]-this._dragStart.pointer,Math.abs(i)>1&&(r=!0,t=this._dragStart.originalSize+this._deltaMultiplier*i,this._minWidth&&this._minWidth>0&&this._minWidth>t&&(t=this._minWidth),this._maxWidth&&t>this._maxWidth&&(t=this._maxWidth),this._isToggleButtonEnabled()&&t<=o.AUTO_COLLAPSE_THRESHOLD?this.toggleExpanded(!1):(this.expandState&&this.removeExpand(!0),this.resize(t))),this._dragStart=null,this.getElement().removeClass("dragging"),this._removeHandleBarClone(),this._clearDragEvents(),r&&this._fire("changed",this),!1},t.prototype._onWindowResize=function(){this._ignoreWindowResize||this.expandState||this.resize(this._fixedSidePixels,!0)},t.prototype._fireWindowResize=function(){try{this._ignoreWindowResize=!0;$(window).trigger("resize")}finally{this._ignoreWindowResize=!1}},t.prototype.attachResize=function(n){this._ignoreWindowResize=!1;n&&this._onWindowResize()},t.prototype.detachResize=function(){this._ignoreWindowResize=!0},t.prototype._createAnimationOption=function(n,t){var i={};return i[n]=t,i},t.prototype._handleBarDoubleClick=function(){this.toggleExpanded()},t.prototype._dispose=function(){n.prototype._dispose.call(this);e.detachResize(this.getElement())},t.enhancementTypeName="tfs.splitter",t._noSplitCssClass="no-split",t.CORE_CSS_CLASS="splitter",t.HORIZONTAL_CLASS="horizontal",t.VERTICAL_CLASS="vertical",t.TOGGLE_BUTTON_LENGTH=16,t.TOGGLE_BUTTON_MARGIN=2,t.COLLAPSED_CLASS_NAME="collapsed",t.TOGGLE_BUTTON_ENABLED_CLASS_NAME="toggle-button-enabled",t.TOGGLE_BUTTON_HOTKEY_ENABLED_CLASS_NAME="toggle-button-hotkey-enabled",t.AUTO_COLLAPSE_THRESHOLD=20,t.DEFAULT_ANIMATION_SPEED=800,t.HANDLE_BAR_CLONE_SIZE=5,t}(i.Control),o;t.SplitterO=c;o=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(c);t.Splitter=o;i.Enhancement.registerJQueryWidget(o,o.CORE_CSS_CLASS);i.Enhancement.registerEnhancement(o,"."+o.CORE_CSS_CLASS)});
define("Presentation/Scripts/TFS/TFS.UI.Controls.Accessories",["require","exports","VSS/Context","VSS/Controls","VSS/Diag","VSS/Service","VSS/Settings/RestClient","VSS/Controls/Splitter","VSS/Utils/Core","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h){var c=function(n){function t(t){n.call(this,t);this._splitter=null;this._isExpanded=null;this._settingPath=null;this._canSaveState()&&(this._settingPath=t.settingPath)}return __extends(t,n),t.prototype._canSaveState=function(){return!!i.getDefaultWebContext().collection},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._splitter=r.Enhancement.ensureEnhancement(o.Splitter,this._element);this._canSaveState()&&this._bind("changed",s.delegate(this,this._onSplitterChanged))},t.prototype._onSplitterChanged=function(n,t){var h,u;if(t===this._splitter){var i=this._splitter.isExpanded(),r=this._splitter.getFixedSidePixels(),o=this._isExpanded===null||i!==this._isExpanded,s=this._size===null||this._size!==r;(o||s)&&(h={size:r,expanded:i},s&&(this._size=r),o&&(this._isExpanded=i),u={},u[this._settingPath]=h,this.delayExecute("saveSettings",500,!0,function(){var n=f.getClient(e.SettingsHttpClient,undefined,undefined,undefined,{showProgressIndicator:!1});n.setEntries(u,"me")}))}},t}(r.Enhancement);t.StatefulSplitterEnhancement=c;r.Enhancement.registerEnhancement(c,"."+o.Splitter.CORE_CSS_CLASS+".stateful");h.tfsModuleLoaded("TFS.UI.Controls.Accessories",t)});
define("VSS/Error",["require","exports","VSS/Context","VSS/Common/Constants/Platform","VSS/FeatureAvailability/Services","VSS/Telemetry/Services","VSS/VSS"],function(n,t,i,r,u,f,e){function o(n,t){t===void 0&&(t=!1);var r=i.getPageContext(),u=window.location.href,e=window.navigator.userAgent,o=r&&r.diagnostics&&r.diagnostics.sessionId||"",s={url:u,userAgent:e,sessionId:o,errorType:n.errorType,errorName:n.name,errorMessage:n.message,errorResponse:n.response,errorStack:n.stack,source:n.source||"",lineNumber:n.lineNumber||"",columnNumber:n.columnNumber||""},h=r&&r.navigation&&r.navigation.area||"DefaultArea",c=r&&r.navigation&&r.navigation.currentController||"Home",l=r&&r.navigation&&r.navigation.currentAction||"Index";f.publishEvent(new f.TelemetryEventData(h+"."+c,l,s),t)}var s=function(){function n(){}return n.prototype.publishError=function(t){n.featureEnabled()&&n._numReportedErrors<n._maxNumberOfReportedError&&(o(t,!1),n._numReportedErrors++)},n.featureEnabled=function(){return n._featureEnabled===null&&(n._featureEnabled=u.FeatureAvailabilityService.isFeatureEnabled(r.WebPlatformFeatureFlags.ClientSideErrorLogging,!1)),n._featureEnabled},n._maxNumberOfReportedError=3,n._numReportedErrors=0,n._featureEnabled=null,n}();t.publishErrorToTelemetry=o;e.errorHandler.attachErrorPublisher(new s);e.tfsModuleLoaded("VSS.Error",t)});
define("VSS/Contributions/PageEvents",["require","exports","VSS/Contributions/Services","VSS/Events/Page","VSS/SDK/Shim","VSS/Service","VSS/VSS"],function(n,t,i,r,u,f,e){var o=function(){function n(){var n=this;this._firedEvents=[];this._firedEventArgs={};this._notifiedSubscriptions={};r.getService().subscribe("*",function(t){n._eventFired(t.name,t.args)})}return n.start=function(){return new n},n.prototype._getSubscriptions=function(){return this._subscriptionsPromise||(this._subscriptionsPromise=f.getService(i.ExtensionService).getLoadedContributionsOfType("ms.vss-web.page-event-subscription")),this._subscriptionsPromise},n.prototype._getSubscriptionId=function(n){var t=n.properties.content||{};return t.initialize||n.id},n.prototype._getSubscriptionModules=function(n){var t=n.properties.content||{};return t.require},n.prototype._isReadyToNotify=function(n){n=n||[];var t=this._firedEvents||[];return n.length===0||t.length===0?!1:n.every(function(n){return t.indexOf(n)>=0})},n.prototype._notifySubscriptions=function(n,t,r){for(var l,h=this,a=function(n){var h,s,t;i.ExtensionHelper.hasInternalContent(n)&&(h=n.properties.events,f._isReadyToNotify(h)&&(o=f._getSubscriptionModules(n),o&&(s=f._getSubscriptionId(n),f._notifiedSubscriptions[s]=!0,t=n.properties.bundleExcludeOptions,isNaN(t)&&(t=e.DynamicModuleExcludeOptions.CommonModules),e.requireModules(o,{excludeOptions:t}).then(function(){u.VSS.getRegisteredObject(s,r)}))))},f=this,o,s=0,c=n.filter(function(n){return h._notifiedSubscriptions[h._getSubscriptionId(n)]!==!0});s<c.length;s++)l=c[s],a(l)},n.prototype._eventFired=function(n,t){var i=this;this._getSubscriptions().then(function(r){var u=i._firedEvents,f=i._firedEventArgs;u.indexOf(n)<0&&(u.push(n),$.extend(f,t),i._notifySubscriptions(r,u,f))})},n}();o.start()});
if (window.performance && window.performance.mark) { window.performance.mark('endLoadBundleInner-common'); }